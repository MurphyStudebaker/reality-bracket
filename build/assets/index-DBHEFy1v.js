function Hg(s,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in s)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(s,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Kg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Il={exports:{}},Qs={},Ll={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function Gg(){if(Nh)return Ce;Nh=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function E(R,U,X){this.props=R,this.context=U,this.refs=_,this.updater=X||b}E.prototype.isReactComponent={},E.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function P(){}P.prototype=E.prototype;function S(R,U,X){this.props=R,this.context=U,this.refs=_,this.updater=X||b}var O=S.prototype=new P;O.constructor=S,C(O,E.prototype),O.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,G={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function F(R,U,X){var oe,_e={},be=null,he=null;if(U!=null)for(oe in U.ref!==void 0&&(he=U.ref),U.key!==void 0&&(be=""+U.key),U)M.call(U,oe)&&!H.hasOwnProperty(oe)&&(_e[oe]=U[oe]);var K=arguments.length-2;if(K===1)_e.children=X;else if(1<K){for(var ke=Array(K),Fe=0;Fe<K;Fe++)ke[Fe]=arguments[Fe+2];_e.children=ke}if(R&&R.defaultProps)for(oe in K=R.defaultProps,K)_e[oe]===void 0&&(_e[oe]=K[oe]);return{$$typeof:s,type:R,key:be,ref:he,props:_e,_owner:G.current}}function z(R,U){return{$$typeof:s,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function de(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function ae(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return U[X]})}var le=/\/+/g;function Re(R,U){return typeof R=="object"&&R!==null&&R.key!=null?ae(""+R.key):U.toString(36)}function te(R,U,X,oe,_e){var be=typeof R;(be==="undefined"||be==="boolean")&&(R=null);var he=!1;if(R===null)he=!0;else switch(be){case"string":case"number":he=!0;break;case"object":switch(R.$$typeof){case s:case t:he=!0}}if(he)return he=R,_e=_e(he),R=oe===""?"."+Re(he,0):oe,D(_e)?(X="",R!=null&&(X=R.replace(le,"$&/")+"/"),te(_e,U,X,"",function(Fe){return Fe})):_e!=null&&(de(_e)&&(_e=z(_e,X+(!_e.key||he&&he.key===_e.key?"":(""+_e.key).replace(le,"$&/")+"/")+R)),U.push(_e)),1;if(he=0,oe=oe===""?".":oe+":",D(R))for(var K=0;K<R.length;K++){be=R[K];var ke=oe+Re(be,K);he+=te(be,U,X,ke,_e)}else if(ke=w(R),typeof ke=="function")for(R=ke.call(R),K=0;!(be=R.next()).done;)be=be.value,ke=oe+Re(be,K++),he+=te(be,U,X,ke,_e);else if(be==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return he}function Q(R,U,X){if(R==null)return R;var oe=[],_e=0;return te(R,oe,"","",function(be){return U.call(X,be,_e++)}),oe}function pe(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var fe={current:null},$={transition:null},Z={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:$,ReactCurrentOwner:G};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Q,forEach:function(R,U,X){Q(R,function(){U.apply(this,arguments)},X)},count:function(R){var U=0;return Q(R,function(){U++}),U},toArray:function(R){return Q(R,function(U){return U})||[]},only:function(R){if(!de(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ce.Component=E,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=S,Ce.StrictMode=o,Ce.Suspense=m,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ce.act=J,Ce.cloneElement=function(R,U,X){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var oe=C({},R.props),_e=R.key,be=R.ref,he=R._owner;if(U!=null){if(U.ref!==void 0&&(be=U.ref,he=G.current),U.key!==void 0&&(_e=""+U.key),R.type&&R.type.defaultProps)var K=R.type.defaultProps;for(ke in U)M.call(U,ke)&&!H.hasOwnProperty(ke)&&(oe[ke]=U[ke]===void 0&&K!==void 0?K[ke]:U[ke])}var ke=arguments.length-2;if(ke===1)oe.children=X;else if(1<ke){K=Array(ke);for(var Fe=0;Fe<ke;Fe++)K[Fe]=arguments[Fe+2];oe.children=K}return{$$typeof:s,type:R.type,key:_e,ref:be,props:oe,_owner:he}},Ce.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Ce.createElement=F,Ce.createFactory=function(R){var U=F.bind(null,R);return U.type=R,U},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(R){return{$$typeof:f,render:R}},Ce.isValidElement=de,Ce.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:pe}},Ce.memo=function(R,U){return{$$typeof:g,type:R,compare:U===void 0?null:U}},Ce.startTransition=function(R){var U=$.transition;$.transition={};try{R()}finally{$.transition=U}},Ce.unstable_act=J,Ce.useCallback=function(R,U){return fe.current.useCallback(R,U)},Ce.useContext=function(R){return fe.current.useContext(R)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(R){return fe.current.useDeferredValue(R)},Ce.useEffect=function(R,U){return fe.current.useEffect(R,U)},Ce.useId=function(){return fe.current.useId()},Ce.useImperativeHandle=function(R,U,X){return fe.current.useImperativeHandle(R,U,X)},Ce.useInsertionEffect=function(R,U){return fe.current.useInsertionEffect(R,U)},Ce.useLayoutEffect=function(R,U){return fe.current.useLayoutEffect(R,U)},Ce.useMemo=function(R,U){return fe.current.useMemo(R,U)},Ce.useReducer=function(R,U,X){return fe.current.useReducer(R,U,X)},Ce.useRef=function(R){return fe.current.useRef(R)},Ce.useState=function(R){return fe.current.useState(R)},Ce.useSyncExternalStore=function(R,U,X){return fe.current.useSyncExternalStore(R,U,X)},Ce.useTransition=function(){return fe.current.useTransition()},Ce.version="18.3.1",Ce}var Ch;function Uo(){return Ch||(Ch=1,Ll.exports=Gg()),Ll.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function Jg(){if(Th)return Qs;Th=1;var s=Uo(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,g){var y,x={},w=null,b=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(b=m.ref);for(y in m)o.call(m,y)&&!c.hasOwnProperty(y)&&(x[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:t,type:f,key:w,ref:b,props:x,_owner:a.current}}return Qs.Fragment=n,Qs.jsx=d,Qs.jsxs=d,Qs}var Rh;function Qg(){return Rh||(Rh=1,Il.exports=Jg()),Il.exports}var u=Qg(),yo={},Dl={exports:{}},Pt={},Fl={exports:{}},$l={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function Yg(){return Oh||(Oh=1,(function(s){function t($,Z){var J=$.length;$.push(Z);e:for(;0<J;){var R=J-1>>>1,U=$[R];if(0<a(U,Z))$[R]=Z,$[J]=U,J=R;else break e}}function n($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var Z=$[0],J=$.pop();if(J!==Z){$[0]=J;e:for(var R=0,U=$.length,X=U>>>1;R<X;){var oe=2*(R+1)-1,_e=$[oe],be=oe+1,he=$[be];if(0>a(_e,J))be<U&&0>a(he,_e)?($[R]=he,$[be]=J,R=be):($[R]=_e,$[oe]=J,R=oe);else if(be<U&&0>a(he,J))$[R]=he,$[be]=J,R=be;else break e}}return Z}function a($,Z){var J=$.sortIndex-Z.sortIndex;return J!==0?J:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();s.unstable_now=function(){return d.now()-f}}var m=[],g=[],y=1,x=null,w=3,b=!1,C=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O($){for(var Z=n(g);Z!==null;){if(Z.callback===null)o(g);else if(Z.startTime<=$)o(g),Z.sortIndex=Z.expirationTime,t(m,Z);else break;Z=n(g)}}function D($){if(_=!1,O($),!C)if(n(m)!==null)C=!0,pe(M);else{var Z=n(g);Z!==null&&fe(D,Z.startTime-$)}}function M($,Z){C=!1,_&&(_=!1,P(F),F=-1),b=!0;var J=w;try{for(O(Z),x=n(m);x!==null&&(!(x.expirationTime>Z)||$&&!ae());){var R=x.callback;if(typeof R=="function"){x.callback=null,w=x.priorityLevel;var U=R(x.expirationTime<=Z);Z=s.unstable_now(),typeof U=="function"?x.callback=U:x===n(m)&&o(m),O(Z)}else o(m);x=n(m)}if(x!==null)var X=!0;else{var oe=n(g);oe!==null&&fe(D,oe.startTime-Z),X=!1}return X}finally{x=null,w=J,b=!1}}var G=!1,H=null,F=-1,z=5,de=-1;function ae(){return!(s.unstable_now()-de<z)}function le(){if(H!==null){var $=s.unstable_now();de=$;var Z=!0;try{Z=H(!0,$)}finally{Z?Re():(G=!1,H=null)}}else G=!1}var Re;if(typeof S=="function")Re=function(){S(le)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Q=te.port2;te.port1.onmessage=le,Re=function(){Q.postMessage(null)}}else Re=function(){E(le,0)};function pe($){H=$,G||(G=!0,Re())}function fe($,Z){F=E(function(){$(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){C||b||(C=!0,pe(M))},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function($){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var J=w;w=Z;try{return $()}finally{w=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=w;w=$;try{return Z()}finally{w=J}},s.unstable_scheduleCallback=function($,Z,J){var R=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?R+J:R):J=R,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,$={id:y++,callback:Z,priorityLevel:$,startTime:J,expirationTime:U,sortIndex:-1},J>R?($.sortIndex=J,t(g,$),n(m)===null&&$===n(g)&&(_?(P(F),F=-1):_=!0,fe(D,J-R))):($.sortIndex=U,t(m,$),C||b||(C=!0,pe(M))),$},s.unstable_shouldYield=ae,s.unstable_wrapCallback=function($){var Z=w;return function(){var J=w;w=Z;try{return $.apply(this,arguments)}finally{w=J}}}})($l)),$l}var Ph;function Xg(){return Ph||(Ph=1,Fl.exports=Yg()),Fl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function Zg(){if(Ah)return Pt;Ah=1;var s=Uo(),t=Xg();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(a[e]=r,e=0;e<r.length;e++)o.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function w(e){return m.call(x,e)?!0:m.call(y,e)?!1:g.test(e)?x[e]=!0:(y[e]=!0,!1)}function b(e,r,i,l){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,r,i,l){if(r===null||typeof r>"u"||b(e,r,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function _(e,r,i,l,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];E[r]=new _(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(P,S);E[r]=new _(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(P,S);E[r]=new _(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(P,S);E[r]=new _(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,r,i,l){var h=E.hasOwnProperty(r)?E[r]:null;(h!==null?h.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(C(r,i,h,l)&&(i=null),l||h===null?w(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(r=h.attributeName,l=h.attributeNamespace,i===null?e.removeAttribute(r):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,l?e.setAttributeNS(l,r,i):e.setAttribute(r,i))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),G=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),ae=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),$=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,R;function U(e){if(R===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return`
`+R+e}var X=!1;function oe(e,r){if(!e||X)return"";X=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var l=L}Reflect.construct(e,[],r)}else{try{r.call()}catch(L){l=L}e.call(r.prototype)}else{try{throw Error()}catch(L){l=L}e()}}catch(L){if(L&&l&&typeof L.stack=="string"){for(var h=L.stack.split(`
`),p=l.stack.split(`
`),v=h.length-1,k=p.length-1;1<=v&&0<=k&&h[v]!==p[k];)k--;for(;1<=v&&0<=k;v--,k--)if(h[v]!==p[k]){if(v!==1||k!==1)do if(v--,k--,0>k||h[v]!==p[k]){var j=`
`+h[v].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=v&&0<=k);break}}}finally{X=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?U(e):""}function _e(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function be(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case G:return"Portal";case z:return"Profiler";case F:return"StrictMode";case Re:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ae:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case le:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return r=e.displayName||null,r!==null?r:be(e.type)||"Memo";case pe:r=e._payload,e=e._init;try{return be(e(r))}catch{}}return null}function he(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(r);case 8:return r===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fe(e){var r=ke(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,p=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function At(e){e._valueTracker||(e._valueTracker=Fe(e))}function Ee(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),l="";return e&&(l=ke(e)?e.checked?"true":"false":e.value),e=l,e!==i?(r.setValue(e),!0):!1}function $e(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function He(e,r){var i=r.checked;return J({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ae(e,r){var i=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;i=K(r.value!=null?r.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Se(e,r){r=r.checked,r!=null&&O(e,"checked",r,!1)}function Te(e,r){Se(e,r);var i=K(r.value),l=r.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Ue(e,r.type,i):r.hasOwnProperty("defaultValue")&&Ue(e,r.type,K(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Me(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ue(e,r,i){(r!=="number"||$e(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var pt=Array.isArray;function It(e,r,i,l){if(e=e.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=r.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+K(i),r=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function et(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ut(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(n(92));if(pt(i)){if(1<i.length)throw Error(n(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:K(i)}}function zt(e,r){var i=K(r.value),l=K(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function ds(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function hs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kn(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?hs(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mt,Vt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,l,h){MSApp.execUnsafeLocalFunction(function(){return e(r,i,l,h)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=mt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function mr(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var en={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(en).forEach(function(e){fs.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),en[r]=en[e]})});function zc(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||en.hasOwnProperty(e)&&en[e]?(""+r).trim():r+"px"}function Vc(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var l=i.indexOf("--")===0,h=zc(i,r[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,h):e[i]=h}}var Yp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(e,r){if(r){if(Yp[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Ko(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,Sn=null,En=null;function Wc(e){if(e=Ls(e)){if(typeof Qo!="function")throw Error(n(280));var r=e.stateNode;r&&(r=Pi(r),Qo(e.stateNode,e.type,r))}}function qc(e){Sn?En?En.push(e):En=[e]:Sn=e}function Hc(){if(Sn){var e=Sn,r=En;if(En=Sn=null,Wc(e),r)for(e=0;e<r.length;e++)Wc(r[e])}}function Kc(e,r){return e(r)}function Gc(){}var Yo=!1;function Jc(e,r,i){if(Yo)return e(r,i);Yo=!0;try{return Kc(e,r,i)}finally{Yo=!1,(Sn!==null||En!==null)&&(Gc(),Hc())}}function ps(e,r){var i=e.stateNode;if(i===null)return null;var l=Pi(i);if(l===null)return null;i=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,r,typeof i));return i}var Xo=!1;if(f)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Xo=!1}function Xp(e,r,i,l,h,p,v,k,j){var L=Array.prototype.slice.call(arguments,3);try{r.apply(i,L)}catch(V){this.onError(V)}}var gs=!1,ui=null,di=!1,Zo=null,Zp={onError:function(e){gs=!0,ui=e}};function em(e,r,i,l,h,p,v,k,j){gs=!1,ui=null,Xp.apply(Zp,arguments)}function tm(e,r,i,l,h,p,v,k,j){if(em.apply(this,arguments),gs){if(gs){var L=ui;gs=!1,ui=null}else throw Error(n(198));di||(di=!0,Zo=L)}}function tn(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function Qc(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Yc(e){if(tn(e)!==e)throw Error(n(188))}function rm(e){var r=e.alternate;if(!r){if(r=tn(e),r===null)throw Error(n(188));return r!==e?null:e}for(var i=e,l=r;;){var h=i.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===i)return Yc(h),e;if(p===l)return Yc(h),r;p=p.sibling}throw Error(n(188))}if(i.return!==l.return)i=h,l=p;else{for(var v=!1,k=h.child;k;){if(k===i){v=!0,i=h,l=p;break}if(k===l){v=!0,l=h,i=p;break}k=k.sibling}if(!v){for(k=p.child;k;){if(k===i){v=!0,i=p,l=h;break}if(k===l){v=!0,l=p,i=h;break}k=k.sibling}if(!v)throw Error(n(189))}}if(i.alternate!==l)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:r}function Xc(e){return e=rm(e),e!==null?Zc(e):null}function Zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Zc(e);if(r!==null)return r;e=e.sibling}return null}var eu=t.unstable_scheduleCallback,tu=t.unstable_cancelCallback,nm=t.unstable_shouldYield,sm=t.unstable_requestPaint,tt=t.unstable_now,im=t.unstable_getCurrentPriorityLevel,ea=t.unstable_ImmediatePriority,ru=t.unstable_UserBlockingPriority,hi=t.unstable_NormalPriority,om=t.unstable_LowPriority,nu=t.unstable_IdlePriority,fi=null,ur=null;function am(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:um,lm=Math.log,cm=Math.LN2;function um(e){return e>>>=0,e===0?32:31-(lm(e)/cm|0)|0}var pi=64,mi=4194304;function vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,r){var i=e.pendingLanes;if(i===0)return 0;var l=0,h=e.suspendedLanes,p=e.pingedLanes,v=i&268435455;if(v!==0){var k=v&~h;k!==0?l=vs(k):(p&=v,p!==0&&(l=vs(p)))}else v=i&~h,v!==0?l=vs(v):p!==0&&(l=vs(p));if(l===0)return 0;if(r!==0&&r!==l&&(r&h)===0&&(h=l&-l,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((l&4)!==0&&(l|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)i=31-Yt(r),h=1<<i,l|=e[i],r&=~h;return l}function dm(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hm(e,r){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var v=31-Yt(p),k=1<<v,j=h[v];j===-1?((k&i)===0||(k&l)!==0)&&(h[v]=dm(k,r)):j<=r&&(e.expiredLanes|=k),p&=~k}}function ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function su(){var e=pi;return pi<<=1,(pi&4194240)===0&&(pi=64),e}function ra(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function ys(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Yt(r),e[r]=i}function fm(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Yt(i),p=1<<h;r[h]=0,l[h]=-1,e[h]=-1,i&=~p}}function na(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var l=31-Yt(i),h=1<<l;h&r|e[l]&r&&(e[l]|=r),i&=~h}}var Le=0;function iu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ou,sa,au,lu,cu,ia=!1,vi=[],Or=null,Pr=null,Ar=null,ws=new Map,xs=new Map,Ir=[],pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,r){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ws.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(r.pointerId)}}function bs(e,r,i,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:i,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ls(r),r!==null&&sa(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function mm(e,r,i,l,h){switch(r){case"focusin":return Or=bs(Or,e,r,i,l,h),!0;case"dragenter":return Pr=bs(Pr,e,r,i,l,h),!0;case"mouseover":return Ar=bs(Ar,e,r,i,l,h),!0;case"pointerover":var p=h.pointerId;return ws.set(p,bs(ws.get(p)||null,e,r,i,l,h)),!0;case"gotpointercapture":return p=h.pointerId,xs.set(p,bs(xs.get(p)||null,e,r,i,l,h)),!0}return!1}function du(e){var r=rn(e.target);if(r!==null){var i=tn(r);if(i!==null){if(r=i.tag,r===13){if(r=Qc(i),r!==null){e.blockedOn=r,cu(e.priority,function(){au(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=aa(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Go=l,i.target.dispatchEvent(l),Go=null}else return r=Ls(i),r!==null&&sa(r),e.blockedOn=i,!1;r.shift()}return!0}function hu(e,r,i){yi(e)&&i.delete(r)}function gm(){ia=!1,Or!==null&&yi(Or)&&(Or=null),Pr!==null&&yi(Pr)&&(Pr=null),Ar!==null&&yi(Ar)&&(Ar=null),ws.forEach(hu),xs.forEach(hu)}function _s(e,r){e.blockedOn===r&&(e.blockedOn=null,ia||(ia=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gm)))}function ks(e){function r(h){return _s(h,e)}if(0<vi.length){_s(vi[0],e);for(var i=1;i<vi.length;i++){var l=vi[i];l.blockedOn===e&&(l.blockedOn=null)}}for(Or!==null&&_s(Or,e),Pr!==null&&_s(Pr,e),Ar!==null&&_s(Ar,e),ws.forEach(r),xs.forEach(r),i=0;i<Ir.length;i++)l=Ir[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Ir.length&&(i=Ir[0],i.blockedOn===null);)du(i),i.blockedOn===null&&Ir.shift()}var jn=D.ReactCurrentBatchConfig,wi=!0;function vm(e,r,i,l){var h=Le,p=jn.transition;jn.transition=null;try{Le=1,oa(e,r,i,l)}finally{Le=h,jn.transition=p}}function ym(e,r,i,l){var h=Le,p=jn.transition;jn.transition=null;try{Le=4,oa(e,r,i,l)}finally{Le=h,jn.transition=p}}function oa(e,r,i,l){if(wi){var h=aa(e,r,i,l);if(h===null)Sa(e,r,l,xi,i),uu(e,l);else if(mm(h,e,r,i,l))l.stopPropagation();else if(uu(e,l),r&4&&-1<pm.indexOf(e)){for(;h!==null;){var p=Ls(h);if(p!==null&&ou(p),p=aa(e,r,i,l),p===null&&Sa(e,r,l,xi,i),p===h)break;h=p}h!==null&&l.stopPropagation()}else Sa(e,r,l,null,i)}}var xi=null;function aa(e,r,i,l){if(xi=null,e=Jo(l),e=rn(e),e!==null)if(r=tn(e),r===null)e=null;else if(i=r.tag,i===13){if(e=Qc(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return xi=e,null}function fu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(im()){case ea:return 1;case ru:return 4;case hi:case om:return 16;case nu:return 536870912;default:return 16}default:return 16}}var Lr=null,la=null,bi=null;function pu(){if(bi)return bi;var e,r=la,i=r.length,l,h="value"in Lr?Lr.value:Lr.textContent,p=h.length;for(e=0;e<i&&r[e]===h[e];e++);var v=i-e;for(l=1;l<=v&&r[i-l]===h[p-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function _i(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function mu(){return!1}function Lt(e){function r(i,l,h,p,v){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(i=e[k],this[k]=i?i(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ki:mu,this.isPropagationStopped=mu,this}return J(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),r}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Lt(Nn),Ss=J({},Nn,{view:0,detail:0}),wm=Lt(Ss),ua,da,Es,Si=J({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(ua=e.screenX-Es.screenX,da=e.screenY-Es.screenY):da=ua=0,Es=e),ua)},movementY:function(e){return"movementY"in e?e.movementY:da}}),gu=Lt(Si),xm=J({},Si,{dataTransfer:0}),bm=Lt(xm),_m=J({},Ss,{relatedTarget:0}),ha=Lt(_m),km=J({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sm=Lt(km),Em=J({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jm=Lt(Em),Nm=J({},Nn,{data:0}),vu=Lt(Nm),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Rm[e])?!!r[e]:!1}function fa(){return Om}var Pm=J({},Ss,{key:function(e){if(e.key){var r=Cm[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Am=Lt(Pm),Im=J({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Lt(Im),Lm=J({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Dm=Lt(Lm),Fm=J({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$m=Lt(Fm),Um=J({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=Lt(Um),Bm=[9,13,27,32],pa=f&&"CompositionEvent"in window,js=null;f&&"documentMode"in document&&(js=document.documentMode);var zm=f&&"TextEvent"in window&&!js,wu=f&&(!pa||js&&8<js&&11>=js),xu=" ",bu=!1;function _u(e,r){switch(e){case"keyup":return Bm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Vm(e,r){switch(e){case"compositionend":return ku(r);case"keypress":return r.which!==32?null:(bu=!0,xu);case"textInput":return e=r.data,e===xu&&bu?null:e;default:return null}}function Wm(e,r){if(Cn)return e==="compositionend"||!pa&&_u(e,r)?(e=pu(),bi=la=Lr=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wu&&r.locale!=="ko"?null:r.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!qm[e.type]:r==="textarea"}function Eu(e,r,i,l){qc(l),r=Ti(r,"onChange"),0<r.length&&(i=new ca("onChange","change",null,i,l),e.push({event:i,listeners:r}))}var Ns=null,Cs=null;function Hm(e){Vu(e,0)}function Ei(e){var r=An(e);if(Ee(r))return e}function Km(e,r){if(e==="change")return r}var ju=!1;if(f){var ma;if(f){var ga="oninput"in document;if(!ga){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),ga=typeof Nu.oninput=="function"}ma=ga}else ma=!1;ju=ma&&(!document.documentMode||9<document.documentMode)}function Cu(){Ns&&(Ns.detachEvent("onpropertychange",Tu),Cs=Ns=null)}function Tu(e){if(e.propertyName==="value"&&Ei(Cs)){var r=[];Eu(r,Cs,e,Jo(e)),Jc(Hm,r)}}function Gm(e,r,i){e==="focusin"?(Cu(),Ns=r,Cs=i,Ns.attachEvent("onpropertychange",Tu)):e==="focusout"&&Cu()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(Cs)}function Qm(e,r){if(e==="click")return Ei(r)}function Ym(e,r){if(e==="input"||e==="change")return Ei(r)}function Xm(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Xt=typeof Object.is=="function"?Object.is:Xm;function Ts(e,r){if(Xt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),l=Object.keys(r);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!m.call(r,h)||!Xt(e[h],r[h]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,r){var i=Ru(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=r&&l>=r)return{node:i,offset:r-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ru(i)}}function Pu(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Pu(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Au(){for(var e=window,r=$e();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=$e(e.document)}return r}function va(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Zm(e){var r=Au(),i=e.focusedElem,l=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&Pu(i.ownerDocument.documentElement,i)){if(l!==null&&va(i)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,p=Math.min(l.start,h);l=l.end===void 0?p:Math.min(l.end,h),!e.extend&&p>l&&(h=l,l=p,p=h),h=Ou(i,p);var v=Ou(i,l);h&&v&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),p>l?(e.addRange(r),e.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eg=f&&"documentMode"in document&&11>=document.documentMode,Tn=null,ya=null,Rs=null,wa=!1;function Iu(e,r,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wa||Tn==null||Tn!==$e(l)||(l=Tn,"selectionStart"in l&&va(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rs&&Ts(Rs,l)||(Rs=l,l=Ti(ya,"onSelect"),0<l.length&&(r=new ca("onSelect","select",null,r,i),e.push({event:r,listeners:l}),r.target=Tn)))}function ji(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var Rn={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},xa={},Lu={};f&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function Ni(e){if(xa[e])return xa[e];if(!Rn[e])return e;var r=Rn[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in Lu)return xa[e]=r[i];return e}var Du=Ni("animationend"),Fu=Ni("animationiteration"),$u=Ni("animationstart"),Uu=Ni("transitionend"),Mu=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,r){Mu.set(e,r),c(r,[e])}for(var ba=0;ba<Bu.length;ba++){var _a=Bu[ba],tg=_a.toLowerCase(),rg=_a[0].toUpperCase()+_a.slice(1);Dr(tg,"on"+rg)}Dr(Du,"onAnimationEnd"),Dr(Fu,"onAnimationIteration"),Dr($u,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Uu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function zu(e,r,i){var l=e.type||"unknown-event";e.currentTarget=i,tm(l,r,void 0,e),e.currentTarget=null}function Vu(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var v=l.length-1;0<=v;v--){var k=l[v],j=k.instance,L=k.currentTarget;if(k=k.listener,j!==p&&h.isPropagationStopped())break e;zu(h,k,L),p=j}else for(v=0;v<l.length;v++){if(k=l[v],j=k.instance,L=k.currentTarget,k=k.listener,j!==p&&h.isPropagationStopped())break e;zu(h,k,L),p=j}}}if(di)throw e=Zo,di=!1,Zo=null,e}function Ve(e,r){var i=r[Ra];i===void 0&&(i=r[Ra]=new Set);var l=e+"__bubble";i.has(l)||(Wu(r,e,2,!1),i.add(l))}function ka(e,r,i){var l=0;r&&(l|=4),Wu(i,e,l,r)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[Ci]){e[Ci]=!0,o.forEach(function(i){i!=="selectionchange"&&(ng.has(i)||ka(i,!1,e),ka(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ci]||(r[Ci]=!0,ka("selectionchange",!1,r))}}function Wu(e,r,i,l){switch(fu(r)){case 1:var h=vm;break;case 4:h=ym;break;default:h=oa}i=h.bind(null,r,i,e),h=void 0,!Xo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,i,{capture:!0,passive:h}):e.addEventListener(r,i,!0):h!==void 0?e.addEventListener(r,i,{passive:h}):e.addEventListener(r,i,!1)}function Sa(e,r,i,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var k=l.stateNode.containerInfo;if(k===h||k.nodeType===8&&k.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&(j=v.stateNode.containerInfo,j===h||j.nodeType===8&&j.parentNode===h))return;v=v.return}for(;k!==null;){if(v=rn(k),v===null)return;if(j=v.tag,j===5||j===6){l=p=v;continue e}k=k.parentNode}}l=l.return}Jc(function(){var L=p,V=Jo(i),W=[];e:{var B=Mu.get(e);if(B!==void 0){var Y=ca,re=e;switch(e){case"keypress":if(_i(i)===0)break e;case"keydown":case"keyup":Y=Am;break;case"focusin":re="focus",Y=ha;break;case"focusout":re="blur",Y=ha;break;case"beforeblur":case"afterblur":Y=ha;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Dm;break;case Du:case Fu:case $u:Y=Sm;break;case Uu:Y=$m;break;case"scroll":Y=wm;break;case"wheel":Y=Mm;break;case"copy":case"cut":case"paste":Y=jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=yu}var ie=(r&4)!==0,rt=!ie&&e==="scroll",A=ie?B!==null?B+"Capture":null:B;ie=[];for(var T=L,I;T!==null;){I=T;var q=I.stateNode;if(I.tag===5&&q!==null&&(I=q,A!==null&&(q=ps(T,A),q!=null&&ie.push(As(T,q,I)))),rt)break;T=T.return}0<ie.length&&(B=new Y(B,re,null,i,V),W.push({event:B,listeners:ie}))}}if((r&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",B&&i!==Go&&(re=i.relatedTarget||i.fromElement)&&(rn(re)||re[gr]))break e;if((Y||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,Y?(re=i.relatedTarget||i.toElement,Y=L,re=re?rn(re):null,re!==null&&(rt=tn(re),re!==rt||re.tag!==5&&re.tag!==6)&&(re=null)):(Y=null,re=L),Y!==re)){if(ie=gu,q="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ie=yu,q="onPointerLeave",A="onPointerEnter",T="pointer"),rt=Y==null?B:An(Y),I=re==null?B:An(re),B=new ie(q,T+"leave",Y,i,V),B.target=rt,B.relatedTarget=I,q=null,rn(V)===L&&(ie=new ie(A,T+"enter",re,i,V),ie.target=I,ie.relatedTarget=rt,q=ie),rt=q,Y&&re)t:{for(ie=Y,A=re,T=0,I=ie;I;I=On(I))T++;for(I=0,q=A;q;q=On(q))I++;for(;0<T-I;)ie=On(ie),T--;for(;0<I-T;)A=On(A),I--;for(;T--;){if(ie===A||A!==null&&ie===A.alternate)break t;ie=On(ie),A=On(A)}ie=null}else ie=null;Y!==null&&qu(W,B,Y,ie,!1),re!==null&&rt!==null&&qu(W,rt,re,ie,!0)}}e:{if(B=L?An(L):window,Y=B.nodeName&&B.nodeName.toLowerCase(),Y==="select"||Y==="input"&&B.type==="file")var ce=Km;else if(Su(B))if(ju)ce=Ym;else{ce=Jm;var me=Gm}else(Y=B.nodeName)&&Y.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ce=Qm);if(ce&&(ce=ce(e,L))){Eu(W,ce,i,V);break e}me&&me(e,B,L),e==="focusout"&&(me=B._wrapperState)&&me.controlled&&B.type==="number"&&Ue(B,"number",B.value)}switch(me=L?An(L):window,e){case"focusin":(Su(me)||me.contentEditable==="true")&&(Tn=me,ya=L,Rs=null);break;case"focusout":Rs=ya=Tn=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Iu(W,i,V);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":Iu(W,i,V)}var ge;if(pa)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Cn?_u(e,i)&&(xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(wu&&i.locale!=="ko"&&(Cn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Cn&&(ge=pu()):(Lr=V,la="value"in Lr?Lr.value:Lr.textContent,Cn=!0)),me=Ti(L,xe),0<me.length&&(xe=new vu(xe,e,null,i,V),W.push({event:xe,listeners:me}),ge?xe.data=ge:(ge=ku(i),ge!==null&&(xe.data=ge)))),(ge=zm?Vm(e,i):Wm(e,i))&&(L=Ti(L,"onBeforeInput"),0<L.length&&(V=new vu("onBeforeInput","beforeinput",null,i,V),W.push({event:V,listeners:L}),V.data=ge))}Vu(W,r)})}function As(e,r,i){return{instance:e,listener:r,currentTarget:i}}function Ti(e,r){for(var i=r+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=ps(e,i),p!=null&&l.unshift(As(e,p,h)),p=ps(e,r),p!=null&&l.push(As(e,p,h))),e=e.return}return l}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,r,i,l,h){for(var p=r._reactName,v=[];i!==null&&i!==l;){var k=i,j=k.alternate,L=k.stateNode;if(j!==null&&j===l)break;k.tag===5&&L!==null&&(k=L,h?(j=ps(i,p),j!=null&&v.unshift(As(i,j,k))):h||(j=ps(i,p),j!=null&&v.push(As(i,j,k)))),i=i.return}v.length!==0&&e.push({event:r,listeners:v})}var sg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function Hu(e){return(typeof e=="string"?e:""+e).replace(sg,`
`).replace(ig,"")}function Ri(e,r,i){if(r=Hu(r),Hu(e)!==r&&i)throw Error(n(425))}function Oi(){}var Ea=null,ja=null;function Na(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(lg)}:Ca;function lg(e){setTimeout(function(){throw e})}function Ta(e,r){var i=r,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(l===0){e.removeChild(h),ks(r);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=h}while(i);ks(r)}function Fr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Gu(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),dr="__reactFiber$"+Pn,Is="__reactProps$"+Pn,gr="__reactContainer$"+Pn,Ra="__reactEvents$"+Pn,cg="__reactListeners$"+Pn,ug="__reactHandles$"+Pn;function rn(e){var r=e[dr];if(r)return r;for(var i=e.parentNode;i;){if(r=i[gr]||i[dr]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=Gu(e);e!==null;){if(i=e[dr])return i;e=Gu(e)}return r}e=i,i=e.parentNode}return null}function Ls(e){return e=e[dr]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Pi(e){return e[Is]||null}var Oa=[],In=-1;function $r(e){return{current:e}}function We(e){0>In||(e.current=Oa[In],Oa[In]=null,In--)}function Be(e,r){In++,Oa[In]=e.current,e.current=r}var Ur={},bt=$r(Ur),Nt=$r(!1),nn=Ur;function Ln(e,r){var i=e.type.contextTypes;if(!i)return Ur;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in i)h[p]=r[p];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ct(e){return e=e.childContextTypes,e!=null}function Ai(){We(Nt),We(bt)}function Ju(e,r,i){if(bt.current!==Ur)throw Error(n(168));Be(bt,r),Be(Nt,i)}function Qu(e,r,i){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var h in l)if(!(h in r))throw Error(n(108,he(e)||"Unknown",h));return J({},i,l)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,nn=bt.current,Be(bt,e),Be(Nt,Nt.current),!0}function Yu(e,r,i){var l=e.stateNode;if(!l)throw Error(n(169));i?(e=Qu(e,r,nn),l.__reactInternalMemoizedMergedChildContext=e,We(Nt),We(bt),Be(bt,e)):We(Nt),Be(Nt,i)}var vr=null,Li=!1,Pa=!1;function Xu(e){vr===null?vr=[e]:vr.push(e)}function dg(e){Li=!0,Xu(e)}function Mr(){if(!Pa&&vr!==null){Pa=!0;var e=0,r=Le;try{var i=vr;for(Le=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}vr=null,Li=!1}catch(h){throw vr!==null&&(vr=vr.slice(e+1)),eu(ea,Mr),h}finally{Le=r,Pa=!1}}return null}var Dn=[],Fn=0,Di=null,Fi=0,Wt=[],qt=0,sn=null,yr=1,wr="";function on(e,r){Dn[Fn++]=Fi,Dn[Fn++]=Di,Di=e,Fi=r}function Zu(e,r,i){Wt[qt++]=yr,Wt[qt++]=wr,Wt[qt++]=sn,sn=e;var l=yr;e=wr;var h=32-Yt(l)-1;l&=~(1<<h),i+=1;var p=32-Yt(r)+h;if(30<p){var v=h-h%5;p=(l&(1<<v)-1).toString(32),l>>=v,h-=v,yr=1<<32-Yt(r)+h|i<<h|l,wr=p+e}else yr=1<<p|i<<h|l,wr=e}function Aa(e){e.return!==null&&(on(e,1),Zu(e,1,0))}function Ia(e){for(;e===Di;)Di=Dn[--Fn],Dn[Fn]=null,Fi=Dn[--Fn],Dn[Fn]=null;for(;e===sn;)sn=Wt[--qt],Wt[qt]=null,wr=Wt[--qt],Wt[qt]=null,yr=Wt[--qt],Wt[qt]=null}var Dt=null,Ft=null,qe=!1,Zt=null;function ed(e,r){var i=Jt(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function td(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Dt=e,Ft=Fr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Dt=e,Ft=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=sn!==null?{id:yr,overflow:wr}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=Jt(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,Dt=e,Ft=null,!0):!1;default:return!1}}function La(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Da(e){if(qe){var r=Ft;if(r){var i=r;if(!td(e,r)){if(La(e))throw Error(n(418));r=Fr(i.nextSibling);var l=Dt;r&&td(e,r)?ed(l,i):(e.flags=e.flags&-4097|2,qe=!1,Dt=e)}}else{if(La(e))throw Error(n(418));e.flags=e.flags&-4097|2,qe=!1,Dt=e}}}function rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function $i(e){if(e!==Dt)return!1;if(!qe)return rd(e),qe=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Na(e.type,e.memoizedProps)),r&&(r=Ft)){if(La(e))throw nd(),Error(n(418));for(;r;)ed(e,r),r=Fr(r.nextSibling)}if(rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){Ft=Fr(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}Ft=null}}else Ft=Dt?Fr(e.stateNode.nextSibling):null;return!0}function nd(){for(var e=Ft;e;)e=Fr(e.nextSibling)}function $n(){Ft=Dt=null,qe=!1}function Fa(e){Zt===null?Zt=[e]:Zt.push(e)}var hg=D.ReactCurrentBatchConfig;function Ds(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var l=i.stateNode}if(!l)throw Error(n(147,e));var h=l,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var k=h.refs;v===null?delete k[p]:k[p]=v},r._stringRef=p,r)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Ui(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function sd(e){var r=e._init;return r(e._payload)}function id(e){function r(A,T){if(e){var I=A.deletions;I===null?(A.deletions=[T],A.flags|=16):I.push(T)}}function i(A,T){if(!e)return null;for(;T!==null;)r(A,T),T=T.sibling;return null}function l(A,T){for(A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function h(A,T){return A=Gr(A,T),A.index=0,A.sibling=null,A}function p(A,T,I){return A.index=I,e?(I=A.alternate,I!==null?(I=I.index,I<T?(A.flags|=2,T):I):(A.flags|=2,T)):(A.flags|=1048576,T)}function v(A){return e&&A.alternate===null&&(A.flags|=2),A}function k(A,T,I,q){return T===null||T.tag!==6?(T=Cl(I,A.mode,q),T.return=A,T):(T=h(T,I),T.return=A,T)}function j(A,T,I,q){var ce=I.type;return ce===H?V(A,T,I.props.children,q,I.key):T!==null&&(T.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===pe&&sd(ce)===T.type)?(q=h(T,I.props),q.ref=Ds(A,T,I),q.return=A,q):(q=co(I.type,I.key,I.props,null,A.mode,q),q.ref=Ds(A,T,I),q.return=A,q)}function L(A,T,I,q){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=Tl(I,A.mode,q),T.return=A,T):(T=h(T,I.children||[]),T.return=A,T)}function V(A,T,I,q,ce){return T===null||T.tag!==7?(T=pn(I,A.mode,q,ce),T.return=A,T):(T=h(T,I),T.return=A,T)}function W(A,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Cl(""+T,A.mode,I),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case M:return I=co(T.type,T.key,T.props,null,A.mode,I),I.ref=Ds(A,null,T),I.return=A,I;case G:return T=Tl(T,A.mode,I),T.return=A,T;case pe:var q=T._init;return W(A,q(T._payload),I)}if(pt(T)||Z(T))return T=pn(T,A.mode,I,null),T.return=A,T;Ui(A,T)}return null}function B(A,T,I,q){var ce=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ce!==null?null:k(A,T,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case M:return I.key===ce?j(A,T,I,q):null;case G:return I.key===ce?L(A,T,I,q):null;case pe:return ce=I._init,B(A,T,ce(I._payload),q)}if(pt(I)||Z(I))return ce!==null?null:V(A,T,I,q,null);Ui(A,I)}return null}function Y(A,T,I,q,ce){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(I)||null,k(T,A,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return A=A.get(q.key===null?I:q.key)||null,j(T,A,q,ce);case G:return A=A.get(q.key===null?I:q.key)||null,L(T,A,q,ce);case pe:var me=q._init;return Y(A,T,I,me(q._payload),ce)}if(pt(q)||Z(q))return A=A.get(I)||null,V(T,A,q,ce,null);Ui(T,q)}return null}function re(A,T,I,q){for(var ce=null,me=null,ge=T,xe=T=0,ft=null;ge!==null&&xe<I.length;xe++){ge.index>xe?(ft=ge,ge=null):ft=ge.sibling;var Ie=B(A,ge,I[xe],q);if(Ie===null){ge===null&&(ge=ft);break}e&&ge&&Ie.alternate===null&&r(A,ge),T=p(Ie,T,xe),me===null?ce=Ie:me.sibling=Ie,me=Ie,ge=ft}if(xe===I.length)return i(A,ge),qe&&on(A,xe),ce;if(ge===null){for(;xe<I.length;xe++)ge=W(A,I[xe],q),ge!==null&&(T=p(ge,T,xe),me===null?ce=ge:me.sibling=ge,me=ge);return qe&&on(A,xe),ce}for(ge=l(A,ge);xe<I.length;xe++)ft=Y(ge,A,xe,I[xe],q),ft!==null&&(e&&ft.alternate!==null&&ge.delete(ft.key===null?xe:ft.key),T=p(ft,T,xe),me===null?ce=ft:me.sibling=ft,me=ft);return e&&ge.forEach(function(Jr){return r(A,Jr)}),qe&&on(A,xe),ce}function ie(A,T,I,q){var ce=Z(I);if(typeof ce!="function")throw Error(n(150));if(I=ce.call(I),I==null)throw Error(n(151));for(var me=ce=null,ge=T,xe=T=0,ft=null,Ie=I.next();ge!==null&&!Ie.done;xe++,Ie=I.next()){ge.index>xe?(ft=ge,ge=null):ft=ge.sibling;var Jr=B(A,ge,Ie.value,q);if(Jr===null){ge===null&&(ge=ft);break}e&&ge&&Jr.alternate===null&&r(A,ge),T=p(Jr,T,xe),me===null?ce=Jr:me.sibling=Jr,me=Jr,ge=ft}if(Ie.done)return i(A,ge),qe&&on(A,xe),ce;if(ge===null){for(;!Ie.done;xe++,Ie=I.next())Ie=W(A,Ie.value,q),Ie!==null&&(T=p(Ie,T,xe),me===null?ce=Ie:me.sibling=Ie,me=Ie);return qe&&on(A,xe),ce}for(ge=l(A,ge);!Ie.done;xe++,Ie=I.next())Ie=Y(ge,A,xe,Ie.value,q),Ie!==null&&(e&&Ie.alternate!==null&&ge.delete(Ie.key===null?xe:Ie.key),T=p(Ie,T,xe),me===null?ce=Ie:me.sibling=Ie,me=Ie);return e&&ge.forEach(function(qg){return r(A,qg)}),qe&&on(A,xe),ce}function rt(A,T,I,q){if(typeof I=="object"&&I!==null&&I.type===H&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case M:e:{for(var ce=I.key,me=T;me!==null;){if(me.key===ce){if(ce=I.type,ce===H){if(me.tag===7){i(A,me.sibling),T=h(me,I.props.children),T.return=A,A=T;break e}}else if(me.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===pe&&sd(ce)===me.type){i(A,me.sibling),T=h(me,I.props),T.ref=Ds(A,me,I),T.return=A,A=T;break e}i(A,me);break}else r(A,me);me=me.sibling}I.type===H?(T=pn(I.props.children,A.mode,q,I.key),T.return=A,A=T):(q=co(I.type,I.key,I.props,null,A.mode,q),q.ref=Ds(A,T,I),q.return=A,A=q)}return v(A);case G:e:{for(me=I.key;T!==null;){if(T.key===me)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){i(A,T.sibling),T=h(T,I.children||[]),T.return=A,A=T;break e}else{i(A,T);break}else r(A,T);T=T.sibling}T=Tl(I,A.mode,q),T.return=A,A=T}return v(A);case pe:return me=I._init,rt(A,T,me(I._payload),q)}if(pt(I))return re(A,T,I,q);if(Z(I))return ie(A,T,I,q);Ui(A,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(i(A,T.sibling),T=h(T,I),T.return=A,A=T):(i(A,T),T=Cl(I,A.mode,q),T.return=A,A=T),v(A)):i(A,T)}return rt}var Un=id(!0),od=id(!1),Mi=$r(null),Bi=null,Mn=null,$a=null;function Ua(){$a=Mn=Bi=null}function Ma(e){var r=Mi.current;We(Mi),e._currentValue=r}function Ba(e,r,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===i)break;e=e.return}}function Bn(e,r){Bi=e,$a=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Tt=!0),e.firstContext=null)}function Ht(e){var r=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:r,next:null},Mn===null){if(Bi===null)throw Error(n(308));Mn=e,Bi.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return r}var an=null;function za(e){an===null?an=[e]:an.push(e)}function ad(e,r,i,l){var h=r.interleaved;return h===null?(i.next=i,za(r)):(i.next=h.next,h.next=i),r.interleaved=i,xr(e,l)}function xr(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Br=!1;function Va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(e,r,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,xr(e,i)}return h=l.interleaved,h===null?(r.next=r,za(l)):(r.next=h.next,h.next=r),l.interleaved=r,xr(e,i)}function zi(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,na(e,i)}}function cd(e,r){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?h=p=v:p=p.next=v,i=i.next}while(i!==null);p===null?h=p=r:p=p.next=r}else h=p=r;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function Vi(e,r,i,l){var h=e.updateQueue;Br=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var j=k,L=j.next;j.next=null,v===null?p=L:v.next=L,v=j;var V=e.alternate;V!==null&&(V=V.updateQueue,k=V.lastBaseUpdate,k!==v&&(k===null?V.firstBaseUpdate=L:k.next=L,V.lastBaseUpdate=j))}if(p!==null){var W=h.baseState;v=0,V=L=j=null,k=p;do{var B=k.lane,Y=k.eventTime;if((l&B)===B){V!==null&&(V=V.next={eventTime:Y,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var re=e,ie=k;switch(B=r,Y=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){W=re.call(Y,W,B);break e}W=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,B=typeof re=="function"?re.call(Y,W,B):re,B==null)break e;W=J({},W,B);break e;case 2:Br=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,B=h.effects,B===null?h.effects=[k]:B.push(k))}else Y={eventTime:Y,lane:B,tag:k.tag,payload:k.payload,callback:k.callback,next:null},V===null?(L=V=Y,j=W):V=V.next=Y,v|=B;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;B=k,k=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);if(V===null&&(j=W),h.baseState=j,h.firstBaseUpdate=L,h.lastBaseUpdate=V,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);un|=v,e.lanes=v,e.memoizedState=W}}function ud(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],h=l.callback;if(h!==null){if(l.callback=null,l=i,typeof h!="function")throw Error(n(191,h));h.call(l)}}}var Fs={},hr=$r(Fs),$s=$r(Fs),Us=$r(Fs);function ln(e){if(e===Fs)throw Error(n(174));return e}function Wa(e,r){switch(Be(Us,r),Be($s,e),Be(hr,Fs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:kn(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=kn(r,e)}We(hr),Be(hr,r)}function zn(){We(hr),We($s),We(Us)}function dd(e){ln(Us.current);var r=ln(hr.current),i=kn(r,e.type);r!==i&&(Be($s,e),Be(hr,i))}function qa(e){$s.current===e&&(We(hr),We($s))}var Ke=$r(0);function Wi(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ha=[];function Ka(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var qi=D.ReactCurrentDispatcher,Ga=D.ReactCurrentBatchConfig,cn=0,Ge=null,ot=null,dt=null,Hi=!1,Ms=!1,Bs=0,fg=0;function _t(){throw Error(n(321))}function Ja(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!Xt(e[i],r[i]))return!1;return!0}function Qa(e,r,i,l,h,p){if(cn=p,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,qi.current=e===null||e.memoizedState===null?vg:yg,e=i(l,h),Ms){p=0;do{if(Ms=!1,Bs=0,25<=p)throw Error(n(301));p+=1,dt=ot=null,r.updateQueue=null,qi.current=wg,e=i(l,h)}while(Ms)}if(qi.current=Ji,r=ot!==null&&ot.next!==null,cn=0,dt=ot=Ge=null,Hi=!1,r)throw Error(n(300));return e}function Ya(){var e=Bs!==0;return Bs=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ge.memoizedState=dt=e:dt=dt.next=e,dt}function Kt(){if(ot===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var r=dt===null?Ge.memoizedState:dt.next;if(r!==null)dt=r,ot=e;else{if(e===null)throw Error(n(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ge.memoizedState=dt=e:dt=dt.next=e}return dt}function zs(e,r){return typeof r=="function"?r(e):r}function Xa(e){var r=Kt(),i=r.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=ot,h=l.baseQueue,p=i.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}l.baseQueue=h=p,i.pending=null}if(h!==null){p=h.next,l=l.baseState;var k=v=null,j=null,L=p;do{var V=L.lane;if((cn&V)===V)j!==null&&(j=j.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),l=L.hasEagerState?L.eagerState:e(l,L.action);else{var W={lane:V,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};j===null?(k=j=W,v=l):j=j.next=W,Ge.lanes|=V,un|=V}L=L.next}while(L!==null&&L!==p);j===null?v=l:j.next=k,Xt(l,r.memoizedState)||(Tt=!0),r.memoizedState=l,r.baseState=v,r.baseQueue=j,i.lastRenderedState=l}if(e=i.interleaved,e!==null){h=e;do p=h.lane,Ge.lanes|=p,un|=p,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function Za(e){var r=Kt(),i=r.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,p=r.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do p=e(p,v.action),v=v.next;while(v!==h);Xt(p,r.memoizedState)||(Tt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),i.lastRenderedState=p}return[p,l]}function hd(){}function fd(e,r){var i=Ge,l=Kt(),h=r(),p=!Xt(l.memoizedState,h);if(p&&(l.memoizedState=h,Tt=!0),l=l.queue,el(gd.bind(null,i,l,e),[e]),l.getSnapshot!==r||p||dt!==null&&dt.memoizedState.tag&1){if(i.flags|=2048,Vs(9,md.bind(null,i,l,h,r),void 0,null),ht===null)throw Error(n(349));(cn&30)!==0||pd(i,r,h)}return h}function pd(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function md(e,r,i,l){r.value=i,r.getSnapshot=l,vd(r)&&yd(e)}function gd(e,r,i){return i(function(){vd(r)&&yd(e)})}function vd(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!Xt(e,i)}catch{return!0}}function yd(e){var r=xr(e,1);r!==null&&nr(r,e,1,-1)}function wd(e){var r=fr();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:e},r.queue=e,e=e.dispatch=gg.bind(null,Ge,e),[r.memoizedState,e]}function Vs(e,r,i,l){return e={tag:e,create:r,destroy:i,deps:l,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,r.lastEffect=e)),e}function xd(){return Kt().memoizedState}function Ki(e,r,i,l){var h=fr();Ge.flags|=e,h.memoizedState=Vs(1|r,i,void 0,l===void 0?null:l)}function Gi(e,r,i,l){var h=Kt();l=l===void 0?null:l;var p=void 0;if(ot!==null){var v=ot.memoizedState;if(p=v.destroy,l!==null&&Ja(l,v.deps)){h.memoizedState=Vs(r,i,p,l);return}}Ge.flags|=e,h.memoizedState=Vs(1|r,i,p,l)}function bd(e,r){return Ki(8390656,8,e,r)}function el(e,r){return Gi(2048,8,e,r)}function _d(e,r){return Gi(4,2,e,r)}function kd(e,r){return Gi(4,4,e,r)}function Sd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Ed(e,r,i){return i=i!=null?i.concat([e]):null,Gi(4,4,Sd.bind(null,r,e),i)}function tl(){}function jd(e,r){var i=Kt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&Ja(r,l[1])?l[0]:(i.memoizedState=[e,r],e)}function Nd(e,r){var i=Kt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&Ja(r,l[1])?l[0]:(e=e(),i.memoizedState=[e,r],e)}function Cd(e,r,i){return(cn&21)===0?(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=i):(Xt(i,r)||(i=su(),Ge.lanes|=i,un|=i,e.baseState=!0),r)}function pg(e,r){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var l=Ga.transition;Ga.transition={};try{e(!1),r()}finally{Le=i,Ga.transition=l}}function Td(){return Kt().memoizedState}function mg(e,r,i){var l=Hr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},Rd(e))Od(r,i);else if(i=ad(e,r,i,l),i!==null){var h=jt();nr(i,e,l,h),Pd(i,r,l)}}function gg(e,r,i){var l=Hr(e),h={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Od(r,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,k=p(v,i);if(h.hasEagerState=!0,h.eagerState=k,Xt(k,v)){var j=r.interleaved;j===null?(h.next=h,za(r)):(h.next=j.next,j.next=h),r.interleaved=h;return}}catch{}finally{}i=ad(e,r,h,l),i!==null&&(h=jt(),nr(i,e,l,h),Pd(i,r,l))}}function Rd(e){var r=e.alternate;return e===Ge||r!==null&&r===Ge}function Od(e,r){Ms=Hi=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function Pd(e,r,i){if((i&4194240)!==0){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,na(e,i)}}var Ji={readContext:Ht,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},vg={readContext:Ht,useCallback:function(e,r){return fr().memoizedState=[e,r===void 0?null:r],e},useContext:Ht,useEffect:bd,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,Ki(4194308,4,Sd.bind(null,r,e),i)},useLayoutEffect:function(e,r){return Ki(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ki(4,2,e,r)},useMemo:function(e,r){var i=fr();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var l=fr();return r=i!==void 0?i(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=mg.bind(null,Ge,e),[l.memoizedState,e]},useRef:function(e){var r=fr();return e={current:e},r.memoizedState=e},useState:wd,useDebugValue:tl,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=wd(!1),r=e[0];return e=pg.bind(null,e[1]),fr().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var l=Ge,h=fr();if(qe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=r(),ht===null)throw Error(n(349));(cn&30)!==0||pd(l,r,i)}h.memoizedState=i;var p={value:i,getSnapshot:r};return h.queue=p,bd(gd.bind(null,l,p,e),[e]),l.flags|=2048,Vs(9,md.bind(null,l,p,i,r),void 0,null),i},useId:function(){var e=fr(),r=ht.identifierPrefix;if(qe){var i=wr,l=yr;i=(l&~(1<<32-Yt(l)-1)).toString(32)+i,r=":"+r+"R"+i,i=Bs++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=fg++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},yg={readContext:Ht,useCallback:jd,useContext:Ht,useEffect:el,useImperativeHandle:Ed,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:Nd,useReducer:Xa,useRef:xd,useState:function(){return Xa(zs)},useDebugValue:tl,useDeferredValue:function(e){var r=Kt();return Cd(r,ot.memoizedState,e)},useTransition:function(){var e=Xa(zs)[0],r=Kt().memoizedState;return[e,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1},wg={readContext:Ht,useCallback:jd,useContext:Ht,useEffect:el,useImperativeHandle:Ed,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:Nd,useReducer:Za,useRef:xd,useState:function(){return Za(zs)},useDebugValue:tl,useDeferredValue:function(e){var r=Kt();return ot===null?r.memoizedState=e:Cd(r,ot.memoizedState,e)},useTransition:function(){var e=Za(zs)[0],r=Kt().memoizedState;return[e,r]},useMutableSource:hd,useSyncExternalStore:fd,useId:Td,unstable_isNewReconciler:!1};function er(e,r){if(e&&e.defaultProps){r=J({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function rl(e,r,i,l){r=e.memoizedState,i=i(l,r),i=i==null?r:J({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Qi={isMounted:function(e){return(e=e._reactInternals)?tn(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var l=jt(),h=Hr(e),p=br(l,h);p.payload=r,i!=null&&(p.callback=i),r=zr(e,p,h),r!==null&&(nr(r,e,h,l),zi(r,e,h))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var l=jt(),h=Hr(e),p=br(l,h);p.tag=1,p.payload=r,i!=null&&(p.callback=i),r=zr(e,p,h),r!==null&&(nr(r,e,h,l),zi(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=jt(),l=Hr(e),h=br(i,l);h.tag=2,r!=null&&(h.callback=r),r=zr(e,h,l),r!==null&&(nr(r,e,l,i),zi(r,e,l))}};function Ad(e,r,i,l,h,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,v):r.prototype&&r.prototype.isPureReactComponent?!Ts(i,l)||!Ts(h,p):!0}function Id(e,r,i){var l=!1,h=Ur,p=r.contextType;return typeof p=="object"&&p!==null?p=Ht(p):(h=Ct(r)?nn:bt.current,l=r.contextTypes,p=(l=l!=null)?Ln(e,h):Ur),r=new r(i,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Qi,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),r}function Ld(e,r,i,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,l),r.state!==e&&Qi.enqueueReplaceState(r,r.state,null)}function nl(e,r,i,l){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Va(e);var p=r.contextType;typeof p=="object"&&p!==null?h.context=Ht(p):(p=Ct(r)?nn:bt.current,h.context=Ln(e,p)),h.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(rl(e,r,p,i),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Qi.enqueueReplaceState(h,h.state,null),Vi(e,i,h,l),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,r){try{var i="",l=r;do i+=_e(l),l=l.return;while(l);var h=i}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:h,digest:null}}function sl(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function il(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var xg=typeof WeakMap=="function"?WeakMap:Map;function Dd(e,r,i){i=br(-1,i),i.tag=3,i.payload={element:null};var l=r.value;return i.callback=function(){no||(no=!0,xl=l),il(e,r)},i}function Fd(e,r,i){i=br(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var h=r.value;i.payload=function(){return l(h)},i.callback=function(){il(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){il(e,r),typeof l!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),i}function $d(e,r,i){var l=e.pingCache;if(l===null){l=e.pingCache=new xg;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(i)||(h.add(i),e=Ig.bind(null,e,r,i),r.then(e,e))}function Ud(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Md(e,r,i,l,h){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=br(-1,1),r.tag=2,zr(i,r,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var bg=D.ReactCurrentOwner,Tt=!1;function Et(e,r,i,l){r.child=e===null?od(r,null,i,l):Un(r,e.child,i,l)}function Bd(e,r,i,l,h){i=i.render;var p=r.ref;return Bn(r,h),l=Qa(e,r,i,l,p,h),i=Ya(),e!==null&&!Tt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,_r(e,r,h)):(qe&&i&&Aa(r),r.flags|=1,Et(e,r,l,h),r.child)}function zd(e,r,i,l,h){if(e===null){var p=i.type;return typeof p=="function"&&!Nl(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=p,Vd(e,r,p,l,h)):(e=co(i.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&h)===0){var v=p.memoizedProps;if(i=i.compare,i=i!==null?i:Ts,i(v,l)&&e.ref===r.ref)return _r(e,r,h)}return r.flags|=1,e=Gr(p,l),e.ref=r.ref,e.return=r,r.child=e}function Vd(e,r,i,l,h){if(e!==null){var p=e.memoizedProps;if(Ts(p,l)&&e.ref===r.ref)if(Tt=!1,r.pendingProps=l=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Tt=!0);else return r.lanes=e.lanes,_r(e,r,h)}return ol(e,r,i,l,h)}function Wd(e,r,i){var l=r.pendingProps,h=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(qn,$t),$t|=i;else{if((i&1073741824)===0)return e=p!==null?p.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Be(qn,$t),$t|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:i,Be(qn,$t),$t|=l}else p!==null?(l=p.baseLanes|i,r.memoizedState=null):l=i,Be(qn,$t),$t|=l;return Et(e,r,h,i),r.child}function qd(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function ol(e,r,i,l,h){var p=Ct(i)?nn:bt.current;return p=Ln(r,p),Bn(r,h),i=Qa(e,r,i,l,p,h),l=Ya(),e!==null&&!Tt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,_r(e,r,h)):(qe&&l&&Aa(r),r.flags|=1,Et(e,r,i,h),r.child)}function Hd(e,r,i,l,h){if(Ct(i)){var p=!0;Ii(r)}else p=!1;if(Bn(r,h),r.stateNode===null)Xi(e,r),Id(r,i,l),nl(r,i,l,h),l=!0;else if(e===null){var v=r.stateNode,k=r.memoizedProps;v.props=k;var j=v.context,L=i.contextType;typeof L=="object"&&L!==null?L=Ht(L):(L=Ct(i)?nn:bt.current,L=Ln(r,L));var V=i.getDerivedStateFromProps,W=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function";W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==l||j!==L)&&Ld(r,v,l,L),Br=!1;var B=r.memoizedState;v.state=B,Vi(r,l,v,h),j=r.memoizedState,k!==l||B!==j||Nt.current||Br?(typeof V=="function"&&(rl(r,i,V,l),j=r.memoizedState),(k=Br||Ad(r,i,k,l,B,j,L))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),v.props=l,v.state=j,v.context=L,l=k):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{v=r.stateNode,ld(e,r),k=r.memoizedProps,L=r.type===r.elementType?k:er(r.type,k),v.props=L,W=r.pendingProps,B=v.context,j=i.contextType,typeof j=="object"&&j!==null?j=Ht(j):(j=Ct(i)?nn:bt.current,j=Ln(r,j));var Y=i.getDerivedStateFromProps;(V=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==W||B!==j)&&Ld(r,v,l,j),Br=!1,B=r.memoizedState,v.state=B,Vi(r,l,v,h);var re=r.memoizedState;k!==W||B!==re||Nt.current||Br?(typeof Y=="function"&&(rl(r,i,Y,l),re=r.memoizedState),(L=Br||Ad(r,i,L,l,B,re,j)||!1)?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,re,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,re,j)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=re),v.props=l,v.state=re,v.context=j,l=L):(typeof v.componentDidUpdate!="function"||k===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),l=!1)}return al(e,r,i,l,p,h)}function al(e,r,i,l,h,p){qd(e,r);var v=(r.flags&128)!==0;if(!l&&!v)return h&&Yu(r,i,!1),_r(e,r,p);l=r.stateNode,bg.current=r;var k=v&&typeof i.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&v?(r.child=Un(r,e.child,null,p),r.child=Un(r,null,k,p)):Et(e,r,k,p),r.memoizedState=l.state,h&&Yu(r,i,!0),r.child}function Kd(e){var r=e.stateNode;r.pendingContext?Ju(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Ju(e,r.context,!1),Wa(e,r.containerInfo)}function Gd(e,r,i,l,h){return $n(),Fa(h),r.flags|=256,Et(e,r,i,l),r.child}var ll={dehydrated:null,treeContext:null,retryLane:0};function cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,r,i){var l=r.pendingProps,h=Ke.current,p=!1,v=(r.flags&128)!==0,k;if((k=v)||(k=e!==null&&e.memoizedState===null?!1:(h&2)!==0),k?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Be(Ke,h&1),e===null)return Da(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=l.children,e=l.fallback,p?(l=r.mode,p=r.child,v={mode:"hidden",children:v},(l&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=uo(v,l,0,null),e=pn(e,l,i,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=cl(i),r.memoizedState=ll,e):ul(r,v));if(h=e.memoizedState,h!==null&&(k=h.dehydrated,k!==null))return _g(e,r,v,l,k,h,i);if(p){p=l.fallback,v=r.mode,h=e.child,k=h.sibling;var j={mode:"hidden",children:l.children};return(v&1)===0&&r.child!==h?(l=r.child,l.childLanes=0,l.pendingProps=j,r.deletions=null):(l=Gr(h,j),l.subtreeFlags=h.subtreeFlags&14680064),k!==null?p=Gr(k,p):(p=pn(p,v,i,null),p.flags|=2),p.return=r,l.return=r,l.sibling=p,r.child=l,l=p,p=r.child,v=e.child.memoizedState,v=v===null?cl(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=e.childLanes&~i,r.memoizedState=ll,l}return p=e.child,e=p.sibling,l=Gr(p,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=i),l.return=r,l.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=l,r.memoizedState=null,l}function ul(e,r){return r=uo({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Yi(e,r,i,l){return l!==null&&Fa(l),Un(r,e.child,null,i),e=ul(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function _g(e,r,i,l,h,p,v){if(i)return r.flags&256?(r.flags&=-257,l=sl(Error(n(422))),Yi(e,r,v,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=l.fallback,h=r.mode,l=uo({mode:"visible",children:l.children},h,0,null),p=pn(p,h,v,null),p.flags|=2,l.return=r,p.return=r,l.sibling=p,r.child=l,(r.mode&1)!==0&&Un(r,e.child,null,v),r.child.memoizedState=cl(v),r.memoizedState=ll,p);if((r.mode&1)===0)return Yi(e,r,v,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var k=l.dgst;return l=k,p=Error(n(419)),l=sl(p,l,void 0),Yi(e,r,v,l)}if(k=(v&e.childLanes)!==0,Tt||k){if(l=ht,l!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(l.suspendedLanes|v))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,xr(e,h),nr(l,e,h,-1))}return jl(),l=sl(Error(n(421))),Yi(e,r,v,l)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=Lg.bind(null,e),h._reactRetry=r,null):(e=p.treeContext,Ft=Fr(h.nextSibling),Dt=r,qe=!0,Zt=null,e!==null&&(Wt[qt++]=yr,Wt[qt++]=wr,Wt[qt++]=sn,yr=e.id,wr=e.overflow,sn=r),r=ul(r,l.children),r.flags|=4096,r)}function Qd(e,r,i){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Ba(e.return,r,i)}function dl(e,r,i,l,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=i,p.tailMode=h)}function Yd(e,r,i){var l=r.pendingProps,h=l.revealOrder,p=l.tail;if(Et(e,r,l.children,i),l=Ke.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qd(e,i,r);else if(e.tag===19)Qd(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Be(Ke,l),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(i=r.child,h=null;i!==null;)e=i.alternate,e!==null&&Wi(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),dl(r,!1,h,i,p);break;case"backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Wi(e)===null){r.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}dl(r,!0,i,null,p);break;case"together":dl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function _r(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),un|=r.lanes,(i&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,i=Gr(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Gr(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function kg(e,r,i){switch(r.tag){case 3:Kd(r),$n();break;case 5:dd(r);break;case 1:Ct(r.type)&&Ii(r);break;case 4:Wa(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,h=r.memoizedProps.value;Be(Mi,l._currentValue),l._currentValue=h;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Be(Ke,Ke.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?Jd(e,r,i):(Be(Ke,Ke.current&1),e=_r(e,r,i),e!==null?e.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(l=(i&r.childLanes)!==0,(e.flags&128)!==0){if(l)return Yd(e,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(Ke,Ke.current),l)break;return null;case 22:case 23:return r.lanes=0,Wd(e,r,i)}return _r(e,r,i)}var Xd,hl,Zd,eh;Xd=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},hl=function(){},Zd=function(e,r,i,l){var h=e.memoizedProps;if(h!==l){e=r.stateNode,ln(hr.current);var p=null;switch(i){case"input":h=He(e,h),l=He(e,l),p=[];break;case"select":h=J({},h,{value:void 0}),l=J({},l,{value:void 0}),p=[];break;case"textarea":h=et(e,h),l=et(e,l),p=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Oi)}Ho(i,l);var v;i=null;for(L in h)if(!l.hasOwnProperty(L)&&h.hasOwnProperty(L)&&h[L]!=null)if(L==="style"){var k=h[L];for(v in k)k.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?p||(p=[]):(p=p||[]).push(L,null));for(L in l){var j=l[L];if(k=h?.[L],l.hasOwnProperty(L)&&j!==k&&(j!=null||k!=null))if(L==="style")if(k){for(v in k)!k.hasOwnProperty(v)||j&&j.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in j)j.hasOwnProperty(v)&&k[v]!==j[v]&&(i||(i={}),i[v]=j[v])}else i||(p||(p=[]),p.push(L,i)),i=j;else L==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,k=k?k.__html:void 0,j!=null&&k!==j&&(p=p||[]).push(L,j)):L==="children"?typeof j!="string"&&typeof j!="number"||(p=p||[]).push(L,""+j):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(j!=null&&L==="onScroll"&&Ve("scroll",e),p||k===j||(p=[])):(p=p||[]).push(L,j))}i&&(p=p||[]).push("style",i);var L=p;(r.updateQueue=L)&&(r.flags|=4)}},eh=function(e,r,i,l){i!==l&&(r.flags|=4)};function Ws(e,r){if(!qe)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function kt(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(r)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,r}function Sg(e,r,i){var l=r.pendingProps;switch(Ia(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(r),null;case 1:return Ct(r.type)&&Ai(),kt(r),null;case 3:return l=r.stateNode,zn(),We(Nt),We(bt),Ka(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&($i(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zt!==null&&(kl(Zt),Zt=null))),hl(e,r),kt(r),null;case 5:qa(r);var h=ln(Us.current);if(i=r.type,e!==null&&r.stateNode!=null)Zd(e,r,i,l,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(n(166));return kt(r),null}if(e=ln(hr.current),$i(r)){l=r.stateNode,i=r.type;var p=r.memoizedProps;switch(l[dr]=r,l[Is]=p,e=(r.mode&1)!==0,i){case"dialog":Ve("cancel",l),Ve("close",l);break;case"iframe":case"object":case"embed":Ve("load",l);break;case"video":case"audio":for(h=0;h<Os.length;h++)Ve(Os[h],l);break;case"source":Ve("error",l);break;case"img":case"image":case"link":Ve("error",l),Ve("load",l);break;case"details":Ve("toggle",l);break;case"input":Ae(l,p),Ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",l);break;case"textarea":ut(l,p),Ve("invalid",l)}Ho(i,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var k=p[v];v==="children"?typeof k=="string"?l.textContent!==k&&(p.suppressHydrationWarning!==!0&&Ri(l.textContent,k,e),h=["children",k]):typeof k=="number"&&l.textContent!==""+k&&(p.suppressHydrationWarning!==!0&&Ri(l.textContent,k,e),h=["children",""+k]):a.hasOwnProperty(v)&&k!=null&&v==="onScroll"&&Ve("scroll",l)}switch(i){case"input":At(l),Me(l,p,!0);break;case"textarea":At(l),ds(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=Oi)}l=h,r.updateQueue=l,l!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hs(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(i,{is:l.is}):(e=v.createElement(i),i==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,i),e[dr]=r,e[Is]=l,Xd(e,r,!1,!1),r.stateNode=e;e:{switch(v=Ko(i,l),i){case"dialog":Ve("cancel",e),Ve("close",e),h=l;break;case"iframe":case"object":case"embed":Ve("load",e),h=l;break;case"video":case"audio":for(h=0;h<Os.length;h++)Ve(Os[h],e);h=l;break;case"source":Ve("error",e),h=l;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),h=l;break;case"details":Ve("toggle",e),h=l;break;case"input":Ae(e,l),h=He(e,l),Ve("invalid",e);break;case"option":h=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},h=J({},l,{value:void 0}),Ve("invalid",e);break;case"textarea":ut(e,l),h=et(e,l),Ve("invalid",e);break;default:h=l}Ho(i,h),k=h;for(p in k)if(k.hasOwnProperty(p)){var j=k[p];p==="style"?Vc(e,j):p==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Vt(e,j)):p==="children"?typeof j=="string"?(i!=="textarea"||j!=="")&&mr(e,j):typeof j=="number"&&mr(e,""+j):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?j!=null&&p==="onScroll"&&Ve("scroll",e):j!=null&&O(e,p,j,v))}switch(i){case"input":At(e),Me(e,l,!1);break;case"textarea":At(e),ds(e);break;case"option":l.value!=null&&e.setAttribute("value",""+K(l.value));break;case"select":e.multiple=!!l.multiple,p=l.value,p!=null?It(e,!!l.multiple,p,!1):l.defaultValue!=null&&It(e,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Oi)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return kt(r),null;case 6:if(e&&r.stateNode!=null)eh(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(n(166));if(i=ln(Us.current),ln(hr.current),$i(r)){if(l=r.stateNode,i=r.memoizedProps,l[dr]=r,(p=l.nodeValue!==i)&&(e=Dt,e!==null))switch(e.tag){case 3:Ri(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(l.nodeValue,i,(e.mode&1)!==0)}p&&(r.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[dr]=r,r.stateNode=l}return kt(r),null;case 13:if(We(Ke),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Ft!==null&&(r.mode&1)!==0&&(r.flags&128)===0)nd(),$n(),r.flags|=98560,p=!1;else if(p=$i(r),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[dr]=r}else $n(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;kt(r),p=!1}else Zt!==null&&(kl(Zt),Zt=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Ke.current&1)!==0?at===0&&(at=3):jl())),r.updateQueue!==null&&(r.flags|=4),kt(r),null);case 4:return zn(),hl(e,r),e===null&&Ps(r.stateNode.containerInfo),kt(r),null;case 10:return Ma(r.type._context),kt(r),null;case 17:return Ct(r.type)&&Ai(),kt(r),null;case 19:if(We(Ke),p=r.memoizedState,p===null)return kt(r),null;if(l=(r.flags&128)!==0,v=p.rendering,v===null)if(l)Ws(p,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(v=Wi(e),v!==null){for(r.flags|=128,Ws(p,!1),l=v.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=i,i=r.child;i!==null;)p=i,e=l,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,e=v.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(Ke,Ke.current&1|2),r.child}e=e.sibling}p.tail!==null&&tt()>Hn&&(r.flags|=128,l=!0,Ws(p,!1),r.lanes=4194304)}else{if(!l)if(e=Wi(v),e!==null){if(r.flags|=128,l=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),Ws(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!qe)return kt(r),null}else 2*tt()-p.renderingStartTime>Hn&&i!==1073741824&&(r.flags|=128,l=!0,Ws(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(i=p.last,i!==null?i.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=tt(),r.sibling=null,i=Ke.current,Be(Ke,l?i&1|2:i&1),r):(kt(r),null);case 22:case 23:return El(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?($t&1073741824)!==0&&(kt(r),r.subtreeFlags&6&&(r.flags|=8192)):kt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Eg(e,r){switch(Ia(r),r.tag){case 1:return Ct(r.type)&&Ai(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return zn(),We(Nt),We(bt),Ka(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return qa(r),null;case 13:if(We(Ke),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));$n()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return We(Ke),null;case 4:return zn(),null;case 10:return Ma(r.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var Zi=!1,St=!1,jg=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Wn(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Ye(e,r,l)}else i.current=null}function fl(e,r,i){try{i()}catch(l){Ye(e,r,l)}}var th=!1;function Ng(e,r){if(Ea=wi,e=Au(),va(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var v=0,k=-1,j=-1,L=0,V=0,W=e,B=null;t:for(;;){for(var Y;W!==i||h!==0&&W.nodeType!==3||(k=v+h),W!==p||l!==0&&W.nodeType!==3||(j=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Y=W.firstChild)!==null;)B=W,W=Y;for(;;){if(W===e)break t;if(B===i&&++L===h&&(k=v),B===p&&++V===l&&(j=v),(Y=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=Y}i=k===-1||j===-1?null:{start:k,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for(ja={focusedElem:e,selectionRange:i},wi=!1,ee=r;ee!==null;)if(r=ee,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ee=e;else for(;ee!==null;){r=ee;try{var re=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,rt=re.memoizedState,A=r.stateNode,T=A.getSnapshotBeforeUpdate(r.elementType===r.type?ie:er(r.type,ie),rt);A.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=r.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){Ye(r,r.return,q)}if(e=r.sibling,e!==null){e.return=r.return,ee=e;break}ee=r.return}return re=th,th=!1,re}function qs(e,r,i){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&fl(r,i,p)}h=h.next}while(h!==l)}}function eo(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==r)}}function pl(e){var r=e.ref;if(r!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof r=="function"?r(e):r.current=e}}function rh(e){var r=e.alternate;r!==null&&(e.alternate=null,rh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[dr],delete r[Is],delete r[Ra],delete r[cg],delete r[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nh(e){return e.tag===5||e.tag===3||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ml(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Oi));else if(l!==4&&(e=e.child,e!==null))for(ml(e,r,i),e=e.sibling;e!==null;)ml(e,r,i),e=e.sibling}function gl(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(gl(e,r,i),e=e.sibling;e!==null;)gl(e,r,i),e=e.sibling}var gt=null,tr=!1;function Vr(e,r,i){for(i=i.child;i!==null;)ih(e,r,i),i=i.sibling}function ih(e,r,i){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(fi,i)}catch{}switch(i.tag){case 5:St||Wn(i,r);case 6:var l=gt,h=tr;gt=null,Vr(e,r,i),gt=l,tr=h,gt!==null&&(tr?(e=gt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):gt.removeChild(i.stateNode));break;case 18:gt!==null&&(tr?(e=gt,i=i.stateNode,e.nodeType===8?Ta(e.parentNode,i):e.nodeType===1&&Ta(e,i),ks(e)):Ta(gt,i.stateNode));break;case 4:l=gt,h=tr,gt=i.stateNode.containerInfo,tr=!0,Vr(e,r,i),gt=l,tr=h;break;case 0:case 11:case 14:case 15:if(!St&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&fl(i,r,v),h=h.next}while(h!==l)}Vr(e,r,i);break;case 1:if(!St&&(Wn(i,r),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(k){Ye(i,r,k)}Vr(e,r,i);break;case 21:Vr(e,r,i);break;case 22:i.mode&1?(St=(l=St)||i.memoizedState!==null,Vr(e,r,i),St=l):Vr(e,r,i);break;default:Vr(e,r,i)}}function oh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new jg),r.forEach(function(l){var h=Dg.bind(null,e,l);i.has(l)||(i.add(l),l.then(h,h))})}}function rr(e,r){var i=r.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];try{var p=e,v=r,k=v;e:for(;k!==null;){switch(k.tag){case 5:gt=k.stateNode,tr=!1;break e;case 3:gt=k.stateNode.containerInfo,tr=!0;break e;case 4:gt=k.stateNode.containerInfo,tr=!0;break e}k=k.return}if(gt===null)throw Error(n(160));ih(p,v,h),gt=null,tr=!1;var j=h.alternate;j!==null&&(j.return=null),h.return=null}catch(L){Ye(h,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ah(r,e),r=r.sibling}function ah(e,r){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(r,e),pr(e),l&4){try{qs(3,e,e.return),eo(3,e)}catch(ie){Ye(e,e.return,ie)}try{qs(5,e,e.return)}catch(ie){Ye(e,e.return,ie)}}break;case 1:rr(r,e),pr(e),l&512&&i!==null&&Wn(i,i.return);break;case 5:if(rr(r,e),pr(e),l&512&&i!==null&&Wn(i,i.return),e.flags&32){var h=e.stateNode;try{mr(h,"")}catch(ie){Ye(e,e.return,ie)}}if(l&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,v=i!==null?i.memoizedProps:p,k=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{k==="input"&&p.type==="radio"&&p.name!=null&&Se(h,p),Ko(k,v);var L=Ko(k,p);for(v=0;v<j.length;v+=2){var V=j[v],W=j[v+1];V==="style"?Vc(h,W):V==="dangerouslySetInnerHTML"?Vt(h,W):V==="children"?mr(h,W):O(h,V,W,L)}switch(k){case"input":Te(h,p);break;case"textarea":zt(h,p);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Y=p.value;Y!=null?It(h,!!p.multiple,Y,!1):B!==!!p.multiple&&(p.defaultValue!=null?It(h,!!p.multiple,p.defaultValue,!0):It(h,!!p.multiple,p.multiple?[]:"",!1))}h[Is]=p}catch(ie){Ye(e,e.return,ie)}}break;case 6:if(rr(r,e),pr(e),l&4){if(e.stateNode===null)throw Error(n(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(ie){Ye(e,e.return,ie)}}break;case 3:if(rr(r,e),pr(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ks(r.containerInfo)}catch(ie){Ye(e,e.return,ie)}break;case 4:rr(r,e),pr(e);break;case 13:rr(r,e),pr(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(wl=tt())),l&4&&oh(e);break;case 22:if(V=i!==null&&i.memoizedState!==null,e.mode&1?(St=(L=St)||V,rr(r,e),St=L):rr(r,e),pr(e),l&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!V&&(e.mode&1)!==0)for(ee=e,V=e.child;V!==null;){for(W=ee=V;ee!==null;){switch(B=ee,Y=B.child,B.tag){case 0:case 11:case 14:case 15:qs(4,B,B.return);break;case 1:Wn(B,B.return);var re=B.stateNode;if(typeof re.componentWillUnmount=="function"){l=B,i=B.return;try{r=l,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Ye(l,i,ie)}}break;case 5:Wn(B,B.return);break;case 22:if(B.memoizedState!==null){uh(W);continue}}Y!==null?(Y.return=B,ee=Y):uh(W)}V=V.sibling}e:for(V=null,W=e;;){if(W.tag===5){if(V===null){V=W;try{h=W.stateNode,L?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(k=W.stateNode,j=W.memoizedProps.style,v=j!=null&&j.hasOwnProperty("display")?j.display:null,k.style.display=zc("display",v))}catch(ie){Ye(e,e.return,ie)}}}else if(W.tag===6){if(V===null)try{W.stateNode.nodeValue=L?"":W.memoizedProps}catch(ie){Ye(e,e.return,ie)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;V===W&&(V=null),W=W.return}V===W&&(V=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:rr(r,e),pr(e),l&4&&oh(e);break;case 21:break;default:rr(r,e),pr(e)}}function pr(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(nh(i)){var l=i;break e}i=i.return}throw Error(n(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(mr(h,""),l.flags&=-33);var p=sh(e);gl(e,p,h);break;case 3:case 4:var v=l.stateNode.containerInfo,k=sh(e);ml(e,k,v);break;default:throw Error(n(161))}}catch(j){Ye(e,e.return,j)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Cg(e,r,i){ee=e,lh(e)}function lh(e,r,i){for(var l=(e.mode&1)!==0;ee!==null;){var h=ee,p=h.child;if(h.tag===22&&l){var v=h.memoizedState!==null||Zi;if(!v){var k=h.alternate,j=k!==null&&k.memoizedState!==null||St;k=Zi;var L=St;if(Zi=v,(St=j)&&!L)for(ee=h;ee!==null;)v=ee,j=v.child,v.tag===22&&v.memoizedState!==null?dh(h):j!==null?(j.return=v,ee=j):dh(h);for(;p!==null;)ee=p,lh(p),p=p.sibling;ee=h,Zi=k,St=L}ch(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ee=p):ch(e)}}function ch(e){for(;ee!==null;){var r=ee;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:St||eo(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!St)if(i===null)l.componentDidMount();else{var h=r.elementType===r.type?i.memoizedProps:er(r.type,i.memoizedProps);l.componentDidUpdate(h,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&ud(r,p,l);break;case 3:var v=r.updateQueue;if(v!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}ud(r,v,i)}break;case 5:var k=r.stateNode;if(i===null&&r.flags&4){i=k;var j=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&i.focus();break;case"img":j.src&&(i.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var V=L.memoizedState;if(V!==null){var W=V.dehydrated;W!==null&&ks(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}St||r.flags&512&&pl(r)}catch(B){Ye(r,r.return,B)}}if(r===e){ee=null;break}if(i=r.sibling,i!==null){i.return=r.return,ee=i;break}ee=r.return}}function uh(e){for(;ee!==null;){var r=ee;if(r===e){ee=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ee=i;break}ee=r.return}}function dh(e){for(;ee!==null;){var r=ee;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{eo(4,r)}catch(j){Ye(r,i,j)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var h=r.return;try{l.componentDidMount()}catch(j){Ye(r,h,j)}}var p=r.return;try{pl(r)}catch(j){Ye(r,p,j)}break;case 5:var v=r.return;try{pl(r)}catch(j){Ye(r,v,j)}}}catch(j){Ye(r,r.return,j)}if(r===e){ee=null;break}var k=r.sibling;if(k!==null){k.return=r.return,ee=k;break}ee=r.return}}var Tg=Math.ceil,to=D.ReactCurrentDispatcher,vl=D.ReactCurrentOwner,Gt=D.ReactCurrentBatchConfig,Oe=0,ht=null,nt=null,vt=0,$t=0,qn=$r(0),at=0,Hs=null,un=0,ro=0,yl=0,Ks=null,Rt=null,wl=0,Hn=1/0,kr=null,no=!1,xl=null,Wr=null,so=!1,qr=null,io=0,Gs=0,bl=null,oo=-1,ao=0;function jt(){return(Oe&6)!==0?tt():oo!==-1?oo:oo=tt()}function Hr(e){return(e.mode&1)===0?1:(Oe&2)!==0&&vt!==0?vt&-vt:hg.transition!==null?(ao===0&&(ao=su()),ao):(e=Le,e!==0||(e=window.event,e=e===void 0?16:fu(e.type)),e)}function nr(e,r,i,l){if(50<Gs)throw Gs=0,bl=null,Error(n(185));ys(e,i,l),((Oe&2)===0||e!==ht)&&(e===ht&&((Oe&2)===0&&(ro|=i),at===4&&Kr(e,vt)),Ot(e,l),i===1&&Oe===0&&(r.mode&1)===0&&(Hn=tt()+500,Li&&Mr()))}function Ot(e,r){var i=e.callbackNode;hm(e,r);var l=gi(e,e===ht?vt:0);if(l===0)i!==null&&tu(i),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(i!=null&&tu(i),r===1)e.tag===0?dg(fh.bind(null,e)):Xu(fh.bind(null,e)),ag(function(){(Oe&6)===0&&Mr()}),i=null;else{switch(iu(l)){case 1:i=ea;break;case 4:i=ru;break;case 16:i=hi;break;case 536870912:i=nu;break;default:i=hi}i=bh(i,hh.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function hh(e,r){if(oo=-1,ao=0,(Oe&6)!==0)throw Error(n(327));var i=e.callbackNode;if(Kn()&&e.callbackNode!==i)return null;var l=gi(e,e===ht?vt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||r)r=lo(e,l);else{r=l;var h=Oe;Oe|=2;var p=mh();(ht!==e||vt!==r)&&(kr=null,Hn=tt()+500,hn(e,r));do try{Pg();break}catch(k){ph(e,k)}while(!0);Ua(),to.current=p,Oe=h,nt!==null?r=0:(ht=null,vt=0,r=at)}if(r!==0){if(r===2&&(h=ta(e),h!==0&&(l=h,r=_l(e,h))),r===1)throw i=Hs,hn(e,0),Kr(e,l),Ot(e,tt()),i;if(r===6)Kr(e,l);else{if(h=e.current.alternate,(l&30)===0&&!Rg(h)&&(r=lo(e,l),r===2&&(p=ta(e),p!==0&&(l=p,r=_l(e,p))),r===1))throw i=Hs,hn(e,0),Kr(e,l),Ot(e,tt()),i;switch(e.finishedWork=h,e.finishedLanes=l,r){case 0:case 1:throw Error(n(345));case 2:fn(e,Rt,kr);break;case 3:if(Kr(e,l),(l&130023424)===l&&(r=wl+500-tt(),10<r)){if(gi(e,0)!==0)break;if(h=e.suspendedLanes,(h&l)!==l){jt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ca(fn.bind(null,e,Rt,kr),r);break}fn(e,Rt,kr);break;case 4:if(Kr(e,l),(l&4194240)===l)break;for(r=e.eventTimes,h=-1;0<l;){var v=31-Yt(l);p=1<<v,v=r[v],v>h&&(h=v),l&=~p}if(l=h,l=tt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Tg(l/1960))-l,10<l){e.timeoutHandle=Ca(fn.bind(null,e,Rt,kr),l);break}fn(e,Rt,kr);break;case 5:fn(e,Rt,kr);break;default:throw Error(n(329))}}}return Ot(e,tt()),e.callbackNode===i?hh.bind(null,e):null}function _l(e,r){var i=Ks;return e.current.memoizedState.isDehydrated&&(hn(e,r).flags|=256),e=lo(e,r),e!==2&&(r=Rt,Rt=i,r!==null&&kl(r)),e}function kl(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function Rg(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var h=i[l],p=h.getSnapshot;h=h.value;try{if(!Xt(p(),h))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(e,r){for(r&=~yl,r&=~ro,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Yt(r),l=1<<i;e[i]=-1,r&=~l}}function fh(e){if((Oe&6)!==0)throw Error(n(327));Kn();var r=gi(e,0);if((r&1)===0)return Ot(e,tt()),null;var i=lo(e,r);if(e.tag!==0&&i===2){var l=ta(e);l!==0&&(r=l,i=_l(e,l))}if(i===1)throw i=Hs,hn(e,0),Kr(e,r),Ot(e,tt()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,fn(e,Rt,kr),Ot(e,tt()),null}function Sl(e,r){var i=Oe;Oe|=1;try{return e(r)}finally{Oe=i,Oe===0&&(Hn=tt()+500,Li&&Mr())}}function dn(e){qr!==null&&qr.tag===0&&(Oe&6)===0&&Kn();var r=Oe;Oe|=1;var i=Gt.transition,l=Le;try{if(Gt.transition=null,Le=1,e)return e()}finally{Le=l,Gt.transition=i,Oe=r,(Oe&6)===0&&Mr()}}function El(){$t=qn.current,We(qn)}function hn(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,og(i)),nt!==null)for(i=nt.return;i!==null;){var l=i;switch(Ia(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ai();break;case 3:zn(),We(Nt),We(bt),Ka();break;case 5:qa(l);break;case 4:zn();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:Ma(l.type._context);break;case 22:case 23:El()}i=i.return}if(ht=e,nt=e=Gr(e.current,null),vt=$t=r,at=0,Hs=null,yl=ro=un=0,Rt=Ks=null,an!==null){for(r=0;r<an.length;r++)if(i=an[r],l=i.interleaved,l!==null){i.interleaved=null;var h=l.next,p=i.pending;if(p!==null){var v=p.next;p.next=h,l.next=v}i.pending=l}an=null}return e}function ph(e,r){do{var i=nt;try{if(Ua(),qi.current=Ji,Hi){for(var l=Ge.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}Hi=!1}if(cn=0,dt=ot=Ge=null,Ms=!1,Bs=0,vl.current=null,i===null||i.return===null){at=1,Hs=r,nt=null;break}e:{var p=e,v=i.return,k=i,j=r;if(r=vt,k.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var L=j,V=k,W=V.tag;if((V.mode&1)===0&&(W===0||W===11||W===15)){var B=V.alternate;B?(V.updateQueue=B.updateQueue,V.memoizedState=B.memoizedState,V.lanes=B.lanes):(V.updateQueue=null,V.memoizedState=null)}var Y=Ud(v);if(Y!==null){Y.flags&=-257,Md(Y,v,k,p,r),Y.mode&1&&$d(p,L,r),r=Y,j=L;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(j),r.updateQueue=ie}else re.add(j);break e}else{if((r&1)===0){$d(p,L,r),jl();break e}j=Error(n(426))}}else if(qe&&k.mode&1){var rt=Ud(v);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Md(rt,v,k,p,r),Fa(Vn(j,k));break e}}p=j=Vn(j,k),at!==4&&(at=2),Ks===null?Ks=[p]:Ks.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var A=Dd(p,j,r);cd(p,A);break e;case 1:k=j;var T=p.type,I=p.stateNode;if((p.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Wr===null||!Wr.has(I)))){p.flags|=65536,r&=-r,p.lanes|=r;var q=Fd(p,k,r);cd(p,q);break e}}p=p.return}while(p!==null)}vh(i)}catch(ce){r=ce,nt===i&&i!==null&&(nt=i=i.return);continue}break}while(!0)}function mh(){var e=to.current;return to.current=Ji,e===null?Ji:e}function jl(){(at===0||at===3||at===2)&&(at=4),ht===null||(un&268435455)===0&&(ro&268435455)===0||Kr(ht,vt)}function lo(e,r){var i=Oe;Oe|=2;var l=mh();(ht!==e||vt!==r)&&(kr=null,hn(e,r));do try{Og();break}catch(h){ph(e,h)}while(!0);if(Ua(),Oe=i,to.current=l,nt!==null)throw Error(n(261));return ht=null,vt=0,at}function Og(){for(;nt!==null;)gh(nt)}function Pg(){for(;nt!==null&&!nm();)gh(nt)}function gh(e){var r=xh(e.alternate,e,$t);e.memoizedProps=e.pendingProps,r===null?vh(e):nt=r,vl.current=null}function vh(e){var r=e;do{var i=r.alternate;if(e=r.return,(r.flags&32768)===0){if(i=Sg(i,r,$t),i!==null){nt=i;return}}else{if(i=Eg(i,r),i!==null){i.flags&=32767,nt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,nt=null;return}}if(r=r.sibling,r!==null){nt=r;return}nt=r=e}while(r!==null);at===0&&(at=5)}function fn(e,r,i){var l=Le,h=Gt.transition;try{Gt.transition=null,Le=1,Ag(e,r,i,l)}finally{Gt.transition=h,Le=l}return null}function Ag(e,r,i,l){do Kn();while(qr!==null);if((Oe&6)!==0)throw Error(n(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(fm(e,p),e===ht&&(nt=ht=null,vt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||so||(so=!0,bh(hi,function(){return Kn(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=Gt.transition,Gt.transition=null;var v=Le;Le=1;var k=Oe;Oe|=4,vl.current=null,Ng(e,i),ah(i,e),Zm(ja),wi=!!Ea,ja=Ea=null,e.current=i,Cg(i),sm(),Oe=k,Le=v,Gt.transition=p}else e.current=i;if(so&&(so=!1,qr=e,io=h),p=e.pendingLanes,p===0&&(Wr=null),am(i.stateNode),Ot(e,tt()),r!==null)for(l=e.onRecoverableError,i=0;i<r.length;i++)h=r[i],l(h.value,{componentStack:h.stack,digest:h.digest});if(no)throw no=!1,e=xl,xl=null,e;return(io&1)!==0&&e.tag!==0&&Kn(),p=e.pendingLanes,(p&1)!==0?e===bl?Gs++:(Gs=0,bl=e):Gs=0,Mr(),null}function Kn(){if(qr!==null){var e=iu(io),r=Gt.transition,i=Le;try{if(Gt.transition=null,Le=16>e?16:e,qr===null)var l=!1;else{if(e=qr,qr=null,io=0,(Oe&6)!==0)throw Error(n(331));var h=Oe;for(Oe|=4,ee=e.current;ee!==null;){var p=ee,v=p.child;if((ee.flags&16)!==0){var k=p.deletions;if(k!==null){for(var j=0;j<k.length;j++){var L=k[j];for(ee=L;ee!==null;){var V=ee;switch(V.tag){case 0:case 11:case 15:qs(8,V,p)}var W=V.child;if(W!==null)W.return=V,ee=W;else for(;ee!==null;){V=ee;var B=V.sibling,Y=V.return;if(rh(V),V===L){ee=null;break}if(B!==null){B.return=Y,ee=B;break}ee=Y}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var rt=ie.sibling;ie.sibling=null,ie=rt}while(ie!==null)}}ee=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,ee=v;else e:for(;ee!==null;){if(p=ee,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:qs(9,p,p.return)}var A=p.sibling;if(A!==null){A.return=p.return,ee=A;break e}ee=p.return}}var T=e.current;for(ee=T;ee!==null;){v=ee;var I=v.child;if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,ee=I;else e:for(v=T;ee!==null;){if(k=ee,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:eo(9,k)}}catch(ce){Ye(k,k.return,ce)}if(k===v){ee=null;break e}var q=k.sibling;if(q!==null){q.return=k.return,ee=q;break e}ee=k.return}}if(Oe=h,Mr(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(fi,e)}catch{}l=!0}return l}finally{Le=i,Gt.transition=r}}return!1}function yh(e,r,i){r=Vn(i,r),r=Dd(e,r,1),e=zr(e,r,1),r=jt(),e!==null&&(ys(e,1,r),Ot(e,r))}function Ye(e,r,i){if(e.tag===3)yh(e,e,i);else for(;r!==null;){if(r.tag===3){yh(r,e,i);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){e=Vn(i,e),e=Fd(r,e,1),r=zr(r,e,1),e=jt(),r!==null&&(ys(r,1,e),Ot(r,e));break}}r=r.return}}function Ig(e,r,i){var l=e.pingCache;l!==null&&l.delete(r),r=jt(),e.pingedLanes|=e.suspendedLanes&i,ht===e&&(vt&i)===i&&(at===4||at===3&&(vt&130023424)===vt&&500>tt()-wl?hn(e,0):yl|=i),Ot(e,r)}function wh(e,r){r===0&&((e.mode&1)===0?r=1:(r=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var i=jt();e=xr(e,r),e!==null&&(ys(e,r,i),Ot(e,i))}function Lg(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),wh(e,i)}function Dg(e,r){var i=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(r),wh(e,i)}var xh;xh=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||Nt.current)Tt=!0;else{if((e.lanes&i)===0&&(r.flags&128)===0)return Tt=!1,kg(e,r,i);Tt=(e.flags&131072)!==0}else Tt=!1,qe&&(r.flags&1048576)!==0&&Zu(r,Fi,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Xi(e,r),e=r.pendingProps;var h=Ln(r,bt.current);Bn(r,i),h=Qa(null,r,l,e,h,i);var p=Ya();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ct(l)?(p=!0,Ii(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Va(r),h.updater=Qi,r.stateNode=h,h._reactInternals=r,nl(r,l,e,i),r=al(null,r,l,!0,p,i)):(r.tag=0,qe&&p&&Aa(r),Et(null,r,h,i),r=r.child),r;case 16:l=r.elementType;e:{switch(Xi(e,r),e=r.pendingProps,h=l._init,l=h(l._payload),r.type=l,h=r.tag=$g(l),e=er(l,e),h){case 0:r=ol(null,r,l,e,i);break e;case 1:r=Hd(null,r,l,e,i);break e;case 11:r=Bd(null,r,l,e,i);break e;case 14:r=zd(null,r,l,er(l.type,e),i);break e}throw Error(n(306,l,""))}return r;case 0:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),ol(e,r,l,h,i);case 1:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),Hd(e,r,l,h,i);case 3:e:{if(Kd(r),e===null)throw Error(n(387));l=r.pendingProps,p=r.memoizedState,h=p.element,ld(e,r),Vi(r,l,null,i);var v=r.memoizedState;if(l=v.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Vn(Error(n(423)),r),r=Gd(e,r,l,i,h);break e}else if(l!==h){h=Vn(Error(n(424)),r),r=Gd(e,r,l,i,h);break e}else for(Ft=Fr(r.stateNode.containerInfo.firstChild),Dt=r,qe=!0,Zt=null,i=od(r,null,l,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if($n(),l===h){r=_r(e,r,i);break e}Et(e,r,l,i)}r=r.child}return r;case 5:return dd(r),e===null&&Da(r),l=r.type,h=r.pendingProps,p=e!==null?e.memoizedProps:null,v=h.children,Na(l,h)?v=null:p!==null&&Na(l,p)&&(r.flags|=32),qd(e,r),Et(e,r,v,i),r.child;case 6:return e===null&&Da(r),null;case 13:return Jd(e,r,i);case 4:return Wa(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Un(r,null,l,i):Et(e,r,l,i),r.child;case 11:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),Bd(e,r,l,h,i);case 7:return Et(e,r,r.pendingProps,i),r.child;case 8:return Et(e,r,r.pendingProps.children,i),r.child;case 12:return Et(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(l=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,Be(Mi,l._currentValue),l._currentValue=v,p!==null)if(Xt(p.value,v)){if(p.children===h.children&&!Nt.current){r=_r(e,r,i);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var k=p.dependencies;if(k!==null){v=p.child;for(var j=k.firstContext;j!==null;){if(j.context===l){if(p.tag===1){j=br(-1,i&-i),j.tag=2;var L=p.updateQueue;if(L!==null){L=L.shared;var V=L.pending;V===null?j.next=j:(j.next=V.next,V.next=j),L.pending=j}}p.lanes|=i,j=p.alternate,j!==null&&(j.lanes|=i),Ba(p.return,i,r),k.lanes|=i;break}j=j.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=i,k=v.alternate,k!==null&&(k.lanes|=i),Ba(v,i,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Et(e,r,h.children,i),r=r.child}return r;case 9:return h=r.type,l=r.pendingProps.children,Bn(r,i),h=Ht(h),l=l(h),r.flags|=1,Et(e,r,l,i),r.child;case 14:return l=r.type,h=er(l,r.pendingProps),h=er(l.type,h),zd(e,r,l,h,i);case 15:return Vd(e,r,r.type,r.pendingProps,i);case 17:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),Xi(e,r),r.tag=1,Ct(l)?(e=!0,Ii(r)):e=!1,Bn(r,i),Id(r,l,h),nl(r,l,h,i),al(null,r,l,!0,e,i);case 19:return Yd(e,r,i);case 22:return Wd(e,r,i)}throw Error(n(156,r.tag))};function bh(e,r){return eu(e,r)}function Fg(e,r,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,r,i,l){return new Fg(e,r,i,l)}function Nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return Nl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===le)return 11;if(e===Q)return 14}return 2}function Gr(e,r){var i=e.alternate;return i===null?(i=Jt(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function co(e,r,i,l,h,p){var v=2;if(l=e,typeof e=="function")Nl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case H:return pn(i.children,h,p,r);case F:v=8,h|=8;break;case z:return e=Jt(12,i,r,h|2),e.elementType=z,e.lanes=p,e;case Re:return e=Jt(13,i,r,h),e.elementType=Re,e.lanes=p,e;case te:return e=Jt(19,i,r,h),e.elementType=te,e.lanes=p,e;case fe:return uo(i,h,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:v=10;break e;case ae:v=9;break e;case le:v=11;break e;case Q:v=14;break e;case pe:v=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=Jt(v,i,r,h),r.elementType=e,r.type=l,r.lanes=p,r}function pn(e,r,i,l){return e=Jt(7,e,l,r),e.lanes=i,e}function uo(e,r,i,l){return e=Jt(22,e,l,r),e.elementType=fe,e.lanes=i,e.stateNode={isHidden:!1},e}function Cl(e,r,i){return e=Jt(6,e,null,r),e.lanes=i,e}function Tl(e,r,i){return r=Jt(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Ug(e,r,i,l,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Rl(e,r,i,l,h,p,v,k,j){return e=new Ug(e,r,i,k,j),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Jt(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(p),e}function Mg(e,r,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:l==null?null:""+l,children:e,containerInfo:r,implementation:i}}function _h(e){if(!e)return Ur;e=e._reactInternals;e:{if(tn(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ct(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(Ct(i))return Qu(e,i,r)}return r}function kh(e,r,i,l,h,p,v,k,j){return e=Rl(i,l,!0,e,h,p,v,k,j),e.context=_h(null),i=e.current,l=jt(),h=Hr(i),p=br(l,h),p.callback=r??null,zr(i,p,h),e.current.lanes=h,ys(e,h,l),Ot(e,l),e}function ho(e,r,i,l){var h=r.current,p=jt(),v=Hr(h);return i=_h(i),r.context===null?r.context=i:r.pendingContext=i,r=br(p,v),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=zr(h,r,v),e!==null&&(nr(e,h,v,p),zi(e,h,v)),v}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function Ol(e,r){Sh(e,r),(e=e.alternate)&&Sh(e,r)}function Bg(){return null}var Eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pl(e){this._internalRoot=e}po.prototype.render=Pl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));ho(e,r,null,null)},po.prototype.unmount=Pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;dn(function(){ho(null,e,null,null)}),r[gr]=null}};function po(e){this._internalRoot=e}po.prototype.unstable_scheduleHydration=function(e){if(e){var r=lu();e={blockedOn:null,target:e,priority:r};for(var i=0;i<Ir.length&&r!==0&&r<Ir[i].priority;i++);Ir.splice(i,0,e),i===0&&du(e)}};function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jh(){}function zg(e,r,i,l,h){if(h){if(typeof l=="function"){var p=l;l=function(){var L=fo(v);p.call(L)}}var v=kh(r,l,e,0,null,!1,!1,"",jh);return e._reactRootContainer=v,e[gr]=v.current,Ps(e.nodeType===8?e.parentNode:e),dn(),v}for(;h=e.lastChild;)e.removeChild(h);if(typeof l=="function"){var k=l;l=function(){var L=fo(j);k.call(L)}}var j=Rl(e,0,!1,null,null,!1,!1,"",jh);return e._reactRootContainer=j,e[gr]=j.current,Ps(e.nodeType===8?e.parentNode:e),dn(function(){ho(r,j,i,l)}),j}function go(e,r,i,l,h){var p=i._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var k=h;h=function(){var j=fo(v);k.call(j)}}ho(r,v,e,h)}else v=zg(i,r,e,h,l);return fo(v)}ou=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=vs(r.pendingLanes);i!==0&&(na(r,i|1),Ot(r,tt()),(Oe&6)===0&&(Hn=tt()+500,Mr()))}break;case 13:dn(function(){var l=xr(e,1);if(l!==null){var h=jt();nr(l,e,1,h)}}),Ol(e,1)}},sa=function(e){if(e.tag===13){var r=xr(e,134217728);if(r!==null){var i=jt();nr(r,e,134217728,i)}Ol(e,134217728)}},au=function(e){if(e.tag===13){var r=Hr(e),i=xr(e,r);if(i!==null){var l=jt();nr(i,e,r,l)}Ol(e,r)}},lu=function(){return Le},cu=function(e,r){var i=Le;try{return Le=e,r()}finally{Le=i}},Qo=function(e,r,i){switch(r){case"input":if(Te(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var l=i[r];if(l!==e&&l.form===e.form){var h=Pi(l);if(!h)throw Error(n(90));Ee(l),Te(l,h)}}}break;case"textarea":zt(e,i);break;case"select":r=i.value,r!=null&&It(e,!!i.multiple,r,!1)}},Kc=Sl,Gc=dn;var Vg={usingClientEntryPoint:!1,Events:[Ls,An,Pi,qc,Hc,Sl]},Js={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wg={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xc(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||Bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{fi=vo.inject(Wg),ur=vo}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg,Pt.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(r))throw Error(n(200));return Mg(e,r,null,i)},Pt.createRoot=function(e,r){if(!Al(e))throw Error(n(299));var i=!1,l="",h=Eh;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Rl(e,1,!1,null,null,i,!1,l,h),e[gr]=r.current,Ps(e.nodeType===8?e.parentNode:e),new Pl(r)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Xc(r),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return dn(e)},Pt.hydrate=function(e,r,i){if(!mo(r))throw Error(n(200));return go(null,e,r,!0,i)},Pt.hydrateRoot=function(e,r,i){if(!Al(e))throw Error(n(405));var l=i!=null&&i.hydratedSources||null,h=!1,p="",v=Eh;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),r=kh(r,null,e,1,i??null,h,!1,p,v),e[gr]=r.current,Ps(e),l)for(e=0;e<l.length;e++)i=l[e],h=i._getVersion,h=h(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,h]:r.mutableSourceEagerHydrationData.push(i,h);return new po(r)},Pt.render=function(e,r,i){if(!mo(r))throw Error(n(200));return go(null,e,r,!1,i)},Pt.unmountComponentAtNode=function(e){if(!mo(e))throw Error(n(40));return e._reactRootContainer?(dn(function(){go(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1},Pt.unstable_batchedUpdates=Sl,Pt.unstable_renderSubtreeIntoContainer=function(e,r,i,l){if(!mo(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return go(e,r,i,!1,l)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var Ih;function Of(){if(Ih)return Dl.exports;Ih=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dl.exports=Zg(),Dl.exports}var Lh;function e0(){if(Lh)return yo;Lh=1;var s=Of();return yo.createRoot=s.createRoot,yo.hydrateRoot=s.hydrateRoot,yo}var t0=e0(),N=Uo();const or=Kg(N),Tc=Hg({__proto__:null,default:or},[N]);var Ul={exports:{}},Ml={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function r0(){if(Dh)return Ml;Dh=1;var s=Uo();function t(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var n=typeof Object.is=="function"?Object.is:t,o=s.useState,a=s.useEffect,c=s.useLayoutEffect,d=s.useDebugValue;function f(x,w){var b=w(),C=o({inst:{value:b,getSnapshot:w}}),_=C[0].inst,E=C[1];return c(function(){_.value=b,_.getSnapshot=w,m(_)&&E({inst:_})},[x,b,w]),a(function(){return m(_)&&E({inst:_}),x(function(){m(_)&&E({inst:_})})},[x]),d(b),b}function m(x){var w=x.getSnapshot;x=x.value;try{var b=w();return!n(x,b)}catch{return!0}}function g(x,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return Ml.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:y,Ml}var Fh;function n0(){return Fh||(Fh=1,Ul.exports=r0()),Ul.exports}var $h=n0();const Pf=0,Af=1,If=2,Uh=3;var Mh=Object.prototype.hasOwnProperty;function lc(s,t){var n,o;if(s===t)return!0;if(s&&t&&(n=s.constructor)===t.constructor){if(n===Date)return s.getTime()===t.getTime();if(n===RegExp)return s.toString()===t.toString();if(n===Array){if((o=s.length)===t.length)for(;o--&&lc(s[o],t[o]););return o===-1}if(!n||typeof s=="object"){o=0;for(n in s)if(Mh.call(s,n)&&++o&&!Mh.call(t,n)||!(n in t)||!lc(s[n],t[n]))return!1;return Object.keys(t).length===o}}return s!==s&&t!==t}const jr=new WeakMap,Nr=()=>{},xt=Nr(),Ro=Object,Pe=s=>s===xt,lr=s=>typeof s=="function",Tr=(s,t)=>({...s,...t}),Lf=s=>lr(s.then),Bl={},wo={},Rc="undefined",ai=typeof window!=Rc,cc=typeof document!=Rc,s0=ai&&"Deno"in window,i0=()=>ai&&typeof window.requestAnimationFrame!=Rc,Df=(s,t)=>{const n=jr.get(s);return[()=>!Pe(t)&&s.get(t)||Bl,o=>{if(!Pe(t)){const a=s.get(t);t in wo||(wo[t]=a),n[5](t,Tr(a,o),a||Bl)}},n[6],()=>!Pe(t)&&t in wo?wo[t]:!Pe(t)&&s.get(t)||Bl]};let uc=!0;const o0=()=>uc,[dc,hc]=ai&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Nr,Nr],a0=()=>{const s=cc&&document.visibilityState;return Pe(s)||s!=="hidden"},l0=s=>(cc&&document.addEventListener("visibilitychange",s),dc("focus",s),()=>{cc&&document.removeEventListener("visibilitychange",s),hc("focus",s)}),c0=s=>{const t=()=>{uc=!0,s()},n=()=>{uc=!1};return dc("online",t),dc("offline",n),()=>{hc("online",t),hc("offline",n)}},u0={isOnline:o0,isVisible:a0},d0={initFocus:l0,initReconnect:c0},Bh=!or.useId,is=!ai||s0,h0=s=>i0()?window.requestAnimationFrame(s):setTimeout(s,1),To=is?N.useEffect:N.useLayoutEffect,zl=typeof navigator<"u"&&navigator.connection,zh=!is&&zl&&(["slow-2g","2g"].includes(zl.effectiveType)||zl.saveData),xo=new WeakMap,f0=s=>Ro.prototype.toString.call(s),Vl=(s,t)=>s===`[object ${t}]`;let p0=0;const fc=s=>{const t=typeof s,n=f0(s),o=Vl(n,"Date"),a=Vl(n,"RegExp"),c=Vl(n,"Object");let d,f;if(Ro(s)===s&&!o&&!a){if(d=xo.get(s),d)return d;if(d=++p0+"~",xo.set(s,d),Array.isArray(s)){for(d="@",f=0;f<s.length;f++)d+=fc(s[f])+",";xo.set(s,d)}if(c){d="#";const m=Ro.keys(s).sort();for(;!Pe(f=m.pop());)Pe(s[f])||(d+=f+":"+fc(s[f])+",");xo.set(s,d)}}else d=o?s.toJSON():t=="symbol"?s.toString():t=="string"?JSON.stringify(s):""+s;return d},Oc=s=>{if(lr(s))try{s=s()}catch{s=""}const t=s;return s=typeof s=="string"?s:(Array.isArray(s)?s.length:s)?fc(s):"",[s,t]};let m0=0;const pc=()=>++m0;async function Ff(...s){const[t,n,o,a]=s,c=Tr({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let d=c.populateCache;const f=c.rollbackOnError;let m=c.optimisticData;const g=w=>typeof f=="function"?f(w):f!==!1,y=c.throwOnError;if(lr(n)){const w=n,b=[],C=t.keys();for(const _ of C)!/^\$(inf|sub)\$/.test(_)&&w(t.get(_)._k)&&b.push(_);return Promise.all(b.map(x))}return x(n);async function x(w){const[b]=Oc(w);if(!b)return;const[C,_]=Df(t,b),[E,P,S,O]=jr.get(t),D=()=>{const te=E[b];return(lr(c.revalidate)?c.revalidate(C().data,w):c.revalidate!==!1)&&(delete S[b],delete O[b],te&&te[0])?te[0](If).then(()=>C().data):C().data};if(s.length<3)return D();let M=o,G,H=!1;const F=pc();P[b]=[F,0];const z=!Pe(m),de=C(),ae=de.data,le=de._c,Re=Pe(le)?ae:le;if(z&&(m=lr(m)?m(Re,ae):m,_({data:m,_c:Re})),lr(M))try{M=M(Re)}catch(te){G=te,H=!0}if(M&&Lf(M))if(M=await M.catch(te=>{G=te,H=!0}),F!==P[b][0]){if(H)throw G;return M}else H&&z&&g(G)&&(d=!0,_({data:Re,_c:xt}));if(d&&!H)if(lr(d)){const te=d(M,Re);_({data:te,error:xt,_c:xt})}else _({data:M,error:xt,_c:xt});if(P[b][1]=pc(),Promise.resolve(D()).then(()=>{_({_c:xt})}),H){if(y)throw G;return}return M}}const Vh=(s,t)=>{for(const n in s)s[n][0]&&s[n][0](t)},$f=(s,t)=>{if(!jr.has(s)){const n=Tr(d0,t),o=Object.create(null),a=Ff.bind(xt,s);let c=Nr;const d=Object.create(null),f=(y,x)=>{const w=d[y]||[];return d[y]=w,w.push(x),()=>w.splice(w.indexOf(x),1)},m=(y,x,w)=>{s.set(y,x);const b=d[y];if(b)for(const C of b)C(x,w)},g=()=>{if(!jr.has(s)&&(jr.set(s,[o,Object.create(null),Object.create(null),Object.create(null),a,m,f]),!is)){const y=n.initFocus(setTimeout.bind(xt,Vh.bind(xt,o,Pf))),x=n.initReconnect(setTimeout.bind(xt,Vh.bind(xt,o,Af)));c=()=>{y&&y(),x&&x(),jr.delete(s)}}};return g(),[s,a,g,c]}return[s,jr.get(s)[4]]},g0=(s,t,n,o,a)=>{const c=n.errorRetryCount,d=a.retryCount,f=~~((Math.random()+.5)*(1<<(d<8?d:8)))*n.errorRetryInterval;!Pe(c)&&d>c||setTimeout(o,f,a)},v0=lc,[Pc,os]=$f(new Map),Uf=Tr({onLoadingSlow:Nr,onSuccess:Nr,onError:Nr,onErrorRetry:g0,onDiscarded:Nr,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:zh?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:zh?5e3:3e3,compare:v0,isPaused:()=>!1,cache:Pc,mutate:os,fallback:{}},u0),Mf=(s,t)=>{const n=Tr(s,t);if(t){const{use:o,fallback:a}=s,{use:c,fallback:d}=t;o&&c&&(n.use=o.concat(c)),a&&d&&(n.fallback=Tr(a,d))}return n},mc=N.createContext({}),y0=s=>{const{value:t}=s,n=N.useContext(mc),o=lr(t),a=N.useMemo(()=>o?t(n):t,[o,n,t]),c=N.useMemo(()=>o?a:Mf(n,a),[o,n,a]),d=a&&a.provider,f=N.useRef(xt);d&&!f.current&&(f.current=$f(d(c.cache||Pc),a));const m=f.current;return m&&(c.cache=m[0],c.mutate=m[1]),To(()=>{if(m)return m[2]&&m[2](),m[3]},[]),N.createElement(mc.Provider,Tr(s,{value:c}))},w0="$inf$",Bf=ai&&window.__SWR_DEVTOOLS_USE__,x0=Bf?window.__SWR_DEVTOOLS_USE__:[],b0=()=>{Bf&&(window.__SWR_DEVTOOLS_REACT__=or)},_0=s=>lr(s[1])?[s[0],s[1],s[2]||{}]:[s[0],null,(s[1]===null?s[2]:s[1])||{}],k0=()=>{const s=N.useContext(mc);return N.useMemo(()=>Tr(Uf,s),[s])},S0=s=>(t,n,o)=>s(t,n&&((...c)=>{const[d]=Oc(t),[,,,f]=jr.get(Pc);if(d.startsWith(w0))return n(...c);const m=f[d];return Pe(m)?n(...c):(delete f[d],m)}),o),E0=x0.concat(S0),j0=s=>function(...n){const o=k0(),[a,c,d]=_0(n),f=Mf(o,d);let m=s;const{use:g}=f,y=(g||[]).concat(E0);for(let x=y.length;x--;)m=y[x](m);return m(a,c||f.fetcher||null,f)},N0=(s,t,n)=>{const o=t[s]||(t[s]=[]);return o.push(n),()=>{const a=o.indexOf(n);a>=0&&(o[a]=o[o.length-1],o.pop())}};b0();const Wl=or.use||(s=>{switch(s.status){case"pending":throw s;case"fulfilled":return s.value;case"rejected":throw s.reason;default:throw s.status="pending",s.then(t=>{s.status="fulfilled",s.value=t},t=>{s.status="rejected",s.reason=t}),s}}),ql={dedupe:!0},Wh=Promise.resolve(xt),C0=(s,t,n)=>{const{cache:o,compare:a,suspense:c,fallbackData:d,revalidateOnMount:f,revalidateIfStale:m,refreshInterval:g,refreshWhenHidden:y,refreshWhenOffline:x,keepPreviousData:w,strictServerPrefetchWarning:b}=n,[C,_,E,P]=jr.get(o),[S,O]=Oc(s),D=N.useRef(!1),M=N.useRef(!1),G=N.useRef(S),H=N.useRef(t),F=N.useRef(n),z=()=>F.current,de=()=>z().isVisible()&&z().isOnline(),[ae,le,Re,te]=Df(o,S),Q=N.useRef({}).current,pe=Pe(d)?Pe(n.fallback)?xt:n.fallback[S]:d,fe=(Se,Te)=>{for(const Me in Q){const Ue=Me;if(Ue==="data"){if(!a(Se[Ue],Te[Ue])&&(!Pe(Se[Ue])||!a(be,Te[Ue])))return!1}else if(Te[Ue]!==Se[Ue])return!1}return!0},$=N.useMemo(()=>{const Se=!S||!t?!1:Pe(f)?z().isPaused()||c?!1:m!==!1:f,Te=ut=>{const zt=Tr(ut);return delete zt._k,Se?{isValidating:!0,isLoading:!0,...zt}:zt},Me=ae(),Ue=te(),pt=Te(Me),It=Me===Ue?pt:Te(Ue);let et=pt;return[()=>{const ut=Te(ae());return fe(ut,et)?(et.data=ut.data,et.isLoading=ut.isLoading,et.isValidating=ut.isValidating,et.error=ut.error,et):(et=ut,ut)},()=>It]},[o,S]),Z=$h.useSyncExternalStore(N.useCallback(Se=>Re(S,(Te,Me)=>{fe(Me,Te)||Se()}),[o,S]),$[0],$[1]),J=!D.current,R=C[S]&&C[S].length>0,U=Z.data,X=Pe(U)?pe&&Lf(pe)?Wl(pe):pe:U,oe=Z.error,_e=N.useRef(X),be=w?Pe(U)?Pe(_e.current)?X:_e.current:U:X,he=S&&Pe(X),K=!is&&$h.useSyncExternalStore(()=>Nr,()=>!1,()=>!0);b&&K&&!c&&he&&console.warn(`Missing pre-initiated data for serialized key "${S}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);const ke=R&&!Pe(oe)?!1:J&&!Pe(f)?f:z().isPaused()?!1:c?Pe(X)?!1:m:Pe(X)||m,Fe=!!(S&&t&&J&&ke),At=Pe(Z.isValidating)?Fe:Z.isValidating,Ee=Pe(Z.isLoading)?Fe:Z.isLoading,$e=N.useCallback(async Se=>{const Te=H.current;if(!S||!Te||M.current||z().isPaused())return!1;let Me,Ue,pt=!0;const It=Se||{},et=!E[S]||!It.dedupe,ut=()=>Bh?!M.current&&S===G.current&&D.current:S===G.current,zt={isValidating:!1,isLoading:!1},ds=()=>{le(zt)},hs=()=>{const mt=E[S];mt&&mt[1]===Ue&&delete E[S]},kn={isValidating:!0};Pe(ae().data)&&(kn.isLoading=!0);try{if(et&&(le(kn),n.loadingTimeout&&Pe(ae().data)&&setTimeout(()=>{pt&&ut()&&z().onLoadingSlow(S,n)},n.loadingTimeout),E[S]=[Te(O),pc()]),[Me,Ue]=E[S],Me=await Me,et&&setTimeout(hs,n.dedupingInterval),!E[S]||E[S][1]!==Ue)return et&&ut()&&z().onDiscarded(S),!1;zt.error=xt;const mt=_[S];if(!Pe(mt)&&(Ue<=mt[0]||Ue<=mt[1]||mt[1]===0))return ds(),et&&ut()&&z().onDiscarded(S),!1;const Vt=ae().data;zt.data=a(Vt,Me)?Vt:Me,et&&ut()&&z().onSuccess(Me,S,n)}catch(mt){hs();const Vt=z(),{shouldRetryOnError:mr}=Vt;Vt.isPaused()||(zt.error=mt,et&&ut()&&(Vt.onError(mt,S,Vt),(mr===!0||lr(mr)&&mr(mt))&&(!z().revalidateOnFocus||!z().revalidateOnReconnect||de())&&Vt.onErrorRetry(mt,S,Vt,en=>{const fs=C[S];fs&&fs[0]&&fs[0](Uh,en)},{retryCount:(It.retryCount||0)+1,dedupe:!0})))}return pt=!1,ds(),!0},[S,o]),He=N.useCallback((...Se)=>Ff(o,G.current,...Se),[]);if(To(()=>{H.current=t,F.current=n,Pe(U)||(_e.current=U)}),To(()=>{if(!S)return;const Se=$e.bind(xt,ql);let Te=0;z().revalidateOnFocus&&(Te=Date.now()+z().focusThrottleInterval);const Ue=N0(S,C,(pt,It={})=>{if(pt==Pf){const et=Date.now();z().revalidateOnFocus&&et>Te&&de()&&(Te=et+z().focusThrottleInterval,Se())}else if(pt==Af)z().revalidateOnReconnect&&de()&&Se();else{if(pt==If)return $e();if(pt==Uh)return $e(It)}});return M.current=!1,G.current=S,D.current=!0,le({_k:O}),ke&&(E[S]||(Pe(X)||is?Se():h0(Se))),()=>{M.current=!0,Ue()}},[S]),To(()=>{let Se;function Te(){const Ue=lr(g)?g(ae().data):g;Ue&&Se!==-1&&(Se=setTimeout(Me,Ue))}function Me(){!ae().error&&(y||z().isVisible())&&(x||z().isOnline())?$e(ql).then(Te):Te()}return Te(),()=>{Se&&(clearTimeout(Se),Se=-1)}},[g,y,x,S]),N.useDebugValue(be),c){if(!Bh&&is&&he)throw new Error("Fallback data is required when using Suspense in SSR.");he&&(H.current=t,F.current=n,M.current=!1);const Se=P[S],Te=!Pe(Se)&&he?He(Se):Wh;if(Wl(Te),!Pe(oe)&&he)throw oe;const Me=he?$e(ql):Wh;!Pe(be)&&he&&(Me.status="fulfilled",Me.value=!0),Wl(Me)}return{mutate:He,get data(){return Q.data=!0,be},get error(){return Q.error=!0,oe},get isValidating(){return Q.isValidating=!0,At},get isLoading(){return Q.isLoading=!0,Ee}}},T0=Ro.defineProperty(y0,"defaultValue",{value:Uf}),Ze=j0(C0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O0=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase()),qh=s=>{const t=O0(s);return t.charAt(0).toUpperCase()+t.slice(1)},zf=(...s)=>s.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=N.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:c,iconNode:d,...f},m)=>N.createElement("svg",{ref:m,...P0,width:t,height:t,stroke:s,strokeWidth:o?Number(n)*24/Number(t):n,className:zf("lucide",a),...f},[...d.map(([g,y])=>N.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(s,t)=>{const n=N.forwardRef(({className:o,...a},c)=>N.createElement(A0,{ref:c,iconNode:t,className:zf(`lucide-${R0(qh(s))}`,`lucide-${s}`,o),...a}));return n.displayName=qh(s),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],L0=De("arrow-up-down",I0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hl=De("award",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Vf=De("bell",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],U0=De("calendar",$0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mo=De("check",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wf=De("chevron-down",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hh=De("chevron-right",z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qf=De("circle-alert",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],q0=De("circle-user",W0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hf=De("copy",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Kl=De("crown",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],J0=De("grip-vertical",G0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Y0=De("house",Q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z0=De("lock",X0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Kf=De("log-in",ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],rv=De("log-out",tv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],sv=De("mail",nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Gl=De("medal",iv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M5 12h14",key:"1ays0h"}]],av=De("minus",ov);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],cv=De("play",lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dv=De("plus",uv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fv=De("save",hv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],mv=De("trending-down",pv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],vv=De("trending-up",gv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],wv=De("trophy",yv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Oo=De("user-plus",xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_v=De("users",bv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cr=De("x",kv),Kh=["Snuff My Torch, Daddy Probst!","Russelmania","Outwin, Outplay, Outwine","Showmance Society","The Rob-Fathers","Blindsides & Bad Decisions","Honor Alliance from Hell","Go Draw Rocks","Can I Have Your Jacket?","The Rice Negotiators","Tony's Spy Shack","Cops R Us","Bottoms Up Alliance","Operation Italy"];function Bo(s,t){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&t.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(s);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(s,o[a])&&(n[o[a]]=s[o[a]]);return n}function Sv(s,t,n,o){function a(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function f(y){try{g(o.next(y))}catch(x){d(x)}}function m(y){try{g(o.throw(y))}catch(x){d(x)}}function g(y){y.done?c(y.value):a(y.value).then(f,m)}g((o=o.apply(s,t||[])).next())})}const Ev=s=>s?(...t)=>s(...t):(...t)=>fetch(...t);class Ac extends Error{constructor(t,n="FunctionsError",o){super(t),this.name=n,this.context=o}}class jv extends Ac{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gh extends Ac{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jh extends Ac{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(gc||(gc={}));class Nv{constructor(t,{headers:n={},customFetch:o,region:a=gc.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=Ev(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Sv(this,arguments,void 0,function*(n,o={}){var a;let c,d;try{const{headers:f,method:m,body:g,signal:y,timeout:x}=o;let w={},{region:b}=o;b||(b=this.region);const C=new URL(`${this.url}/${n}`);b&&b!=="any"&&(w["x-region"]=b,C.searchParams.set("forceFunctionRegion",b));let _;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=g):typeof g=="string"?(w["Content-Type"]="text/plain",_=g):typeof FormData<"u"&&g instanceof FormData?_=g:(w["Content-Type"]="application/json",_=JSON.stringify(g)):_=g;let E=y;x&&(d=new AbortController,c=setTimeout(()=>d.abort(),x),y?(E=d.signal,y.addEventListener("abort",()=>d.abort())):E=d.signal);const P=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:_,signal:E}).catch(M=>{throw new jv(M)}),S=P.headers.get("x-relay-error");if(S&&S==="true")throw new Gh(P);if(!P.ok)throw new Jh(P);let O=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return O==="application/json"?D=yield P.json():O==="application/octet-stream"||O==="application/pdf"?D=yield P.blob():O==="text/event-stream"?D=P:O==="multipart/form-data"?D=yield P.formData():D=yield P.text(),{data:D,error:null,response:P}}catch(f){return{data:null,error:f,response:f instanceof Jh||f instanceof Gh?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var Cv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Tv=class{constructor(s){var t,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(t=s.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,t){return this.headers=new Headers(this.headers),this.headers.set(s,t),this}then(s,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,f=null,m=null,g=c.status,y=c.statusText;if(c.ok){var x,w;if(n.method!=="HEAD"){var b;const P=await c.text();P===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?f=P:f=JSON.parse(P))}const _=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),E=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");_&&E&&E.length>1&&(m=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const _=await c.text();try{d=JSON.parse(_),Array.isArray(d)&&c.status===404&&(f=[],d=null,g=200,y="OK")}catch{c.status===404&&_===""?(g=204,y="No Content"):d={message:_}}if(d&&n.isMaybeSingle&&(!(d==null||(C=d.details)===null||C===void 0)&&C.includes("0 rows"))&&(d=null,g=200,y="OK"),d&&n.shouldThrowOnError)throw new Cv(d)}return{error:d,data:f,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(a=a.catch(c=>{var d;let f="";const m=c?.cause;if(m){var g,y,x,w;const C=(g=m?.message)!==null&&g!==void 0?g:"",_=(y=m?.code)!==null&&y!==void 0?y:"";f=`${(x=c?.name)!==null&&x!==void 0?x:"FetchError"}: ${c?.message}`,f+=`

Caused by: ${(w=m?.name)!==null&&w!==void 0?w:"Error"}: ${C}`,_&&(f+=` (${_})`),m?.stack&&(f+=`
${m.stack}`)}else{var b;f=(b=c?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,t)}returns(){return this}overrideTypes(){return this}},Rv=class extends Tv{select(s){let t=!1;const n=(s??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:t=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const c=a?`${a}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:t,referencedTable:n=t}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,t,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this.url.searchParams.set(c,`${t-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:t=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:c="text"}={}){var d;const f=[s?"analyze":null,t?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Qh=new RegExp("[,()]");var ts=class extends Rv{eq(s,t){return this.url.searchParams.append(s,`eq.${t}`),this}neq(s,t){return this.url.searchParams.append(s,`neq.${t}`),this}gt(s,t){return this.url.searchParams.append(s,`gt.${t}`),this}gte(s,t){return this.url.searchParams.append(s,`gte.${t}`),this}lt(s,t){return this.url.searchParams.append(s,`lt.${t}`),this}lte(s,t){return this.url.searchParams.append(s,`lte.${t}`),this}like(s,t){return this.url.searchParams.append(s,`like.${t}`),this}likeAllOf(s,t){return this.url.searchParams.append(s,`like(all).{${t.join(",")}}`),this}likeAnyOf(s,t){return this.url.searchParams.append(s,`like(any).{${t.join(",")}}`),this}ilike(s,t){return this.url.searchParams.append(s,`ilike.${t}`),this}ilikeAllOf(s,t){return this.url.searchParams.append(s,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(s,t){return this.url.searchParams.append(s,`ilike(any).{${t.join(",")}}`),this}regexMatch(s,t){return this.url.searchParams.append(s,`match.${t}`),this}regexIMatch(s,t){return this.url.searchParams.append(s,`imatch.${t}`),this}is(s,t){return this.url.searchParams.append(s,`is.${t}`),this}isDistinct(s,t){return this.url.searchParams.append(s,`isdistinct.${t}`),this}in(s,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&Qh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&Qh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cs.{${t.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(t)}`),this}containedBy(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cd.{${t.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(t)}`),this}rangeGt(s,t){return this.url.searchParams.append(s,`sr.${t}`),this}rangeGte(s,t){return this.url.searchParams.append(s,`nxl.${t}`),this}rangeLt(s,t){return this.url.searchParams.append(s,`sl.${t}`),this}rangeLte(s,t){return this.url.searchParams.append(s,`nxr.${t}`),this}rangeAdjacent(s,t){return this.url.searchParams.append(s,`adj.${t}`),this}overlaps(s,t){return typeof t=="string"?this.url.searchParams.append(s,`ov.${t}`):this.url.searchParams.append(s,`ov.{${t.join(",")}}`),this}textSearch(s,t,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${a}fts${c}.${t}`),this}match(s){return Object.entries(s).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(s,t,n){return this.url.searchParams.append(s,`not.${t}.${n}`),this}or(s,{foreignTable:t,referencedTable:n=t}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,t,n){return this.url.searchParams.append(s,`${t}.${n}`),this}},Ov=class{constructor(s,{headers:t={},schema:n,fetch:o}){this.url=s,this.headers=new Headers(t),this.schema=n,this.fetch=o}select(s,t){const{head:n=!1,count:o}=t??{},a=n?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new ts({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:t,defaultToNull:n=!0}={}){var o;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new ts({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:t,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new ts({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:t}={}){var n;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ts({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var t;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new ts({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Pv=class Gf{constructor(t,{headers:n={},schema:o,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=o,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ov(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Gf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:o=!1,get:a=!1,count:c}={}){var d;let f;const m=new URL(`${this.url}/rpc/${t}`);let g;o||a?(f=o?"HEAD":"GET",Object.entries(n).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{m.searchParams.append(x,w)})):(f="POST",g=n);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new ts({method:f,url:m,headers:y,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class Av{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const o=this.getWebSocketConstructor();return new o(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Iv="2.89.0",Lv=`realtime-js/${Iv}`,Jf="1.0.0",Dv="2.0.0",Yh=Jf,vc=1e4,Fv=1e3,$v=100;var Yr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Yr||(Yr={}));var ct;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(ct||(ct={}));var ar;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(ar||(ar={}));var yc;(function(s){s.websocket="websocket"})(yc||(yc={}));var xn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(xn||(xn={}));class Uv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,o;const a=(o=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var n,o;const a=(o=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,n,o){var a,c;const d=t.topic,f=(a=t.ref)!==null&&a!==void 0?a:"",m=(c=t.join_ref)!==null&&c!==void 0?c:"",g=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+d.length+g.length+x.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let C=new DataView(b),_=0;C.setUint8(_++,this.KINDS.userBroadcastPush),C.setUint8(_++,m.length),C.setUint8(_++,f.length),C.setUint8(_++,d.length),C.setUint8(_++,g.length),C.setUint8(_++,x.length),C.setUint8(_++,n),Array.from(m,P=>C.setUint8(_++,P.charCodeAt(0))),Array.from(f,P=>C.setUint8(_++,P.charCodeAt(0))),Array.from(d,P=>C.setUint8(_++,P.charCodeAt(0))),Array.from(g,P=>C.setUint8(_++,P.charCodeAt(0))),Array.from(x,P=>C.setUint8(_++,P.charCodeAt(0)));var E=new Uint8Array(b.byteLength+o.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(o),b.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return n(o)}if(typeof t=="string"){const o=JSON.parse(t),[a,c,d,f,m]=o;return n({join_ref:a,ref:c,topic:d,event:f,payload:m})}return n({})}_binaryDecode(t){const n=new DataView(t),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,a)}}_decodeUserBroadcast(t,n,o){const a=n.getUint8(1),c=n.getUint8(2),d=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const g=o.decode(t.slice(m,m+a));m=m+a;const y=o.decode(t.slice(m,m+c));m=m+c;const x=o.decode(t.slice(m,m+d));m=m+d;const w=t.slice(m,t.byteLength),b=f===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,C={type:this.BROADCAST_EVENT,event:y,payload:b};return d>0&&(C.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>n.includes(o)))}}class Qf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ze||(ze={}));const Xh=(s,t,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((c,d)=>(c[d]=Mv(d,s,t,a),c),{}):{}},Mv=(s,t,n,o)=>{const a=t.find(f=>f.name===s),c=a?.type,d=n[s];return c&&!o.includes(c)?Yf(c,d):wc(d)},Yf=(s,t)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return Wv(t,n)}switch(s){case ze.bool:return Bv(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return zv(t);case ze.json:case ze.jsonb:return Vv(t);case ze.timestamp:return qv(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return wc(t);default:return wc(t)}},wc=s=>s,Bv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},zv=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},Vv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Wv=(s,t)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let c;const d=s.slice(1,n);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Yf(t,f))}return s},qv=s=>typeof s=="string"?s.replace(" ","T"):s,Xf=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jl{constructor(t,n,o={},a=vc){this.channel=t,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var o;return this._hasReceived(t)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Zh||(Zh={}));class Zs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zs.syncState(this.state,a,c,d),this.pendingDiffs.forEach(m=>{this.state=Zs.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Zs.syncDiff(this.state,a,c,d),f())}),this.onJoin((a,c,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:d})}),this.onLeave((a,c,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,o,a){const c=this.cloneDeep(t),d=this.transformState(n),f={},m={};return this.map(c,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const x=c[g];if(x){const w=y.map(E=>E.presence_ref),b=x.map(E=>E.presence_ref),C=y.filter(E=>b.indexOf(E.presence_ref)<0),_=x.filter(E=>w.indexOf(E.presence_ref)<0);C.length>0&&(f[g]=C),_.length>0&&(m[g]=_)}else f[g]=y}),this.syncDiff(c,{joins:f,leaves:m},o,a)}static syncDiff(t,n,o,a){const{joins:c,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(f,m)=>{var g;const y=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(m),y.length>0){const x=t[f].map(b=>b.presence_ref),w=y.filter(b=>x.indexOf(b.presence_ref)<0);t[f].unshift(...w)}o(f,y,m)}),this.map(d,(f,m)=>{let g=t[f];if(!g)return;const y=m.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),t[f]=g,a(f,g,m),g.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(o=>n(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,o)=>{const a=t[o];return"metas"in a?n[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[o]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ef;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(ef||(ef={}));var ei;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ei||(ei={}));var Er;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class ss{constructor(t,n={config:{}},o){var a,c;if(this.topic=t,this.params=n,this.socket=o,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,ar.join,this.params,this.timeout),this.rejoinTimer=new Qf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Zs(this),this.broadcastEndpointURL=Xf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var o,a,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:d,presence:f,private:m}}=this.params,g=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[ei.PRESENCE]&&this.bindings[ei.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},w={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Er.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t?.(Er.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(C=_?.length)!==null&&C!==void 0?C:0,P=[];for(let S=0;S<E;S++){const O=_[S],{filter:{event:D,schema:M,table:G,filter:H}}=O,F=b&&b[S];if(F&&F.event===D&&ss.isFilterValueEqual(F.schema,M)&&ss.isFilterValueEqual(F.table,G)&&ss.isFilterValueEqual(F.filter,H))P.push(Object.assign(Object.assign({},O),{id:F.id}));else{this.unsubscribe(),this.state=ct.errored,t?.(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(Er.SUBSCRIBED);return}}).receive("error",b=>{this.state=ct.errored,t?.(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,o){return this.state===ct.joined&&t===ei.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,o)}async httpSend(t,n,o={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const g=await f.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(t,n={}){var o,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,m;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Jl(this,ar.leave,{},t),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,n,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(c),d}_push(t,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Jl(this,t,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$v){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,o){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,o){var a,c;const d=t.toLocaleLowerCase(),{close:f,error:m,leave:g,join:y}=ar;if(o&&[f,m,g,y].indexOf(d)>=0&&o!==this._joinRef())return;let w=this._onMessage(d,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var C,_,E;return((C=b.filter)===null||C===void 0?void 0:C.event)==="*"||((E=(_=b.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===d}).map(b=>b.callback(w,o)):(c=this.bindings[d])===null||c===void 0||c.filter(b=>{var C,_,E,P,S,O;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const D=b.id,M=(C=b.filter)===null||C===void 0?void 0:C.event;return D&&((_=n.ids)===null||_===void 0?void 0:_.includes(D))&&(M==="*"||M?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(S=(P=b?.filter)===null||P===void 0?void 0:P.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return D==="*"||D===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof w=="object"&&"ids"in w){const C=w.data,{schema:_,table:E,commit_timestamp:P,type:S,errors:O}=C;w=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:P,eventType:S,new:{},old:{},errors:O}),this._getPayloadRecords(C))}b.callback(w,o)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,o){const a=t.toLocaleLowerCase(),c={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(t,n){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&ss.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(t[o]!==n[o])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Xh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Xh(t.columns,t.old_record)),n}}const Ql=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hv=[1e3,2e3,5e3,1e4],Kv=1e4,Gv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jv{constructor(t,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vc,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ql,this.ref=0,this.reconnectTimer=null,this.vsn=Yh,this.logger=Ql,this.conn=null,this.sendBuffer=[],this.serializer=new Uv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...c)=>a(...c):(...c)=>fetch(...c),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${yc.websocket}`,this.httpEndpoint=Xf(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Av.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,o){this.logger(t,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Yr.connecting:return xn.Connecting;case Yr.open:return xn.Open;case Yr.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const o=`realtime:${t}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new ss(`realtime:${t}`,n,this);return this.channels.push(c),c}}push(t){const{topic:n,event:o,payload:a,ref:c}=t,d=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${o} (${c})`,a),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Fv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:c,ref:d}=n,f=d?`(${d})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${a} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(a,c,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Yr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yr.open||this.conn.readyState===Yr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const o=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${o}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const o=new Blob([Gv],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,o=!1;if(t)n=t,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const c={access_token:n,version:Lv};n&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Qf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,o,a,c,d,f,m,g,y,x,w,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:vc,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:bo.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Ql,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:Yh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>Hv[C-1]||Kv),this.vsn){case Jf:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((C,_)=>_(JSON.stringify(C))),this.decode=(x=t?.decode)!==null&&x!==void 0?x:((C,_)=>_(JSON.parse(C)));break;case Dv:this.encode=(w=t?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var ti=class extends Error{constructor(s,t){super(s),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qv(s,t,n){const o=new URL(t,s);if(n)for(const[a,c]of Object.entries(n))c!==void 0&&o.searchParams.set(a,c);return o.toString()}async function Yv(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Xv(s){const t=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:c,headers:d}){const f=Qv(s.baseUrl,o,a),m=await Yv(s.auth),g=await t(f,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...m,...d},body:c?JSON.stringify(c):void 0}),y=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),w=x&&y?JSON.parse(y):y;if(!g.ok){const b=x?w:void 0,C=b?.error;throw new ti(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:b})}return{status:g.status,headers:g.headers,data:w}}}}function _o(s){return s.join("")}var Zv=class{constructor(s,t=""){this.client=s,this.prefix=t}async listNamespaces(s){const t=s?{parent:_o(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,t){const n={namespace:s.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(s.namespace)}`}),!0}catch(t){if(t instanceof ti&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(s,t){try{return await this.createNamespace(s,t)}catch(n){if(n instanceof ti&&n.status===409)return;throw n}}};function Gn(s){return s.join("")}var ey=class{constructor(s,t="",n){this.client=s,this.prefix=t,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gn(s.namespace)}/tables`})).data.identifiers}async createTable(s,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gn(s.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(s,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gn(s.namespace)}/tables/${s.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(s){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gn(s.namespace)}/tables/${s.name}`,headers:t})).data.metadata}async tableExists(s){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gn(s.namespace)}/tables/${s.name}`,headers:t}),!0}catch(n){if(n instanceof ti&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,t){try{return await this.createTable(s,t)}catch(n){if(n instanceof ti&&n.status===409)return await this.loadTable({namespace:s.namespace,name:t.name});throw n}}},ty=class{constructor(s){let t="v1";s.catalogName&&(t+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Xv({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new Zv(this.client,t),this.tableOps=new ey(this.client,t,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,t){return this.namespaceOps.createNamespace(s,t)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,t){return this.tableOps.createTable(s,t)}async updateTable(s,t){return this.tableOps.updateTable(s,t)}async dropTable(s,t){await this.tableOps.dropTable(s,t)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,t){return this.namespaceOps.createNamespaceIfNotExists(s,t)}async createTableIfNotExists(s,t){return this.tableOps.createTableIfNotExists(s,t)}},zo=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Je(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var ry=class extends zo{constructor(s,t,n){super(s),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xc=class extends zo{constructor(s,t){super(s),this.name="StorageUnknownError",this.originalError=t}};const Ic=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),ny=()=>Response,bc=s=>{if(Array.isArray(s))return s.map(n=>bc(n));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[a]=bc(o)}),t},sy=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},iy=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ri(s){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(s)}function oy(s,t){if(ri(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,t);if(ri(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function ay(s){var t=oy(s,"string");return ri(t)=="symbol"?t:t+""}function ly(s,t,n){return(t=ay(t))in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function tf(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,o)}return n}function we(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(o){ly(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const Yl=s=>{var t;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(t=s.error)===null||t===void 0?void 0:t.message)||JSON.stringify(s)},cy=async(s,t,n)=>{s instanceof await ny()&&!n?.noResolveJson?s.json().then(o=>{const a=s.status||500,c=o?.statusCode||a+"";t(new ry(Yl(o),a,c))}).catch(o=>{t(new xc(Yl(o),o))}):t(new xc(Yl(s),s))},uy=(s,t,n,o)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"||!o?a:(sy(o)?(a.headers=we({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(o)):a.body=o,t?.duplex&&(a.duplex=t.duplex),we(we({},a),n))};async function li(s,t,n,o,a,c){return new Promise((d,f)=>{s(n,uy(t,o,a,c)).then(m=>{if(!m.ok)throw m;return o?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>cy(m,f,o))})}async function ni(s,t,n,o){return li(s,"GET",t,n,o)}async function ir(s,t,n,o,a){return li(s,"POST",t,o,a,n)}async function _c(s,t,n,o,a){return li(s,"PUT",t,o,a,n)}async function dy(s,t,n,o){return li(s,"HEAD",t,we(we({},n),{},{noResolveJson:!0}),o)}async function Lc(s,t,n,o,a){return li(s,"DELETE",t,o,a,n)}var hy=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t}then(s,t){return this.execute().then(s,t)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};let Zf;Zf=Symbol.toStringTag;var fy=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t,this[Zf]="BlobDownloadBuilder",this.promise=null}asStream(){return new hy(this.downloadFn,this.shouldThrowOnError)}then(s,t){return this.getPromise().then(s,t)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};const py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var my=class{constructor(s,t={},n,o){this.shouldThrowOnError=!1,this.url=s,this.headers=t,this.bucketId=n,this.fetch=Ic(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,t,n,o){var a=this;try{let c;const d=we(we({},rf),o);let f=we(we({},a.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",a.encodeMetadata(m)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),m&&!c.has("metadata")&&c.append("metadata",a.encodeMetadata(m))):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(f=we(we({},f),o.headers));const g=a._removeEmptyFolders(t),y=a._getFinalPath(g),x=await(s=="PUT"?_c:ir)(a.fetch,`${a.url}/object/${y}`,c,we({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async upload(s,t,n){return this.uploadOrUpdate("POST",s,t,n)}async uploadToSignedUrl(s,t,n,o){var a=this;const c=a._removeEmptyFolders(s),d=a._getFinalPath(c),f=new URL(a.url+`/object/upload/sign/${d}`);f.searchParams.set("token",t);try{let m;const g=we({upsert:rf.upsert},o),y=we(we({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",g.cacheControl)):(m=n,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:c,fullPath:(await _c(a.fetch,f.toString(),m,{headers:y})).Key},error:null}}catch(m){if(a.shouldThrowOnError)throw m;if(Je(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,t){var n=this;try{let o=n._getFinalPath(s);const a=we({},n.headers);t?.upsert&&(a["x-upsert"]="true");const c=await ir(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:a}),d=new URL(n.url+c.url),f=d.searchParams.get("token");if(!f)throw new zo("No token returned by API");return{data:{signedUrl:d.toString(),path:s,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async update(s,t,n){return this.uploadOrUpdate("PUT",s,t,n)}async move(s,t,n){var o=this;try{return{data:await ir(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:o.headers}),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async copy(s,t,n){var o=this;try{return{data:{path:(await ir(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async createSignedUrl(s,t,n){var o=this;try{let a=o._getFinalPath(s),c=await ir(o.fetch,`${o.url}/object/sign/${a}`,we({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async createSignedUrls(s,t,n){var o=this;try{const a=await ir(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:s},{headers:o.headers}),c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(d=>we(we({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${c}`):null})),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}download(s,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),a=o?`?${o}`:"",c=this._getFinalPath(s),d=()=>ni(this.fetch,`${this.url}/${n}/${c}${a}`,{headers:this.headers,noResolveJson:!0});return new fy(d,this.shouldThrowOnError)}async info(s){var t=this;const n=t._getFinalPath(s);try{return{data:bc(await ni(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async exists(s){var t=this;const n=t._getFinalPath(s);try{return await dy(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Je(o)&&o instanceof xc){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,t){const n=this._getFinalPath(s),o=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}async remove(s){var t=this;try{return{data:await Lc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:s},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async list(s,t,n){var o=this;try{const a=we(we(we({},py),t),{},{prefix:s||""});return{data:await ir(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},n),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async listV2(s,t){var n=this;try{const o=we({},s);return{data:await ir(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},t),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const t=[];return s.width&&t.push(`width=${s.width}`),s.height&&t.push(`height=${s.height}`),s.resize&&t.push(`resize=${s.resize}`),s.format&&t.push(`format=${s.format}`),s.quality&&t.push(`quality=${s.quality}`),t.join("&")}};const ep="2.89.0",tp={"X-Client-Info":`storage-js/${ep}`};var gy=class{constructor(s,t={},n,o){this.shouldThrowOnError=!1;const a=new URL(s);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=we(we({},tp),t),this.fetch=Ic(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var t=this;try{const n=t.listBucketOptionsToQueryString(s);return{data:await ni(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async getBucket(s){var t=this;try{return{data:await ni(t.fetch,`${t.url}/bucket/${s}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async createBucket(s,t={public:!1}){var n=this;try{return{data:await ir(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async updateBucket(s,t){var n=this;try{return{data:await _c(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async emptyBucket(s){var t=this;try{return{data:await ir(t.fetch,`${t.url}/bucket/${s}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(s){var t=this;try{return{data:await Lc(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const t={};return s&&("limit"in s&&(t.limit=String(s.limit)),"offset"in s&&(t.offset=String(s.offset)),s.search&&(t.search=s.search),s.sortColumn&&(t.sortColumn=s.sortColumn),s.sortOrder&&(t.sortOrder=s.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vy=class{constructor(s,t={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=we(we({},tp),t),this.fetch=Ic(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await ir(t.fetch,`${t.url}/bucket`,{name:s},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listBuckets(s){var t=this;try{const n=new URLSearchParams;s?.limit!==void 0&&n.set("limit",s.limit.toString()),s?.offset!==void 0&&n.set("offset",s.offset.toString()),s?.sortColumn&&n.set("sortColumn",s.sortColumn),s?.sortOrder&&n.set("sortOrder",s.sortOrder),s?.search&&n.set("search",s.search);const o=n.toString(),a=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await ni(t.fetch,a,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(s){var t=this;try{return{data:await Lc(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}from(s){var t=this;if(!iy(s))throw new zo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ty({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(a,c){const d=a[c];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(a,f),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}};const Dc={"X-Client-Info":`storage-js/${ep}`,"Content-Type":"application/json"};var rp=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Xl=class extends rp{constructor(s,t,n){super(s),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yy=class extends rp{constructor(s,t){super(s),this.name="StorageVectorsUnknownError",this.originalError=t}};const Fc=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),wy=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},nf=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),xy=async(s,t,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!n?.noResolveJson){const o=s.status||500,a=s;if(typeof a.json=="function")a.json().then(c=>{const d=c?.statusCode||c?.code||o+"";t(new Xl(nf(c),o,d))}).catch(()=>{const c=o+"";t(new Xl(a.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";t(new Xl(a.statusText||`HTTP ${o} error`,o,c))}}else t(new yy(nf(s),s))},by=(s,t,n,o)=>{const a={method:s,headers:t?.headers||{}};return o?(wy(o)?(a.headers=we({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(o)):a.body=o,we(we({},a),n)):a};async function _y(s,t,n,o,a,c){return new Promise((d,f)=>{s(n,by(t,o,a,c)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>xy(m,f,o))})}async function Bt(s,t,n,o,a){return _y(s,"POST",t,o,a,n)}var ky=class{constructor(s,t={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=we(we({},Dc),t),this.fetch=Fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/CreateIndex`,s,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async getIndex(s,t){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:t},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Mt(o))return{data:null,error:o};throw o}}async listIndexes(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/ListIndexes`,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async deleteIndex(s,t){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:t},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Mt(o))return{data:null,error:o};throw o}}},Sy=class{constructor(s,t={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=we(we({},Dc),t),this.fetch=Fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var t=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(t.fetch,`${t.url}/PutVectors`,s,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async getVectors(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/GetVectors`,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async listVectors(s){var t=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Bt(t.fetch,`${t.url}/ListVectors`,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async queryVectors(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/QueryVectors`,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var t=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(t.fetch,`${t.url}/DeleteVectors`,s,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}},Ey=class{constructor(s,t={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=we(we({},Dc),t),this.fetch=Fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async getBucket(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:s},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/ListVectorBuckets`,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var t=this;try{return{data:await Bt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}}},jy=class extends Ey{constructor(s,t={}){super(s,t.headers||{},t.fetch)}from(s){return new Ny(this.url,this.headers,s,this.fetch)}async createBucket(s){var t=()=>super.createBucket,n=this;return t().call(n,s)}async getBucket(s){var t=()=>super.getBucket,n=this;return t().call(n,s)}async listBuckets(s={}){var t=()=>super.listBuckets,n=this;return t().call(n,s)}async deleteBucket(s){var t=()=>super.deleteBucket,n=this;return t().call(n,s)}},Ny=class extends ky{constructor(s,t,n,o){super(s,t,o),this.vectorBucketName=n}async createIndex(s){var t=()=>super.createIndex,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var t=()=>super.listIndexes,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,s)}async deleteIndex(s){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,s)}index(s){return new Cy(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Cy=class extends Sy{constructor(s,t,n,o,a){super(s,t,a),this.vectorBucketName=n,this.indexName=o}async putVectors(s){var t=()=>super.putVectors,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var t=()=>super.getVectors,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var t=()=>super.listVectors,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var t=()=>super.queryVectors,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var t=()=>super.deleteVectors,n=this;return t().call(n,we(we({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Ty=class extends gy{constructor(s,t={},n,o){super(s,t,n,o)}from(s){return new my(this.url,this.headers,s,this.fetch)}get vectors(){return new jy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vy(this.url+"/iceberg",this.headers,this.fetch)}};const np="2.89.0",rs=30*1e3,kc=3,Zl=kc*rs,Ry="http://localhost:9999",Oy="supabase.auth.token",Py={"X-Client-Info":`gotrue-js/${np}`},Sc="X-Supabase-Api-Version",sp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ay=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Iy=600*1e3;class si extends Error{constructor(t,n,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function ue(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Ly extends si{constructor(t,n,o){super(t,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Dy(s){return ue(s)&&s.name==="AuthApiError"}class bn extends si{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Rr extends si{constructor(t,n,o,a){super(t,o,a),this.name=n,this.status=o}}class Ut extends Rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fy(s){return ue(s)&&s.name==="AuthSessionMissingError"}class Jn extends Rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ko extends Rr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class So extends Rr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $y(s){return ue(s)&&s.name==="AuthImplicitGrantRedirectError"}class sf extends Rr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uy extends Rr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ec extends Rr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ec(s){return ue(s)&&s.name==="AuthRetryableFetchError"}class of extends Rr{constructor(t,n,o){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class jc extends Rr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),af=` 	
\r=`.split(""),My=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<af.length;t+=1)s[af[t].charCodeAt(0)]=-2;for(let t=0;t<Po.length;t+=1)s[Po[t].charCodeAt(0)]=t;return s})();function lf(s,t,n){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(Po[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(Po[o]),t.queuedBits-=6}}function ip(s,t,n){const o=My[s];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function cf(s){const t=[],n=d=>{t.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=d=>{Vy(d,o,n)};for(let d=0;d<s.length;d+=1)ip(s.charCodeAt(d),a,c);return t.join("")}function By(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function zy(s,t){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}By(o,t)}}function Vy(s,t,n){if(t.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function as(s){const t=[],n={queue:0,queuedBits:0},o=a=>{t.push(a)};for(let a=0;a<s.length;a+=1)ip(s.charCodeAt(a),n,o);return new Uint8Array(t)}function Wy(s){const t=[];return zy(s,n=>t.push(n)),new Uint8Array(t)}function _n(s){const t=[],n={queue:0,queuedBits:0},o=a=>{t.push(a)};return s.forEach(a=>lf(a,n,o)),lf(null,n,o),t.join("")}function qy(s){return Math.round(Date.now()/1e3)+s}function Hy(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},op=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function Ky(s){const t={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,c)=>{t[c]=a})}catch{}return n.searchParams.forEach((o,a)=>{t[a]=o}),t}const ap=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),Gy=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ns=async(s,t,n)=>{await s.setItem(t,JSON.stringify(n))},gn=async(s,t)=>{const n=await s.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yt=async(s,t)=>{await s.removeItem(t)};class Vo{constructor(){this.promise=new Vo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vo.promiseConstructor=Promise;function tc(s){const t=s.split(".");if(t.length!==3)throw new jc("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!Ay.test(t[o]))throw new jc("JWT not in base64url format");return{header:JSON.parse(cf(t[0])),payload:JSON.parse(cf(t[1])),signature:as(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jy(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Qy(s,t){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await s(c);if(!t(c,null,d)){o(d);return}}catch(d){if(!t(c,d)){a(d);return}}})()})}function Yy(s){return("0"+s.toString(16)).substr(-2)}function Xy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let c=0;c<56;c++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(t),Array.from(t,Yy).join("")}async function Zy(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function ew(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Zy(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qn(s,t,n=!1){const o=Xy();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await ns(s,`${t}-code-verifier`,a);const c=await ew(o);return[c,o===c?"plain":"s256"]}const tw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rw(s){const t=s.headers.get(Sc);if(!t||!t.match(tw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nw(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function sw(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yn(s){if(!iw.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rc(){const s={};return new Proxy(s,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ow(s,t){return new Proxy(s,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,o,a)}})}function uf(s){return JSON.parse(JSON.stringify(s))}const wn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),aw=[502,503,504];async function df(s){var t;if(!Gy(s))throw new Ec(wn(s),0);if(aw.includes(s.status))throw new Ec(wn(s),s.status);let n;try{n=await s.json()}catch(c){throw new bn(wn(c),c)}let o;const a=rw(s);if(a&&a.getTime()>=sp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new of(wn(n),s.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Ut}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new of(wn(n),s.status,n.weak_password.reasons);throw new Ly(wn(n),s.status||500,o)}const lw=(s,t,n,o)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function ye(s,t,n,o){var a;const c=Object.assign({},o?.headers);c[Sc]||(c[Sc]=sp["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await cw(s,t,n+f,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function cw(s,t,n,o,a,c){const d=lw(t,o,a,c);let f;try{f=await s(n,Object.assign({},d))}catch(m){throw console.error(m),new Ec(wn(m),0)}if(f.ok||await df(f),o?.noResolveJson)return f;try{return await f.json()}catch(m){await df(m)}}function sr(s){var t;let n=null;hw(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=qy(s.expires_in)));const o=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:n,user:o},error:null}}function hf(s){const t=sr(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Xr(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function uw(s){return{data:s,error:null}}function dw(s){const{action_link:t,email_otp:n,hashed_token:o,redirect_to:a,verification_type:c}=s,d=Bo(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:o,redirect_to:a,verification_type:c},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function ff(s){return s}function hw(s){return s.access_token&&s.refresh_token&&s.expires_in}const nc=["global","local","others"];class fw{constructor({url:t="",headers:n={},fetch:o}){this.url=t,this.headers=n,this.fetch=ap(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=nc[0]){if(nc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ue(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:n}=t,o=Bo(t,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:dw,redirectTo:n?.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,o,a,c,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:ff});if(y.error)throw y.error;const x=await y.json(),w=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(C=>{const _=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(C.split(";")[1].split("=")[1]);g[`${E}Page`]=_}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ue(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Yn(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yn(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Xr})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,n=!1){Yn(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Yn(t.userId);try{const{data:n,error:o}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yn(t.userId),Yn(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,o,a,c,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:ff});if(y.error)throw y.error;const x=await y.json(),w=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(C=>{const _=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(C.split(";")[1].split("=")[1]);g[`${E}Page`]=_}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ue(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function pf(s={}){return{getItem:t=>s[t]||null,setItem:(t,n)=>{s[t]=n},removeItem:t=>{delete s[t]}}}const Xn={debug:!!(globalThis&&op()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pw extends lp{}async function mw(s,t,n){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await n()}finally{Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(t===0)throw Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new pw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Xn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function vw(s){return parseInt(s,16)}function yw(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function ww(s){var t;const{chainId:n,domain:o,expirationTime:a,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:m,resources:g,scheme:y,uri:x,version:w}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const b=cp(s.address),C=y?`${y}://${o}`:o,_=s.statement?`${s.statement}
`:"",E=`${C} wants you to sign in with your Ethereum account:
${b}

${_}`;let P=`URI: ${x}
Version: ${w}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),f&&(P+=`
Not Before: ${f.toISOString()}`),m&&(P+=`
Request ID: ${m}`),g){let S=`
Resources:`;for(const O of g){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);S+=`
- ${O}`}P+=S}return`${E}
${P}`}class st extends Error{constructor({message:t,code:n,cause:o,name:a}){var c;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=a??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class Ao extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function xw({error:s,options:t}){var n,o,a;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new st({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(up(d)){if(c.rp.id!==d)return new st({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function bw({error:s,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new st({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(up(o)){if(n.rpId!==o)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class _w{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kw=new _w;function Sw(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:n,excludeCredentials:o}=s,a=Bo(s,["challenge","user","excludeCredentials"]),c=as(t).buffer,d=Object.assign(Object.assign({},n),{id:as(n.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:c,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];f.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:as(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function Ew(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:n}=s,o=Bo(s,["challenge","allowCredentials"]),a=as(t).buffer,c=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:as(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function jw(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:_n(new Uint8Array(s.response.attestationObject)),clientDataJSON:_n(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nw(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),a=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:_n(new Uint8Array(a.authenticatorData)),clientDataJSON:_n(new Uint8Array(a.clientDataJSON)),signature:_n(new Uint8Array(a.signature)),userHandle:a.userHandle?_n(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function up(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function mf(){var s,t;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cw(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:xw({error:t,options:s})}}}async function Tw(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:bw({error:t,options:s})}}}const Rw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ow={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Io(...s){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of s)if(a)for(const c in a){const d=a[c];if(d!==void 0)if(Array.isArray(d))o[c]=d;else if(n(d))o[c]=d;else if(t(d)){const f=o[c];t(f)?o[c]=Io(f,d):o[c]=Io(d)}else o[c]=d}return o}function Pw(s,t){return Io(Rw,s,t||{})}function Aw(s,t){return Io(Ow,s,t||{})}class Iw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:o,signal:a},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!d)return{data:null,error:f};const m=a??kw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Pw(d.webauthn.credential_options.publicKey,c?.create),{data:y,error:x}=await Cw({publicKey:g,signal:m});return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const g=Aw(d.webauthn.credential_options.publicKey,c?.request),{data:y,error:x}=await Tw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(d){return ue(d)?{data:null,error:d}:{data:null,error:new bn("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},c){if(!n)return{data:null,error:new si("rpId is required for WebAuthn authentication")};try{if(!mf())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:c});if(!d)return{data:null,error:f};const{webauthn:m}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(d){return ue(d)?{data:null,error:d}:{data:null,error:new bn("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},c){if(!n)return{data:null,error:new si("rpId is required for WebAuthn registration")};try{if(!mf())return{data:null,error:new bn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:c});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return ue(d)?{data:null,error:d}:{data:null,error:new bn("Unexpected error in register",d)}}}}gw();const Lw={url:Ry,storageKey:Oy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gf(s,t,n){return await n()}const Zn={};class ii{get jwks(){var t,n;return(n=(t=Zn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zn[this.storageKey]=Object.assign(Object.assign({},Zn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zn[this.storageKey]=Object.assign(Object.assign({},Zn[this.storageKey]),{cachedAt:t})}constructor(t){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Lw),t);if(this.storageKey=c.storageKey,this.instanceID=(n=ii.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ii.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&wt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new fw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ap(c.fetch),this.lock=c.lock||gf,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&wt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=mw:this.lock=gf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:op()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pf(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=pf(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${np}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},o="none";if(wt()&&(n=Ky(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),wt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(n,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),$y(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new bn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,o,a;try{const c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:sr}),{data:d,error:f}=c;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var n,o,a;try{let c;if("email"in t){const{email:y,password:x,options:w}=t;let b=null,C=null;this.flowType==="pkce"&&([b,C]=await Qn(this.storage,this.storageKey)),c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:x,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:C},xform:sr})}else if("phone"in t){const{phone:y,password:x,options:w}=t;c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:sr})}else throw new ko("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let n;if("email"in t){const{email:c,password:d,options:f}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hf})}else if("phone"in t){const{phone:c,password:d,options:f}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:hf})}else throw new ko("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const c=new Jn;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,o,a,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,o,a,c,d,f,m,g,y,x,w;let b,C;if("message"in t)b=t.message,C=t.signature;else{const{chain:_,wallet:E,statement:P,options:S}=t;let O;if(wt())if(typeof E=="object")O=E;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")O=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const D=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href),M=await O.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=cp(M[0]);let H=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!H){const z=await O.request({method:"eth_chainId"});H=vw(z)}const F={domain:D.host,address:G,statement:P,uri:D.href,version:"1",chainId:H,nonce:(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(d=(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=S?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=S?.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=ww(F),C=await O.request({method:"personal_sign",params:[yw(b),G]})}try{const{data:_,error:E}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:C},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sr});if(E)throw E;if(!_||!_.session||!_.user){const P=new Jn;return this._returnResult({data:{user:null,session:null},error:P})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,o,a,c,d,f,m,g,y,x,w,b;let C,_;if("message"in t)C=t.message,_=t.signature;else{const{chain:E,wallet:P,statement:S,options:O}=t;let D;if(wt())if(typeof P=="object")D=P;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))D=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=P}const M=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const G=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),S?{statement:S}:null));let H;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")H=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)H=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)C=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),_=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${M.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(a=(o=O?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=O?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((m=O?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((g=O?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((x=(y=O?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...O.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const G=await D.signMessage(new TextEncoder().encode(C),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=G}}try{const{data:E,error:P}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:_n(_)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:sr});if(P)throw P;if(!E||!E.session||!E.user){const S=new Jn;return this._returnResult({data:{user:null,session:null},error:S})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:P})}catch(E){if(ue(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await gn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Uy;const{data:c,error:d}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:sr});if(await yt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const f=new Jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:d})}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:n,provider:o,token:a,access_token:c,nonce:d}=t,f=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:sr}),{data:m,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new Jn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,o,a,c,d;try{if("email"in t){const{email:f,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Qn(this.storage,this.storageKey));const{error:x}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:f,options:m}=t,{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new ko("You must provide either an email or phone number.")}catch(f){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var n,o;try{let a,c;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,c=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:sr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var n,o,a,c,d;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Qn(this.storage,this.storageKey));const g=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:uw});return!((c=g.data)===null||c===void 0)&&c.url&&wt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;if(o)throw o;if(!n)throw new Ut;const{error:a}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:o,type:a,options:c}=t,{error:d}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:o,type:a,options:c}=t,{data:d,error:f}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new ko("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<Zl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const d=await gn(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=rc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=ow(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xr}):await this._useSession(async n=>{var o,a,c;const{data:d,error:f}=n;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:Xr})})}catch(n){if(ue(n))return Fy(n)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new Ut;const d=a.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await Qn(this.storage,this.storageKey));const{data:g,error:y}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:Xr});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const n=Date.now()/1e3;let o=n,a=!0,c=null;const{payload:d}=tc(t.access_token);if(d.exp&&(o=d.exp,a=o<=n),a){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var o;if(!t){const{data:d,error:f}=n;if(f)throw f;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Ut;const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!wt())throw new So("No browser detected.");if(t.error||t.error_description||t.error_code)throw new So(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new So("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sf("No code detected.");const{data:S,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:d,expires_in:f,expires_at:m,token_type:g}=t;if(!c||!f||!d||!g)throw new So("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(f);let w=y+x;m&&(w=parseInt(m));const b=w-y;b*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const C=w-x;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,w,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,w,y);const{data:_,error:E}=await this._getUser(c);if(E)throw E;const P={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:x,expires_at:w,refresh_token:d,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:t.type},error:null})}catch(o){if(ue(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:c}=n;if(c)return this._returnResult({error:c});const d=(o=a.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(Dy(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Hy(),o={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async n=>{var o,a;try{const{data:{session:c},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Qn(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:o,error:a}=await this._useSession(async c=>{var d,f,m,g,y;const{data:x,error:w}=c;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(ue(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:c}}=n;if(a)throw a;const{options:d,provider:f,token:m,access_token:g,nonce:y}=t,x=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:sr}),{data:w,error:b}=x;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Jn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var o,a;const{data:c,error:d}=n;if(d)throw d;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Qy(async a=>(a>0&&await Jy(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(a,c)=>{const d=200*Math.pow(2,a);return c&&ec(c)&&Date.now()+d-o<rs})}catch(o){if(this._debug(n,"error",o),ue(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",o),wt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await gn(this.storage,this.storageKey);if(a&&this.userStorage){let d=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:a.user},await ns(this.userStorage,this.storageKey+"-user",d)),a.user=(t=d?.user)!==null&&t!==void 0?t:rc()}else if(a&&!a.user&&!a.user){const d=await gn(this.storage,this.storageKey+"-user");d&&d?.user?(a.user=d.user,await yt(this.storage,this.storageKey+"-user"),await ns(this.storage,this.storageKey,a)):a.user=rc()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Zl}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:d}=await this._callRefreshToken(a.refresh_token);d&&(console.error(d),ec(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(a.access_token);!f&&d?.user?(a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var n,o;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vo;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new Ut;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(a,"error",c),ue(c)){const d={data:null,error:c};return ec(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,o=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:n});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await ns(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const c=uf(a);await ns(this.storage,this.storageKey,c)}else{const a=uf(n);await ns(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-t)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rs}ms, refresh threshold is ${kc} ticks`),a<=kc&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,d]=await Qn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});a.push(f.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var o;const{data:a,error:c}=n;return c?this._returnResult({data:null,error:c}):await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var o,a;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:g}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&m.type==="totp"&&(!((a=m?.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?jw(t.webauthn.credential_response):Nw(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Sw(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Ew(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=n?.factors)!==null&&t!==void 0?t:[])a.all.push(c),c.status==="verified"&&a[c.factor_type].push(c);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=tc(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((n=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async o=>{const{data:{session:a},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!a)return this._returnResult({data:null,error:new Ut});const d=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,n){try{return await this._useSession(async o=>{const{data:{session:a},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!a)return this._returnResult({data:null,error:new Ut});const d=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;return o?this._returnResult({data:null,error:o}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let o=n.keys.find(f=>f.kid===t);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+Iy>a)return o;const{data:c,error:d}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,n={}){try{let o=t;if(!o){const{data:b,error:C}=await this.getSession();if(C||!b.session)return this._returnResult({data:null,error:C});o=b.session.access_token}const{header:a,payload:c,signature:d,raw:{header:f,payload:m}}=tc(o);n?.allowExpired||nw(c.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:c,header:a,signature:d},error:null}}const y=sw(a.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,d,Wy(`${f}.${m}`)))throw new jc("Invalid JWT signature");return{data:{claims:c,header:a,signature:d},error:null}}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}}ii.nextInstanceID={};const Dw=ii,Fw="2.89.0";let Xs="";typeof Deno<"u"?Xs="deno":typeof document<"u"?Xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xs="react-native":Xs="node";const $w={"X-Client-Info":`supabase-js-${Xs}/${Fw}`},Uw={headers:$w},Mw={schema:"public"},Bw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zw={};function oi(s){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(s)}function Vw(s,t){if(oi(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,t);if(oi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Ww(s){var t=Vw(s,"string");return oi(t)=="symbol"?t:t+""}function qw(s,t,n){return(t=Ww(t))in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function vf(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,o)}return n}function Xe(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vf(Object(n),!0).forEach(function(o){qw(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const Hw=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),Kw=()=>Headers,Gw=(s,t,n)=>{const o=Hw(n),a=Kw();return async(c,d)=>{var f;const m=(f=await t())!==null&&f!==void 0?f:s;let g=new a(d?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(c,Xe(Xe({},d),{},{headers:g}))}};function Jw(s){return s.endsWith("/")?s:s+"/"}function Qw(s,t){var n,o;const{db:a,auth:c,realtime:d,global:f}=s,{db:m,auth:g,realtime:y,global:x}=t,w={db:Xe(Xe({},m),a),auth:Xe(Xe({},g),c),realtime:Xe(Xe({},y),d),storage:{},global:Xe(Xe(Xe({},x),f),{},{headers:Xe(Xe({},(n=x?.headers)!==null&&n!==void 0?n:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function Yw(s){const t=s?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Xw=class extends Dw{constructor(s){super(s)}},Zw=class{constructor(s,t,n){var o,a;this.supabaseUrl=s,this.supabaseKey=t;const c=Yw(s);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Mw,realtime:zw,auth:Xe(Xe({},Bw),{},{storageKey:d}),global:Uw},m=Qw(n??{},f);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=Gw(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Pv(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Ty(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Nv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,t,n)}channel(s,t={config:{}}){return this.realtime.channel(s,t)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,t,n;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(t=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:c,flowType:d,lock:f,debug:m,throwOnError:g},y,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xw({url:this.authUrl.href,headers:Xe(Xe({},w),y),storageKey:c,autoRefreshToken:s,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:a,flowType:d,lock:f,debug:m,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Jv(this.realtimeUrl.href,Xe(Xe({},s),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,t)=>{this._handleTokenChanged(s,"CLIENT",t?.access_token)})}_handleTokenChanged(s,t,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ex=(s,t,n)=>new Zw(s,t,n);function tx(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}tx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yf=["Outwit, Outplay, Outdrink","Rice Negotiators","Come on In Gals","Fire Making Champions","Hidden Immunity Idols Anonymous","Survivor: Office Edition","Torch Snuffer Extraordinaires","Cancel Christmas! Club","Mergatory","Alliance Backstabbers United","Survivor: Couch Edition","Morality Alliance from Hell","Ponderosa Dream Team","Bottoms Up Alliance","Cops R Us"];function wf(){return yf[Math.floor(Math.random()*yf.length)]}const Eo=["Merge","Feast","Torch","Fire","Immunity","Idol","Tribe","Alliance","Boot","Vote","Ponderosa","Challenge","Reward","Jury","Final","Tribal","Council","Snuffer","Hidden","Rice","Negotiate","Outwit","Outplay","Outlast","Survivor","Exile","Redemption","Island","Beach","Camp","Swap","Advantage","Legacy"];function rx(){const s=Eo[Math.floor(Math.random()*Eo.length)],t=Eo[Math.floor(Math.random()*Eo.length)],n=Math.floor(Math.random()*1e4);return`${s}${t}${n}`}const nx="https://zckfxbeuahzoolybwobk.supabase.co",sx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpja2Z4YmV1YWh6b29seWJ3b2JrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1NzUyMzEsImV4cCI6MjA4MzE1MTIzMX0.oS-0_tcQYOJViWWf2_DuM-PcmI_NRVbVM5f2-JL2nAU",ve=ex(nx,sx,{auth:{storage:typeof window<"u"?localStorage:void 0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class Ne{static getClient(){return ve}static async getCurrentUser(){try{const{data:{user:t},error:n}=await ve.auth.getUser();if(n||!t){const{data:{session:a},error:c}=await ve.auth.getSession();if(a&&!c&&a.refresh_token){const{data:{session:d},error:f}=await ve.auth.refreshSession(a);if(!f&&d?.user){const m=d.user.user_metadata?.username||d.user.email?.split("@")[0]||"user";return{id:d.user.id,email:d.user.email||"",username:m,createdAt:d.user.created_at||new Date().toISOString()}}}return null}const o=t.user_metadata?.username||t.email?.split("@")[0]||"user";return{id:t.id,email:t.email||"",username:o,createdAt:t.created_at||new Date().toISOString()}}catch(t){return console.error("Error getting current user:",t),null}}static async signUp(t,n,o){try{const{data:{user:a},error:c}=await ve.auth.signUp({email:t,password:n,options:{data:{username:o}}});if(c||!a)throw console.error("Error signing up:",c),c||new Error("Failed to sign up");return{id:a.id,email:a.email||t,username:a.user_metadata?.username||o,createdAt:a.created_at||new Date().toISOString()}}catch(a){throw console.error("Error in signUp:",a),a}}static async signIn(t,n){try{const{data:{user:o},error:a}=await ve.auth.signInWithPassword({email:t,password:n});if(a||!o)throw console.error("Error signing in:",a),a||new Error("Failed to sign in");const c=o.user_metadata?.username||o.email?.split("@")[0]||"user";return{id:o.id,email:o.email||t,username:c,createdAt:o.created_at||new Date().toISOString()}}catch(o){throw console.error("Error in signIn:",o),o}}static async signOut(){try{const{error:t}=await ve.auth.signOut();if(t)throw console.error("Error signing out:",t),t}catch(t){throw console.error("Error in signOut:",t),t}}static async resetPasswordForEmail(t,n){try{const o=n||`${window.location.origin}${window.location.pathname}`,{error:a}=await ve.auth.resetPasswordForEmail(t,{redirectTo:o});if(a)throw console.error("Error resetting password:",a),a}catch(o){throw console.error("Error in resetPasswordForEmail:",o),o}}static async updatePassword(t){try{const{error:n}=await ve.auth.updateUser({password:t});if(n)throw console.error("Error updating password:",n),n}catch(n){throw console.error("Error in updatePassword:",n),n}}static async signInWithOAuth(t,n){try{const{error:o}=await ve.auth.signInWithOAuth({provider:t,options:{redirectTo:n||window.location.origin,queryParams:{access_type:"offline",prompt:"consent"}}});if(o)throw console.error(`Error signing in with ${t}:`,o),o}catch(o){throw console.error(`Error in signInWithOAuth (${t}):`,o),o}}static async getLeaguesByUserId(t){try{const{data:n,error:o}=await ve.from("league_members").select(`
          league_id,
          total_points,
          leagues!inner(
            id,
            name,
            season_id,
            invite_code,
            created_at,
            draft_date,
            seasons!inner(
              id,
              name,
              number
            )
          )
        `).eq("user_id",t).order("total_points",{ascending:!1});return o?(console.error("Error fetching user leagues:",o),[]):!n||n.length===0?[]:n.map(c=>{const d=c.leagues;return{id:d.id,name:d.name,seasonId:d.season_id,createdById:d.created_by_id||"",inviteCode:d.invite_code,createdAt:d.created_at,draftDate:d.draft_date||void 0}})}catch(n){return console.error("Error in getLeaguesByUserId:",n),[]}}static async getUILeaguesByUserId(t){try{const{data:n,error:o}=await ve.from("league_members").select(`
          league_id,
          leagues!inner(
            id,
            name,
            season_id,
            invite_code,
            created_at,
            draft_date,
            seasons!inner(
              id,
              name,
              number
            )
          )
        `).eq("user_id",t);if(o)return console.error("Error fetching user leagues:",o),[];if(!n||n.length===0)return[];const a=await Promise.all(n.map(async c=>{const d=c.leagues,f=d.seasons,{count:m}=await ve.from("league_members").select("*",{count:"exact",head:!0}).eq("league_id",d.id),g=m||0,y=await this.calculateUserPoints(t,d.id),{data:x}=await ve.from("league_members").select("user_id").eq("league_id",d.id),w=await Promise.all((x||[]).map(async _=>{const E=await this.calculateUserPoints(_.user_id,d.id);return{userId:_.user_id,points:E}}));w.sort((_,E)=>E.points-_.points);const b=w.findIndex(_=>_.userId===t),C=b>=0?b+1:g;return{league:{id:d.id,name:d.name,seasonId:d.season_id,createdById:d.created_by_id||"",inviteCode:d.invite_code,createdAt:d.created_at,draftDate:d.draft_date||void 0},seasonName:f.name||`Season ${f.number}`,memberCount:g,userRank:C,userPoints:y}}));return a.sort((c,d)=>d.userPoints-c.userPoints),a}catch(n){return console.error("Error in getUILeaguesByUserId:",n),[]}}static async getLeaguesForSelector(t){try{const{data:n,error:o}=await ve.from("league_members").select(`
          league_id,
          leagues!inner(
            id,
            name,
            invite_code,
            season_id,
            seasons!inner(
              id,
              name,
              number,
              status
            )
          )
        `).eq("user_id",t);if(o)return console.error("Error fetching user leagues for selector:",o),[];if(!n||n.length===0)return[];const a=n.filter(d=>{const f=d.leagues.seasons;return f.status==="active"||f.status==="upcoming"});return await Promise.all(a.map(async d=>{const f=d.leagues,m=f.seasons,{count:g}=await ve.from("league_members").select("*",{count:"exact",head:!0}).eq("league_id",f.id),y=g||0;return{id:f.id,name:f.name,season:m.name||`Season ${m.number}`,seasonNumber:m.number,seasonName:m.name||`Season ${m.number}`,memberCount:y,inviteCode:f.invite_code}}))}catch(n){return console.error("Error in getLeaguesForSelector:",n),[]}}static async createLeague(t,n,o,a){try{let c="",d=!1,f=0;const m=10;for(;!d&&f<m;){c=ix();const{data:_}=await ve.from("leagues").select("id").eq("invite_code",c).single();_?f++:d=!0}if(!d||!c)throw new Error("Failed to generate unique invite code");const{data:g,error:y}=await ve.from("leagues").insert({name:t,season_id:n,created_by_id:o,invite_code:c,draft_date:a||null}).select().single();if(y||!g)throw console.error("Error creating league:",y),y||new Error("Failed to create league");const{data:x,error:w}=await ve.from("users").select("username").eq("id",o).single();let b;if(w||!x||!x.username){let _=0,E=null;do{b=rx();const{error:P}=await ve.from("users").update({username:b}).eq("id",o);E=P,_++}while(E&&E.code==="23505"&&_<5);E&&E.code!=="23505"&&console.error("Error updating username:",E)}else b=x.username;const{error:C}=await ve.from("league_members").insert({league_id:g.id,user_id:o,display_name:b});if(C)throw console.error("Error adding creator as member:",C),await ve.from("leagues").delete().eq("id",g.id),C;return{id:g.id,name:g.name,seasonId:g.season_id,createdById:g.created_by_id,inviteCode:g.invite_code,createdAt:g.created_at,draftDate:g.draft_date||void 0}}catch(c){throw console.error("Error in createLeague:",c),c}}static async joinLeagueByInviteCode(t,n){try{const{data:o,error:a}=await ve.from("leagues").select("*").eq("invite_code",t.toUpperCase()).single();if(a||!o)throw a?.code==="PGRST116"?new Error("Invalid invite code. Please check and try again."):a||new Error("League not found");const{data:c}=await ve.from("league_members").select("id").eq("league_id",o.id).eq("user_id",n).single();if(c)throw new Error("You are already a member of this league");const{error:d}=await ve.from("league_members").insert({league_id:o.id,user_id:n});if(d)throw console.error("Error joining league:",d),d;return{id:o.id,name:o.name,seasonId:o.season_id,createdById:o.created_by_id,inviteCode:o.invite_code,createdAt:o.created_at,draftDate:o.draft_date||void 0}}catch(o){throw console.error("Error in joinLeagueByInviteCode:",o),o}}static async getLeagueMemberCount(t){return 0}static async getSeasons(){try{const{data:t,error:n}=await ve.from("seasons").select("*").order("number",{ascending:!1});return n?(console.error("Error fetching seasons:",n),[]):(t||[]).map(o=>({id:o.id,name:o.name,number:o.number,status:o.status,startDate:o.start_date,endDate:o.end_date||void 0}))}catch(t){return console.error("Error fetching seasons:",t),[]}}static async getSeasonById(t){try{const{data:n,error:o}=await ve.from("seasons").select("*").eq("id",t).single();return o?(console.error("Error fetching season:",o),null):n?{id:n.id,name:n.name,number:n.number,status:n.status,startDate:n.start_date,endDate:n.end_date||void 0}:null}catch(n){return console.error("Error in getSeasonById:",n),null}}static async getContestantsBySeason(t){try{const{data:n,error:o}=await ve.from("contestants").select("*").eq("season_id",t).order("name");return o?(console.error("Error fetching contestants:",o),[]):(n||[]).map(a=>({id:a.id,name:a.name,age:a.age||0,occupation:a.occupation||"",hometown:a.hometown||"",imageUrl:a.image_url||"",status:a.status,eliminatedWeek:a.eliminated_week||void 0,seasonId:a.season_id}))}catch(n){return console.error("Error in getContestantsBySeason:",n),[]}}static async updateContestantStatus(t,n,o){}static async getRosterByUserAndLeague(t,n){try{const{data:o,error:a}=await ve.from("roster_picks").select(`
          *,
          contestants (
            id,
            name,
            age,
            occupation,
            hometown,
            image_url,
            status,
            eliminated_week,
            season_id
          )
        `).eq("user_id",t).eq("league_id",n).order("picked_at",{ascending:!0});return a?(console.error("Error fetching roster picks:",a),[]):(o||[]).map(c=>({id:c.id,userId:c.user_id,leagueId:c.league_id,contestantId:c.contestant_id,pickType:c.pick_type,pickedAt:c.picked_at,contestant:c.contestants?{id:c.contestants.id,name:c.contestants.name,age:c.contestants.age||0,occupation:c.contestants.occupation||"",hometown:c.contestants.hometown||"",imageUrl:c.contestants.image_url||"",status:c.contestants.status,eliminatedWeek:c.contestants.eliminated_week||void 0,seasonId:c.contestants.season_id}:null})).filter(c=>c.contestant!==null)}catch(o){return console.error("Error in getRosterByUserAndLeague:",o),[]}}static async addRosterPick(t,n,o,a){try{const{data:c,error:d}=await ve.from("roster_picks").insert({user_id:t,league_id:n,contestant_id:o,pick_type:a}).select().single();if(d)throw console.error("Error adding roster pick:",d),d;return c?{id:c.id,userId:c.user_id,leagueId:c.league_id,contestantId:c.contestant_id,pickType:c.pick_type,pickedAt:c.picked_at}:null}catch(c){throw console.error("Error in addRosterPick:",c),c}}static async removeRosterPick(t){try{const{error:n}=await ve.from("roster_picks").delete().eq("id",t);if(n)throw console.error("Error removing roster pick:",n),n}catch(n){throw console.error("Error in removeRosterPick:",n),n}}static async updateRosterPick(t,n){}static async getLeagueStandings(t){try{const{data:n,error:o}=await ve.from("leagues").select("season_id").eq("id",t).single();if(o||!n)return console.error("Error fetching league:",o),[];const a=n.season_id;if(!a)return[];const c=await this.getCurrentWeek(a),d=Math.max(0,c-1),{data:f,error:m}=await ve.from("league_members").select("user_id, display_name").eq("league_id",t);if(m||!f||f.length===0)return m?console.error("Error fetching league members:",m):console.log("No league members found for league:",t),[];const g=await Promise.all(f.map(async x=>{const w=await this.calculateUserPoints(x.user_id,t),b=d>0?await this.calculateUserPointsForWeek(x.user_id,t,d):0,C=w-b,_=x.display_name||`Player ${x.user_id.substring(0,8)}`;return{userId:x.user_id,username:_,points:w,change:C,leagueId:t}}));g.sort((x,w)=>w.points-x.points);const y=g.map((x,w)=>({...x,rank:w+1}));return console.log("Standings:",y),y}catch(n){return console.error("Error in getLeagueStandings:",n),[]}}static async getLeagueDisplayNames(t){try{const{data:n,error:o}=await ve.from("league_members").select("league_id, display_name").eq("user_id",t);if(o)return console.error("Error fetching display names:",o),{};const a={};return n&&n.forEach(c=>{c.display_name&&(a[c.league_id]=c.display_name)}),a}catch(n){return console.error("Error in getLeagueDisplayNames:",n),{}}}static async updateLeagueDisplayName(t,n,o){try{const a=o.trim();console.log("Updating display name in Supabase:",{userId:t,leagueId:n,displayName:a||null});const{data:c,error:d}=await ve.from("league_members").update({display_name:a||null}).eq("user_id",t).eq("league_id",n).select();return d?(console.error("Error updating display name:",d),console.error("Error details:",JSON.stringify(d,null,2)),!1):!c||c.length===0?(console.error("Update returned no rows - RLS policy may be blocking the update or row does not exist"),console.error("Query params:",{userId:t,leagueId:n,displayName:a}),!1):(console.log("Display name updated successfully:",c),!0)}catch(a){return console.error("Error in updateLeagueDisplayName:",a),!1}}static async getLeagueMembersForDraftOrder(t){try{const{data:n,error:o}=await ve.from("league_members").select("id, user_id, display_name, draft_order, joined_at").eq("league_id",t).order("draft_order",{ascending:!0,nullsFirst:!1}).order("joined_at",{ascending:!0});if(o)return console.error("Error fetching league members:",o),[];if(!n||n.length===0)return[];const a=n.map(m=>m.user_id),{data:c,error:d}=await ve.from("users").select("id, username").in("id",a);d&&console.error("Error fetching users:",d);const f=new Map;return c&&c.forEach(m=>{f.set(m.id,m.username)}),n.map(m=>{const g=f.get(m.user_id)||"Unknown",y=m.display_name||g||`Player ${m.user_id.substring(0,8)}`;return{id:m.id,userId:m.user_id,username:g,displayName:m.display_name,draftOrder:m.draft_order,joinedAt:m.joined_at}})}catch(n){return console.error("Error in getLeagueMembersForDraftOrder:",n),[]}}static async updateDraftOrder(t,n){try{const o=n.map(({memberId:d,draftOrder:f})=>ve.from("league_members").update({draft_order:f}).eq("id",d).eq("league_id",t)),a=await Promise.all(o);return a.some(d=>d.error)?(console.error("Error updating draft order:",a.find(d=>d.error)?.error),!1):!0}catch(o){return console.error("Error in updateDraftOrder:",o),!1}}static async getLeagueStandingsFallback(t){try{const{data:n,error:o}=await ve.from("league_members").select("user_id, total_points, display_name").eq("league_id",t).order("total_points",{ascending:!1});if(o||!n||n.length===0)return console.error("Error in fallback method:",o),[];const a=n.map(g=>g.user_id),{data:c,error:d}=await ve.from("users").select("id, username").in("id",a);d&&console.error("Error fetching users:",d);const f=new Map;c&&c.forEach(g=>{f.set(g.id,g)});const m=n.map((g,y)=>{const x=f.get(g.user_id),w=g.display_name||x?.username||"Unknown";return{rank:y+1,userId:g.user_id,username:w,points:g.total_points??0,change:0,leagueId:t}});return console.log("Fallback standings:",m),m}catch(n){return console.error("Error in fallback method:",n),[]}}static async getLeagueActivity(t,n=20){return[]}static async recordActivity(t,n,o,a,c,d){}static async recordContestantScore(t,n,o,a,c){}static async getContestantScores(t,n){return[]}static async calculateUserPoints(t,n){try{const{data:o,error:a}=await ve.rpc("calculate_user_total_points",{p_user_id:t,p_league_id:n,p_week_number:null});return a?(console.error("Error calculating user points:",a),0):o||0}catch(o){return console.error("Error in calculateUserPoints:",o),0}}static async addActivityEvent(t,n,o,a){try{const{data:c,error:d}=await ve.from("activity_events").insert({season_id:t,contestant_id:n,week_number:o,activity_type:a}).select("id").single();if(d)throw console.error("Error adding activity event:",d),d;return c?{id:c.id}:null}catch(c){throw console.error("Error in addActivityEvent:",c),c}}static async getActivityEvents(t,n){try{let o=ve.from("activity_events").select("*").eq("season_id",t).order("week_number",{ascending:!0}).order("created_at",{ascending:!0});n!==void 0&&(o=o.eq("week_number",n));const{data:a,error:c}=await o;return c?(console.error("Error fetching activity events:",c),[]):(a||[]).map(d=>({id:d.id,seasonId:d.season_id,contestantId:d.contestant_id,weekNumber:d.week_number,activityType:d.activity_type,createdAt:d.created_at}))}catch(o){return console.error("Error in getActivityEvents:",o),[]}}static async getCurrentWeek(t){try{const{data:n,error:o}=await ve.rpc("get_current_week",{p_season_id:t});return o?(console.error("Error getting current week:",o),0):n||0}catch(n){return console.error("Error in getCurrentWeek:",n),0}}static async calculatePickPoints(t,n,o,a,c){try{const{data:d,error:f}=await ve.rpc("calculate_pick_points",{p_user_id:t,p_league_id:n,p_contestant_id:o,p_pick_type:a,p_week_number:c||null});return f?(console.error("Error calculating pick points:",f),0):d||0}catch(d){return console.error("Error in calculatePickPoints:",d),0}}static async calculateUserPointsForWeek(t,n,o){try{const{data:a,error:c}=await ve.rpc("calculate_user_total_points",{p_user_id:t,p_league_id:n,p_week_number:o});return c?(console.error("Error calculating user points for week:",c),0):a||0}catch(a){return console.error("Error in calculateUserPointsForWeek:",a),0}}static async recalculateContestantStatuses(t){try{const{error:n}=await ve.rpc("recalculate_contestant_statuses",{p_season_id:t});if(n)throw console.error("Error recalculating contestant statuses:",n),n}catch(n){throw console.error("Error in recalculateContestantStatuses:",n),n}}static async getActivityEventsForContestants(t,n){try{if(!n||n.length===0)return[];const{data:o,error:a}=await ve.from("activity_events").select(`
          *,
          contestants!inner(
            id,
            name
          )
        `).eq("season_id",t).in("contestant_id",n).order("week_number",{ascending:!1}).order("created_at",{ascending:!1});return a?(console.error("Error fetching activity events for contestants:",a),[]):(o||[]).map(c=>({id:c.id,seasonId:c.season_id,contestantId:c.contestant_id,contestantName:c.contestants?.name||"Unknown",weekNumber:c.week_number,activityType:c.activity_type,points:0,createdAt:c.created_at}))}catch(o){return console.error("Error in getActivityEventsForContestants:",o),[]}}static async getAllRosterPicksForLeague(t){try{const{data:n,error:o}=await ve.from("roster_picks").select("id, user_id, contestant_id, pick_type").eq("league_id",t);if(o)return console.error("Error fetching roster picks:",o),[];if(!n||n.length===0)return[];const a=[...new Set(n.map(m=>m.user_id))],{data:c,error:d}=await ve.from("league_members").select("user_id, display_name").eq("league_id",t).in("user_id",a);if(d)return console.error("Error fetching league members:",d),[];const f={};return(c||[]).forEach(m=>{f[m.user_id]=m.display_name||"Unknown"}),(n||[]).map(m=>({id:m.id,userId:m.user_id,contestantId:m.contestant_id,pickType:m.pick_type,displayName:f[m.user_id]||"Unknown"}))}catch(n){return console.error("Error in getAllRosterPicksForLeague:",n),[]}}static async getActivityEventsForSeason(t){try{const{data:n,error:o}=await ve.from("activity_events").select(`
          *,
          contestants!inner(
            id,
            name
          )
        `).eq("season_id",t).order("week_number",{ascending:!1}).order("created_at",{ascending:!1});return o?(console.error("Error fetching activity events for season:",o),[]):(n||[]).map(a=>({id:a.id,contestantId:a.contestant_id,contestantName:a.contestants?.name||"Unknown",weekNumber:a.week_number,activityType:a.activity_type,createdAt:a.created_at}))}catch(n){return console.error("Error in getActivityEventsForSeason:",n),[]}}}function ix(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<6;n++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}const ox={revalidateOnFocus:!0,revalidateOnReconnect:!0,dedupingInterval:2e3,focusThrottleInterval:5e3,errorRetryCount:3,errorRetryInterval:5e3,shouldRetryOnError:s=>!(s?.status>=400&&s?.status<500)},it=async s=>{const[t,...n]=s.split(":");switch(t){case"roster":return await Ne.getRosterByUserAndLeague(n[0],n[1]);case"contestants":return await Ne.getContestantsBySeason(n[0]);case"points":return await Ne.calculateUserPoints(n[0],n[1]);case"league-season":const o=Ne.getClient(),{data:a,error:c}=await o.from("leagues").select("season_id").eq("id",n[0]).single();return c||!a?(console.error("Error fetching league season:",c),null):a.season_id;case"standings":return await Ne.getLeagueStandings(n[0]);case"member-count":return await Ne.getLeagueMemberCount(n[0]);case"leagues":return await Ne.getLeaguesByUserId(n[0]);case"ui-leagues":return await Ne.getUILeaguesByUserId(n[0]);case"leagues-selector":return await Ne.getLeaguesForSelector(n[0]);case"league-display-names":return await Ne.getLeagueDisplayNames(n[0]);case"seasons":return await Ne.getSeasons();case"activity":return await Ne.getLeagueActivity(n[0],parseInt(n[1]||"20"));case"current-user":return await Ne.getCurrentUser();case"current-week":const d=Ne.getClient(),{data:f,error:m}=await d.from("leagues").select("season_id").eq("id",n[0]).single();return m||!f||!f.season_id?0:await Ne.getCurrentWeek(f.season_id);case"roster-activity":const g=n[1]?n[1].split(","):[];return!n[0]||g.length===0?[]:await Ne.getActivityEventsForContestants(n[0],g);case"league-activity-roster-picks":return n[0]?await Ne.getAllRosterPicksForLeague(n[0]):[];case"league-activity-events":return n[0]?await Ne.getActivityEventsForSeason(n[0]):[];default:throw new Error(`Unknown fetcher type: ${t}`)}},Qe=(s,...t)=>t.some(n=>n==null)?null:`${s}:${t.join(":")}`,ax=()=>{const[s,t]=N.useState(!1),[n,o]=N.useState(""),[a,c]=N.useState(""),[d,f]=N.useState(null),[m,g]=N.useState(new Date(2026,1,14)),[y,x]=N.useState(null),[w,b]=N.useState("join"),[C,_]=N.useState(!1),[E,P]=N.useState(!1),[S,O]=N.useState(null),[D,M]=N.useState(null),G=Ee=>{let $e=0;for(let He=0;He<Ee.length;He++){const Ae=Ee.charCodeAt(He);$e=($e<<5)-$e+Ae,$e=$e&$e}return Math.abs($e)},H=Qe("current-user"),{data:F}=Ze(H,it),z=Qe("ui-leagues",F?.id),{data:de=[],error:ae,isLoading:le}=Ze(z,it),{myLeagues:Re,leagueUuidMap:te}=N.useMemo(()=>{if(!de||de.length===0)return{myLeagues:[],leagueUuidMap:new Map};const Ee=new Map;return{myLeagues:de.map(He=>{const Ae=G(He.league.id);return Ee.set(Ae,He.league.id),{id:Ae,name:He.league.name,season:He.seasonName,members:He.memberCount,rank:He.userRank,points:He.userPoints}}),leagueUuidMap:Ee}},[de]),Q=async()=>{z&&await os(z)},pe=Qe("seasons"),{data:fe=[],error:$,isLoading:Z}=Ze(pe,it),J=N.useMemo(()=>fe,[fe]),{seasons:R,availableSeasonsForCreate:U}=N.useMemo(()=>{if(!fe||fe.length===0)return{seasons:[],availableSeasonsForCreate:[]};const $e=fe.filter(Ae=>{const Se=Ae.status;return Se==="active"||Se==="upcoming"}).map(Ae=>{let Se="archived";Ae.status==="active"&&(Se="live");let Te="Archive";return Ae.status==="active"?Te="Current Season":Ae.status==="upcoming"&&(Te="Upcoming Season"),{id:Ae.number,title:Ae.name||`Season ${Ae.number}`,subtitle:Te,image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=240&fit=crop",status:Se,leagues:0}});return{seasons:fe.map(Ae=>{let Se="archived";Ae.status==="active"?Se="live":Ae.status==="completed"&&(Se="completed");let Te="Archive";return Ae.status==="active"?Te="Current Season":Ae.status==="completed"&&(Te="Recently Completed"),{id:Ae.number,title:Ae.name||`Season ${Ae.number}`,subtitle:Te,image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=240&fit=crop",status:Se,leagues:0}}),availableSeasonsForCreate:$e}},[fe]);N.useEffect(()=>{if(U.length>0&&!d){const Ee=new Date;Ee.setHours(0,0,0,0);let $e=U[0],He=Math.abs(new Date(J.find(Ae=>Ae.number===$e.id)?.startDate||"").getTime()-Ee.getTime());for(const Ae of U){const Se=J.find(Ue=>Ue.number===Ae.id);if(!Se)continue;const Te=new Date(Se.startDate);Te.setHours(0,0,0,0);const Me=Math.abs(Te.getTime()-Ee.getTime());Me<He&&(He=Me,$e=Ae)}f($e.id)}},[U,J,d]),N.useEffect(()=>{if(w==="create"&&!a){const Ee=Math.floor(Math.random()*Kh.length);c(Kh[Ee])}},[w,a]);const X=n&&n.length===6,oe=a&&d&&m;return{isSheetOpen:s,inviteCode:n,leagueName:a,selectedSeason:d,draftDate:m,viewingSeason:y,activeTab:w,myLeagues:Re,isLoadingLeagues:le,getLeagueUuid:Ee=>te.get(Ee),seasons:R,availableSeasonsForCreate:U,isLoadingSeasons:Z,isCreatingLeague:C,isJoiningLeague:E,createLeagueError:S,joinLeagueError:D,canJoinLeague:X,canCreateLeague:oe,setIsSheetOpen:t,setInviteCode:o,setLeagueName:c,setActiveTab:b,handleSeasonSelect:Ee=>{f(Ee)},handleDraftDateChange:Ee=>{g(Ee)},handleJoinLeague:async()=>{if(X)try{if(P(!0),M(null),!F){M("You must be logged in to join a league"),P(!1);return}await Ne.joinLeagueByInviteCode(n,F.id)&&(o(""),t(!1),await Q())}catch(Ee){console.error("Error joining league:",Ee),M(Ee?.message||"Failed to join league. Please check the invite code and try again.")}finally{P(!1)}},handleCreateLeague:async()=>{if(oe)try{if(_(!0),O(null),!F){O("You must be logged in to create a league"),_(!1);return}const Ee=J.find(Ae=>Ae.number===d);if(!Ee){O("Invalid season selected"),_(!1);return}const $e=m.toISOString().split("T")[0];await Ne.createLeague(a,Ee.id,F.id,$e)&&(c(""),f(null),g(new Date(2026,1,14)),t(!1),await Q())}catch(Ee){console.error("Error creating league:",Ee),O(Ee?.message||"Failed to create league. Please try again.")}finally{_(!1)}},handleViewSeason:Ee=>{x(Ee)},handleBackFromSeason:()=>{x(null)},clearCreateLeagueError:()=>O(null),clearJoinLeagueError:()=>M(null)}};function dp(s){var t,n,o="";if(typeof s=="string"||typeof s=="number")o+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(t=0;t<a;t++)s[t]&&(n=dp(s[t]))&&(o&&(o+=" "),o+=n)}else for(n in s)s[n]&&(o&&(o+=" "),o+=n);return o}function hp(){for(var s,t,n=0,o="",a=arguments.length;n<a;n++)(s=arguments[n])&&(t=dp(s))&&(o&&(o+=" "),o+=t);return o}const xf=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,bf=hp,fp=(s,t)=>n=>{var o;if(t?.variants==null)return bf(s,n?.class,n?.className);const{variants:a,defaultVariants:c}=t,d=Object.keys(a).map(g=>{const y=n?.[g],x=c?.[g];if(y===null)return null;const w=xf(y)||xf(x);return a[g][w]}),f=n&&Object.entries(n).reduce((g,y)=>{let[x,w]=y;return w===void 0||(g[x]=w),g},{}),m=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((g,y)=>{let{class:x,className:w,...b}=y;return Object.entries(b).every(C=>{let[_,E]=C;return Array.isArray(E)?E.includes({...c,...f}[_]):{...c,...f}[_]===E})?[...g,x,w]:g},[]);return bf(s,d,m,n?.class,n?.className)},lx=(s,t)=>{const n=new Array(s.length+t.length);for(let o=0;o<s.length;o++)n[o]=s[o];for(let o=0;o<t.length;o++)n[s.length+o]=t[o];return n},cx=(s,t)=>({classGroupId:s,validator:t}),pp=(s=new Map,t=null,n)=>({nextPart:s,validators:t,classGroupId:n}),Lo="-",_f=[],ux="arbitrary..",dx=s=>{const t=fx(s),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=s;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return hx(d);const f=d.split(Lo),m=f[0]===""&&f.length>1?1:0;return mp(f,m,t)},getConflictingClassGroupIds:(d,f)=>{if(f){const m=o[d],g=n[d];return m?g?lx(g,m):m:g||_f}return n[d]||_f}}},mp=(s,t,n)=>{if(s.length-t===0)return n.classGroupId;const a=s[t],c=n.nextPart.get(a);if(c){const g=mp(s,t+1,c);if(g)return g}const d=n.validators;if(d===null)return;const f=t===0?s.join(Lo):s.slice(t).join(Lo),m=d.length;for(let g=0;g<m;g++){const y=d[g];if(y.validator(f))return y.classGroupId}},hx=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=s.slice(1,-1),n=t.indexOf(":"),o=t.slice(0,n);return o?ux+o:void 0})(),fx=s=>{const{theme:t,classGroups:n}=s;return px(n,t)},px=(s,t)=>{const n=pp();for(const o in s){const a=s[o];$c(a,n,o,t)}return n},$c=(s,t,n,o)=>{const a=s.length;for(let c=0;c<a;c++){const d=s[c];mx(d,t,n,o)}},mx=(s,t,n,o)=>{if(typeof s=="string"){gx(s,t,n);return}if(typeof s=="function"){vx(s,t,n,o);return}yx(s,t,n,o)},gx=(s,t,n)=>{const o=s===""?t:gp(t,s);o.classGroupId=n},vx=(s,t,n,o)=>{if(wx(s)){$c(s(o),t,n,o);return}t.validators===null&&(t.validators=[]),t.validators.push(cx(n,s))},yx=(s,t,n,o)=>{const a=Object.entries(s),c=a.length;for(let d=0;d<c;d++){const[f,m]=a[d];$c(m,gp(t,f),n,o)}},gp=(s,t)=>{let n=s;const o=t.split(Lo),a=o.length;for(let c=0;c<a;c++){const d=o[c];let f=n.nextPart.get(d);f||(f=pp(),n.nextPart.set(d,f)),n=f}return n},wx=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,xx=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),o=Object.create(null);const a=(c,d)=>{n[c]=d,t++,t>s&&(t=0,o=n,n=Object.create(null))};return{get(c){let d=n[c];if(d!==void 0)return d;if((d=o[c])!==void 0)return a(c,d),d},set(c,d){c in n?n[c]=d:a(c,d)}}},Nc="!",kf=":",bx=[],Sf=(s,t,n,o,a)=>({modifiers:s,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:o,isExternal:a}),_x=s=>{const{prefix:t,experimentalParseClassName:n}=s;let o=a=>{const c=[];let d=0,f=0,m=0,g;const y=a.length;for(let _=0;_<y;_++){const E=a[_];if(d===0&&f===0){if(E===kf){c.push(a.slice(m,_)),m=_+1;continue}if(E==="/"){g=_;continue}}E==="["?d++:E==="]"?d--:E==="("?f++:E===")"&&f--}const x=c.length===0?a:a.slice(m);let w=x,b=!1;x.endsWith(Nc)?(w=x.slice(0,-1),b=!0):x.startsWith(Nc)&&(w=x.slice(1),b=!0);const C=g&&g>m?g-m:void 0;return Sf(c,b,w,C)};if(t){const a=t+kf,c=o;o=d=>d.startsWith(a)?c(d.slice(a.length)):Sf(bx,!1,d,void 0,!0)}if(n){const a=o;o=c=>n({className:c,parseClassName:a})}return o},kx=s=>{const t=new Map;return s.orderSensitiveModifiers.forEach((n,o)=>{t.set(n,1e6+o)}),n=>{const o=[];let a=[];for(let c=0;c<n.length;c++){const d=n[c],f=d[0]==="[",m=t.has(d);f||m?(a.length>0&&(a.sort(),o.push(...a),a=[]),o.push(d)):a.push(d)}return a.length>0&&(a.sort(),o.push(...a)),o}},Sx=s=>({cache:xx(s.cacheSize),parseClassName:_x(s),sortModifiers:kx(s),...dx(s)}),Ex=/\s+/,jx=(s,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:c}=t,d=[],f=s.trim().split(Ex);let m="";for(let g=f.length-1;g>=0;g-=1){const y=f[g],{isExternal:x,modifiers:w,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:_}=n(y);if(x){m=y+(m.length>0?" "+m:m);continue}let E=!!_,P=o(E?C.substring(0,_):C);if(!P){if(!E){m=y+(m.length>0?" "+m:m);continue}if(P=o(C),!P){m=y+(m.length>0?" "+m:m);continue}E=!1}const S=w.length===0?"":w.length===1?w[0]:c(w).join(":"),O=b?S+Nc:S,D=O+P;if(d.indexOf(D)>-1)continue;d.push(D);const M=a(P,E);for(let G=0;G<M.length;++G){const H=M[G];d.push(O+H)}m=y+(m.length>0?" "+m:m)}return m},Nx=(...s)=>{let t=0,n,o,a="";for(;t<s.length;)(n=s[t++])&&(o=vp(n))&&(a&&(a+=" "),a+=o);return a},vp=s=>{if(typeof s=="string")return s;let t,n="";for(let o=0;o<s.length;o++)s[o]&&(t=vp(s[o]))&&(n&&(n+=" "),n+=t);return n},Cx=(s,...t)=>{let n,o,a,c;const d=m=>{const g=t.reduce((y,x)=>x(y),s());return n=Sx(g),o=n.cache.get,a=n.cache.set,c=f,f(m)},f=m=>{const g=o(m);if(g)return g;const y=jx(m,n);return a(m,y),y};return c=d,(...m)=>c(Nx(...m))},Tx=[],lt=s=>{const t=n=>n[s]||Tx;return t.isThemeGetter=!0,t},yp=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wp=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rx=/^\d+\/\d+$/,Ox=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Px=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ax=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ix=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,es=s=>Rx.test(s),je=s=>!!s&&!Number.isNaN(Number(s)),Qr=s=>!!s&&Number.isInteger(Number(s)),sc=s=>s.endsWith("%")&&je(s.slice(0,-1)),Sr=s=>Ox.test(s),Dx=()=>!0,Fx=s=>Px.test(s)&&!Ax.test(s),xp=()=>!1,$x=s=>Ix.test(s),Ux=s=>Lx.test(s),Mx=s=>!ne(s)&&!se(s),Bx=s=>ls(s,kp,xp),ne=s=>yp.test(s),vn=s=>ls(s,Sp,Fx),ic=s=>ls(s,Hx,je),Ef=s=>ls(s,bp,xp),zx=s=>ls(s,_p,Ux),jo=s=>ls(s,Ep,$x),se=s=>wp.test(s),Ys=s=>cs(s,Sp),Vx=s=>cs(s,Kx),jf=s=>cs(s,bp),Wx=s=>cs(s,kp),qx=s=>cs(s,_p),No=s=>cs(s,Ep,!0),ls=(s,t,n)=>{const o=yp.exec(s);return o?o[1]?t(o[1]):n(o[2]):!1},cs=(s,t,n=!1)=>{const o=wp.exec(s);return o?o[1]?t(o[1]):n:!1},bp=s=>s==="position"||s==="percentage",_p=s=>s==="image"||s==="url",kp=s=>s==="length"||s==="size"||s==="bg-size",Sp=s=>s==="length",Hx=s=>s==="number",Kx=s=>s==="family-name",Ep=s=>s==="shadow",Gx=()=>{const s=lt("color"),t=lt("font"),n=lt("text"),o=lt("font-weight"),a=lt("tracking"),c=lt("leading"),d=lt("breakpoint"),f=lt("container"),m=lt("spacing"),g=lt("radius"),y=lt("shadow"),x=lt("inset-shadow"),w=lt("text-shadow"),b=lt("drop-shadow"),C=lt("blur"),_=lt("perspective"),E=lt("aspect"),P=lt("ease"),S=lt("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...D(),se,ne],G=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],F=()=>[se,ne,m],z=()=>[es,"full","auto",...F()],de=()=>[Qr,"none","subgrid",se,ne],ae=()=>["auto",{span:["full",Qr,se,ne]},Qr,se,ne],le=()=>[Qr,"auto",se,ne],Re=()=>["auto","min","max","fr",se,ne],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...F()],fe=()=>[es,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],$=()=>[s,se,ne],Z=()=>[...D(),jf,Ef,{position:[se,ne]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",Wx,Bx,{size:[se,ne]}],U=()=>[sc,Ys,vn],X=()=>["","none","full",g,se,ne],oe=()=>["",je,Ys,vn],_e=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[je,sc,jf,Ef],K=()=>["","none",C,se,ne],ke=()=>["none",je,se,ne],Fe=()=>["none",je,se,ne],At=()=>[je,se,ne],Ee=()=>[es,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sr],breakpoint:[Sr],color:[Dx],container:[Sr],"drop-shadow":[Sr],ease:["in","out","in-out"],font:[Mx],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sr],shadow:[Sr],spacing:["px",je],text:[Sr],"text-shadow":[Sr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",es,ne,se,E]}],container:["container"],columns:[{columns:[je,ne,se,f]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Qr,"auto",se,ne]}],basis:[{basis:[es,"full","auto",f,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,es,"auto","initial","none",ne]}],grow:[{grow:["",je,se,ne]}],shrink:[{shrink:["",je,se,ne]}],order:[{order:[Qr,"first","last","none",se,ne]}],"grid-cols":[{"grid-cols":de()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":de()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Re()}],"auto-rows":[{"auto-rows":Re()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[f,"screen",...fe()]}],"min-w":[{"min-w":[f,"screen","none",...fe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",n,Ys,vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,se,ic]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sc,ne]}],"font-family":[{font:[Vx,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,se,ne]}],"line-clamp":[{"line-clamp":[je,"none",se,ic]}],leading:[{leading:[c,...F()]}],"list-image":[{"list-image":["none",se,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",se,vn]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[je,"auto",se,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qr,se,ne],radial:["",se,ne],conic:[Qr,se,ne]},qx,zx]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,se,ne]}],"outline-w":[{outline:["",je,Ys,vn]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,No,jo]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",x,No,jo]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[je,vn]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",w,No,jo]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[je,se,ne]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[se,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,ne]}],filter:[{filter:["","none",se,ne]}],blur:[{blur:K()}],brightness:[{brightness:[je,se,ne]}],contrast:[{contrast:[je,se,ne]}],"drop-shadow":[{"drop-shadow":["","none",b,No,jo]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",je,se,ne]}],"hue-rotate":[{"hue-rotate":[je,se,ne]}],invert:[{invert:["",je,se,ne]}],saturate:[{saturate:[je,se,ne]}],sepia:[{sepia:["",je,se,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",se,ne]}],"backdrop-blur":[{"backdrop-blur":K()}],"backdrop-brightness":[{"backdrop-brightness":[je,se,ne]}],"backdrop-contrast":[{"backdrop-contrast":[je,se,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,se,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,se,ne]}],"backdrop-invert":[{"backdrop-invert":["",je,se,ne]}],"backdrop-opacity":[{"backdrop-opacity":[je,se,ne]}],"backdrop-saturate":[{"backdrop-saturate":[je,se,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",je,se,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",se,ne]}],ease:[{ease:["linear","initial",P,se,ne]}],delay:[{delay:[je,se,ne]}],animate:[{animate:["none",S,se,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,se,ne]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:At()}],"skew-x":[{"skew-x":At()}],"skew-y":[{"skew-y":At()}],transform:[{transform:[se,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[je,Ys,vn,ic]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jx=Cx(Gx);function Zr(...s){return Jx(hp(s))}const Qx=fp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function jp({className:s,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Zr(Qx({variant:t}),s),...n})}function Np({className:s,...t}){return u.jsx("div",{"data-slot":"alert-description",className:Zr("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}function Yx({isOpen:s,onClose:t,inviteCode:n,isJoining:o,error:a,onInviteCodeChange:c,onJoin:d,onClearError:f}){if(N.useEffect(()=>{!s&&a&&f()},[s,a,f]),!s)return null;const m=()=>{o||t()},g=n.length>=6;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-50",onClick:m}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 rounded-t-2xl lg:rounded-2xl border-t lg:border border-slate-800 w-full lg:w-full lg:max-w-md pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:y=>y.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[u.jsx("h2",{className:"text-xl",children:"Join League"}),u.jsx("button",{onClick:m,disabled:o,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[a&&u.jsxs(jp,{variant:"destructive",className:"bg-red-950/50 border-red-800",children:[u.jsx(qf,{className:"h-4 w-4 text-red-400"}),u.jsx(Np,{className:"text-red-300",children:a})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 text-sm text-slate-400",children:"Enter Invite Code"}),u.jsx("input",{type:"text",value:n,onChange:y=>c(y.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"e.g. SURF47",className:"w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:border-teal-600 transition-colors text-white text-center tracking-widest text-lg",maxLength:10,disabled:o}),u.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Ask your league commissioner for the invite code"})]})]}),u.jsxs("div",{className:"flex gap-3 p-6 border-t border-slate-800",children:[u.jsx("button",{onClick:m,disabled:o,className:"flex-1 px-4 py-3 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),u.jsx("button",{onClick:d,disabled:!g||o,className:"flex-1 px-4 py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold",style:{backgroundColor:g&&!o?"#BFFF0B":"#334155",color:g&&!o?"#0f172a":"#64748b"},children:o?"Joining...":"Join League"})]})]})})]})}function Xx({isOpen:s,onClose:t,seasons:n,isLoadingSeasons:o,leagueName:a,selectedSeason:c,draftDate:d,isCreating:f,error:m,onLeagueNameChange:g,onSeasonSelect:y,onDraftDateChange:x,onCreate:w,onClearError:b}){const[C,_]=N.useState(d.toISOString().slice(0,16)),[E,P]=N.useState(wf());if(N.useEffect(()=>{_(d.toISOString().slice(0,16))},[d]),N.useEffect(()=>{s&&P(wf())},[s]),N.useEffect(()=>{!s&&m&&b()},[s,m,b]),!s)return null;const S=M=>{_(M),M&&x(new Date(M))},O=()=>{f||t()},D=a.length>=3&&c!==null&&d;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-50",onClick:O}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 rounded-t-2xl lg:rounded-2xl border-t lg:border border-slate-800 w-full lg:w-full lg:max-w-md max-h-[90vh] lg:max-h-[600px] flex flex-col pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:M=>M.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[u.jsx("h2",{className:"text-xl",children:"Create League"}),u.jsx("button",{onClick:O,disabled:f,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[m&&u.jsxs(jp,{variant:"destructive",className:"bg-red-950/50 border-red-800",children:[u.jsx(qf,{className:"h-4 w-4 text-red-400"}),u.jsx(Np,{className:"text-red-300",children:m})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 text-sm text-slate-400",children:"League Name"}),u.jsx("input",{type:"text",value:a,onChange:M=>g(M.target.value),placeholder:`e.g., ${E}`,className:"w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:border-teal-600 transition-colors text-white",maxLength:50,disabled:f})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 text-sm text-slate-400",children:"Select Season"}),o?u.jsx("div",{className:"w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-slate-400",children:"Loading seasons..."}):!n||n.length===0?u.jsx("div",{className:"w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-slate-400",children:"No seasons available"}):u.jsxs("select",{value:c?.toString()||"",onChange:M=>y(parseInt(M.target.value)),className:"w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:border-teal-600 transition-colors text-white",disabled:f,children:[u.jsx("option",{value:"",children:"Choose a season"}),n.map(M=>u.jsxs("option",{value:M.id,children:[M.title," ",M.status==="live"&&"(Active)"]},M.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 text-sm text-slate-400",children:"Draft Date"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"datetime-local",value:C,onChange:M=>S(M.target.value),min:new Date().toISOString().slice(0,16),className:"w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:border-teal-600 transition-colors text-white pr-10",disabled:f}),u.jsx(U0,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500 pointer-events-none"})]})]})]}),u.jsxs("div",{className:"flex gap-3 p-6 border-t border-slate-800",children:[u.jsx("button",{onClick:O,disabled:f,className:"flex-1 px-4 py-3 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),u.jsx("button",{onClick:w,disabled:!D||f,className:"flex-1 px-4 py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold",style:{backgroundColor:D&&!f?"#BFFF0B":"#334155",color:D&&!f?"#0f172a":"#64748b"},children:f?"Creating...":"Create League"})]})]})})]})}const Cp="/assets/icon-BPH2Ykwo.png";function Zx({onSignInClick:s}){return u.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 flex items-center justify-center min-h-[60vh]",children:u.jsxs("div",{className:"text-center w-full max-w-md",children:[u.jsx("div",{className:"h-6"}),u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"w-32 h-32 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(191, 255, 11, 0.1)"},children:u.jsx("img",{src:Cp,alt:"Reality Bracket Logo",className:"w-full h-full object-contain"})})}),u.jsx("div",{className:"h-6"}),u.jsxs("div",{className:"space-y-6 mb-12",children:[u.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"The Tribe Has Spoken"}),u.jsx("p",{className:"text-lg text-slate-400",children:"Welcome to Tribal Bracket, an app for Survivor Fantasy Leagues. Fan-built and 100% free!"})]}),u.jsx("div",{className:"h-6"}),u.jsx("div",{children:u.jsxs("button",{onClick:s,className:"w-full px-6 py-4 rounded-xl border-2 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3",style:{borderColor:"#BFFF0B",backgroundColor:"rgba(191, 255, 11, 0.1)",color:"#BFFF0B"},children:[u.jsx(Kf,{className:"w-5 h-5"}),u.jsx("span",{className:"text-lg font-semibold",children:"Sign In or Create Account to Play"})]})})]})})}function eb({isAuthenticated:s,onLeagueClick:t,onSignInClick:n}){const[o,a]=N.useState(!1),[c,d]=N.useState(!1),f=ax(),m=N.useRef(!1),g=N.useRef(!1);return N.useEffect(()=>{m.current&&!f.isJoiningLeague&&!f.joinLeagueError&&o&&a(!1),m.current=f.isJoiningLeague},[f.isJoiningLeague,f.joinLeagueError,o]),N.useEffect(()=>{g.current&&!f.isCreatingLeague&&!f.createLeagueError&&c&&d(!1),g.current=f.isCreatingLeague},[f.isCreatingLeague,f.createLeagueError,c]),s?u.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-3 p-4 lg:p-6 rounded-xl border-2 transition-all hover:scale-[1.02] active:scale-[0.98]",style:{borderColor:"#BFFF0B",backgroundColor:"rgba(191, 255, 11, 0.1)"},children:[u.jsx("div",{className:"p-3 rounded-lg bg-slate-900",children:u.jsx(Kf,{className:"w-6 h-6",style:{color:"#BFFF0B"}})}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsx("h3",{className:"text-lg",children:"Join League"}),u.jsx("p",{className:"text-sm text-slate-400",children:"Enter invite code"})]}),u.jsx(Hh,{className:"w-5 h-5 text-slate-400"})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-3 p-4 lg:p-6 rounded-xl border-2 transition-all hover:scale-[1.02] active:scale-[0.98]",style:{borderColor:"#BFFF0B",backgroundColor:"rgba(191, 255, 11, 0.1)"},children:[u.jsx("div",{className:"p-3 rounded-lg bg-slate-900",children:u.jsx(dv,{className:"w-6 h-6",style:{color:"#BFFF0B"}})}),u.jsxs("div",{className:"text-left flex-1",children:[u.jsx("h3",{className:"text-lg",children:"Create League"}),u.jsx("p",{className:"text-sm text-slate-400",children:"Start a new league"})]}),u.jsx(Hh,{className:"w-5 h-5 text-slate-400"})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl mb-4",children:"My Leagues"}),u.jsx("div",{className:"space-y-3 flex flex-col gap-4 py-4",children:f.isLoadingLeagues?u.jsx("p",{className:"text-slate-400 text-center py-4",children:"Loading your leagues..."}):f.myLeagues.length===0?u.jsx("p",{className:"text-slate-400 text-center py-4",children:"You haven't joined any leagues yet. Create or join a league to get started!"}):f.myLeagues.map(y=>u.jsxs("div",{onClick:()=>{const x=f.getLeagueUuid(y.id)||y.id.toString();t({id:x,name:y.name,season:y.season,memberCount:y.members||0,inviteCode:""})},className:"w-full bg-slate-900/50 border border-slate-800 rounded-xl p-4 lg:p-5 hover:border-slate-700 transition-all text-left",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-lg",children:y.name}),u.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-slate-800 text-slate-300",children:[y.members||0," members"]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm text-slate-400",children:y.season}),y.rank&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs text-slate-500",children:["Rank #",y.rank]}),y.points!==void 0&&u.jsxs("span",{className:"text-xs font-semibold",style:{color:"#BFFF0B"},children:[y.points," pts"]})]})]})]},y.id))})]}),u.jsx(Yx,{isOpen:o,onClose:()=>{a(!1),f.clearJoinLeagueError()},inviteCode:f.inviteCode,isJoining:f.isJoiningLeague,error:f.joinLeagueError,onInviteCodeChange:f.setInviteCode,onJoin:f.handleJoinLeague,onClearError:f.clearJoinLeagueError}),u.jsx(Xx,{isOpen:c,onClose:()=>{d(!1),f.clearCreateLeagueError()},seasons:f.availableSeasonsForCreate||[],isLoadingSeasons:f.isLoadingSeasons,leagueName:f.leagueName,selectedSeason:f.selectedSeason,draftDate:f.draftDate,isCreating:f.isCreatingLeague,error:f.createLeagueError,onLeagueNameChange:f.setLeagueName,onSeasonSelect:f.handleSeasonSelect,onDraftDateChange:f.handleDraftDateChange,onCreate:f.handleCreateLeague,onClearError:f.clearCreateLeagueError})]}):u.jsx(Zx,{onSignInClick:()=>{n&&n()}})}function Tp({isOpen:s,onClose:t,leagues:n,selectedLeague:o,onSelectLeague:a}){return s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 border-slate-800 flex flex-col max-h-[70vh] lg:max-h-[500px] w-full lg:w-[400px] rounded-t-2xl lg:rounded-2xl border-t lg:border pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:c=>c.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-slate-800",children:[u.jsx("h2",{className:"text-lg",children:"Select League"}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsx("div",{className:"space-y-2",children:n.map(c=>{const d=c.id===o.id;return u.jsxs("button",{onClick:()=>a(c),className:`w-full flex items-center gap-3 p-4 rounded-lg transition-all ${d?"bg-gradient-to-r from-teal-600 to-emerald-600":"bg-slate-800/50 hover:bg-slate-800"}`,children:[u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"mb-1",children:c.name}),u.jsxs("p",{className:"text-sm text-slate-400",children:[c.memberCount," members"]})]}),d&&u.jsx(Mo,{className:"w-5 h-5",style:{color:"#BFFF0B"}})]},c.id)})})})]})})]}):null}function tb({isOpen:s,onClose:t,contestants:n,currentContestant:o,slotType:a,slotIndex:c,onSelectContestant:d,roster:f}){if(!s)return null;const m=()=>a==="boot"?"Who Will Get Their Torch Snuffed Next?":c===0?"Who Will be the Sole Survivor?":c===1?"Who Will be the Runner Up?":c===2?"Who Will be the Third Place Finalist?":"Select a contestant",g=f.map(b=>b.contestant?.id).filter(b=>b!==void 0&&b!==o?.id),y=n.filter(b=>b.status==="active"&&!g.includes(b.id)),x=n.filter(b=>b.status==="eliminated"||b.status==="jury"||b.status==="final3"||b.status==="active"&&g.includes(b.id)),w=b=>{d(b),t()};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 border-slate-800 flex flex-col max-h-[85vh] lg:max-h-[700px] w-full lg:w-[600px] rounded-t-2xl lg:rounded-2xl border-t lg:border pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-slate-800",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl",children:m()}),o&&u.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Replacing ",o.name]})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:[y.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm text-slate-400 mb-3",children:"AVAILABLE CONTESTANTS"}),u.jsx("div",{className:"space-y-2",children:y.map(b=>u.jsx("button",{onClick:()=>w(b),className:"w-full bg-slate-800/50 rounded-lg p-4 hover:bg-slate-800 transition-all border-2 border-transparent hover:border-slate-700",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-slate-700 border-2 flex-shrink-0",style:{borderColor:"#BFFF0B"},children:u.jsx("img",{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"mb-1",children:b.name}),u.jsxs("p",{className:"text-sm text-slate-400",children:[b.age,"  ",b.occupation]}),u.jsx("p",{className:"text-xs text-slate-500",children:b.hometown})]}),u.jsx("div",{className:"px-3 py-1 rounded-full text-xs flex-shrink-0",style:{backgroundColor:"rgba(191, 255, 11, 0.2)",color:"#BFFF0B"},children:"Active"})]})},b.id))})]}),x.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm text-slate-400 mb-3",children:"UNAVAILABLE CONTESTANTS"}),u.jsx("div",{className:"space-y-2",children:x.map(b=>u.jsx("div",{className:"w-full bg-slate-800/30 rounded-lg p-4 opacity-50 cursor-not-allowed",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-slate-700 border-2 border-slate-700 flex-shrink-0 grayscale",children:u.jsx("img",{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"text-slate-500 mb-1",children:b.name}),u.jsxs("p",{className:"text-sm text-slate-600",children:[b.age,"  ",b.occupation]}),u.jsx("p",{className:"text-xs text-slate-700",children:b.hometown})]}),u.jsxs("div",{className:"px-3 py-1 rounded-full text-xs bg-slate-700 text-slate-500 flex-shrink-0",children:[b.status==="eliminated"&&"Eliminated",b.status==="jury"&&`Jury (Wk ${b.eliminatedWeek})`,b.status==="final3"&&"Final 3",b.status==="active"&&g.includes(b.id)&&"Already Selected"]})]})},b.id))})]}),y.length===0&&u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("p",{className:"text-slate-500",children:"No available contestants"})})]})]})})]})}function rb({roster:s,seasonId:t,userId:n,leagueId:o}){const a=N.useMemo(()=>s.filter(w=>w.contestant!==null).map(w=>w.contestant.id),[s]),c=N.useMemo(()=>{const w={};return s.forEach(b=>{b.contestant&&(w[b.contestant.id]=b.type)}),w},[s]),d=Qe("roster-activity",t,a.length>0?a.join(","):null),{data:f=[],isLoading:m}=Ze(d,it),g=N.useMemo(()=>f.map(w=>{const b=c[w.contestantId];if(!b)return{...w,points:0};let C=0;return b==="boot"?(w.activityType==="eliminated"||w.activityType==="medical_evacuated")&&(C=15):b==="final3"&&(w.activityType==="immunity"?C=10:(w.activityType==="made_jury"||w.activityType==="made_final_three")&&(C=5)),{...w,points:C}}),[f,c]),y=N.useMemo(()=>{const w={};return g.forEach(b=>{w[b.contestantId]||(w[b.contestantId]=[]),w[b.contestantId].push(b)}),w},[g]),x=w=>({immunity:"Immunity",eliminated:"Eliminated",medical_evacuated:"Medical Evacuation",made_merge:"Made Merge",made_final_three:"Made Final 3",made_jury:"Made Jury"})[w]||w;return a.length===0?u.jsx("div",{className:"text-center text-slate-400 py-4 text-sm",children:"No drafted players yet"}):u.jsx("div",{className:"w-full",children:m?u.jsx("div",{className:"text-center text-slate-400 py-4 text-sm",children:"Loading activity..."}):g.length===0?u.jsx("div",{className:"text-center text-slate-400 py-4 text-sm",children:"No activity events yet. Points will appear here as events are added."}):u.jsx("div",{className:"space-y-3",children:Object.entries(y).map(([w,b])=>{const C=s.find(P=>P.contestant?.id===w)?.contestant,_=c[w];if(!C)return null;const E=[...b].sort((P,S)=>S.weekNumber!==P.weekNumber?S.weekNumber-P.weekNumber:new Date(S.createdAt).getTime()-new Date(P.createdAt).getTime());return u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-slate-700 border-2 flex-shrink-0",style:{borderColor:_==="boot"?"#ef4444":"#BFFF0B"},children:u.jsx("img",{src:C.imageUrl,alt:C.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"text-sm font-semibold text-white truncate",children:C.name}),u.jsx("p",{className:"text-xs text-slate-400",children:_==="boot"?"Next Boot":"Final 3"})]})]}),u.jsx("div",{className:"space-y-1.5",children:E.map(P=>u.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-slate-900/50 rounded border border-slate-700",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-xs text-white",children:x(P.activityType)}),u.jsxs("div",{className:"text-xs text-slate-400",children:["Week ",P.weekNumber]})]}),P.points>0&&u.jsxs("div",{className:"text-xs font-semibold ml-2 flex-shrink-0",style:{color:"#BFFF0B"},children:["+",P.points," pts"]})]},P.id))})]},w)})})})}function nb({isOpen:s,onClose:t,roster:n,seasonId:o,userId:a,leagueId:c}){return s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-50",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 rounded-t-2xl lg:rounded-2xl border-t lg:border border-slate-800 w-full lg:w-[600px] max-h-[90vh] lg:max-h-[700px] flex flex-col pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Roster Activity"}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5 text-slate-400"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsx(rb,{roster:n,seasonId:o,userId:a,leagueId:c})})]})})]}):null}const sb=(s,t)=>{const n=Qe("roster",t,s),{data:o,error:a,isLoading:c}=Ze(n,it),d=Qe("league-season",s),{data:f,error:m}=Ze(d,it),g=Qe("contestants",f),{data:y=[],error:x}=Ze(g,it),w=Qe("points",t,s),{data:b=0,error:C}=Ze(w,it),[_,E]=N.useState({});N.useEffect(()=>{if(!t||!s||!o||o.length===0){E({});return}(async()=>{const z={};await Promise.all(o.map(async de=>{if(de.contestant){const ae=await Ne.calculatePickPoints(t,s,de.contestant.id,de.pickType);z[de.id]=ae}})),E(z)})()},[t,s,o]);const P=N.useMemo(()=>{const F=[{type:"final3",contestant:null,points:0},{type:"final3",contestant:null,points:0},{type:"final3",contestant:null,points:0},{type:"boot",contestant:null,points:0}];if(o&&o.length>0){const z=o.filter(ae=>ae.pickType==="final3"),de=o.filter(ae=>ae.pickType==="boot");z.forEach((ae,le)=>{le<3&&ae.contestant&&(F[le].contestant=ae.contestant,F[le].points=_[ae.id]||0,F[le].pickId=ae.id)}),de.length>0&&de[0].contestant&&(F[3].contestant=de[0].contestant,F[3].points=_[de[0].id]||0,F[3].pickId=de[0].id)}return F},[o,_]),S=a||m||x||C?"Failed to load roster data":null,O=c&&s!==null&&t!==null,D=async()=>{n&&await os(n),w&&await os(w),g&&await os(g),E({})},M=async(F,z,de)=>{if(!t||!s)return!1;try{return await Ne.addRosterPick(t,s,F,z)?(await D(),!0):!1}catch(ae){return console.error("Error adding contestant:",ae),!1}};return{roster:P,availableContestants:y,totalPoints:b,isLoading:O,error:S,addContestantToRoster:M,removeContestantFromRoster:async F=>{try{return await Ne.removeRosterPick(F),await D(),!0}catch(z){return console.error("Error removing contestant:",z),!1}},replaceContestant:async(F,z)=>{try{const de=P[F];return await M(z,de.type)}catch(de){return console.error("Error replacing contestant:",de),!1}},refreshRoster:D,seasonId:f}},Uc=()=>{const[s,t]=N.useState(null),[n,o]=N.useState(!0),[a,c]=N.useState(null),[d,f]=N.useState(!1),[m,g]=N.useState(!1),y=async()=>{try{o(!0),c(null);const S=await Ne.getCurrentUser();t(S)}catch(S){console.error("Error checking auth:",S),c(S?.message||"Failed to authenticate"),t(null)}finally{o(!1)}},x=async(S,O,D)=>{try{c(null),o(!0);const M=await Ne.signUp(S,O,D);return M?(t(M),!0):!1}catch(M){return console.error("Error signing up:",M),c(M?.message||"Failed to sign up. Please check your email and password."),!1}finally{o(!1)}},w=async(S,O)=>{try{c(null),o(!0);const D=await Ne.signIn(S,O);return D?(t(D),!0):!1}catch(D){return console.error("Error signing in:",D),c(D?.message||"Failed to sign in. Please check your email and password."),!1}finally{o(!1)}},b=async()=>{try{return c(null),o(!0),await Ne.signOut(),t(null),!0}catch(S){return console.error("Error signing out:",S),c(S?.message||"Failed to sign out"),!1}finally{o(!1)}},C=async S=>{try{return c(null),o(!0),await Ne.resetPasswordForEmail(S),f(!0),!0}catch(O){return console.error("Error requesting password reset:",O),c(O?.message||"Failed to send password reset email. Please try again."),!1}finally{o(!1)}},_=async S=>{try{c(null),o(!0),await Ne.updatePassword(S),g(!1);const O=await Ne.getCurrentUser();return t(O),!0}catch(O){return console.error("Error updating password:",O),c(O?.message||"Failed to update password. Please try again."),!1}finally{o(!1)}},E=async S=>{try{c(null),o(!0),await Ne.signInWithOAuth(S)}catch(O){console.error(`Error signing in with ${S}:`,O),c(O?.message||`Failed to sign in with ${S}. Please try again.`),o(!1)}};return N.useEffect(()=>{let S=!0;const O=()=>{if(typeof window>"u")return;const H=window.location.hash;if(H){const F=new URLSearchParams(H.substring(1)),z=F.get("type"),de=F.get("access_token");z==="recovery"&&de&&(console.log("Password recovery detected in URL hash"),S&&g(!0),window.history.replaceState(null,"",window.location.pathname))}},D=async()=>{try{O();const H=Ne.getClient(),{data:{session:F},error:z}=await H.auth.getSession();if(console.log("Checking initial session:",{hasSession:!!F,hasUser:!!F?.user,error:z}),!S)return;if(F?.user&&!z){console.log("Session found, restoring user...");const de=F.user.user_metadata?.username||F.user.email?.split("@")[0]||"user",ae={id:F.user.id,email:F.user.email||"",username:de,createdAt:F.user.created_at||new Date().toISOString()};console.log("User restored from session:",ae.username),S&&(t(ae),o(!1))}else console.log("No session found"),S&&(t(null),o(!1))}catch(H){console.error("Error checking initial session:",H),S&&(t(null),o(!1))}},M=Ne.getClient(),{data:{subscription:G}}=M.auth.onAuthStateChange(async(H,F)=>{if(console.log("Auth state changed:",H,F?"has session":"no session"),!!S){if(H==="INITIAL_SESSION"||H==="SIGNED_IN"||H==="TOKEN_REFRESHED")if(F?.user){const z=F.user.user_metadata?.username||F.user.email?.split("@")[0]||"user",de={id:F.user.id,email:F.user.email||"",username:z,createdAt:F.user.created_at||new Date().toISOString()};S&&(t(de),o(!1))}else S&&(t(null),o(!1));else if(H==="SIGNED_OUT")S&&(t(null),g(!1),f(!1),o(!1));else if(H==="PASSWORD_RECOVERY")S&&g(!0);else if(H==="USER_UPDATED")try{const z=await Ne.getCurrentUser();S&&t(z)}catch(z){console.error("Error getting user after update:",z)}}});return D(),()=>{S=!1,G?.unsubscribe()}},[]),{user:s,isAuthenticated:!!s,isLoading:n,error:a,isPasswordResetRequested:d,isPasswordRecovery:m,signUp:x,signIn:w,signOut:b,signInWithOAuth:E,requestPasswordReset:C,updatePassword:_,refreshAuth:y,clearPasswordResetRequested:()=>f(!1),clearError:()=>{c(null)}}};function ib({selectedLeague:s,onLeagueChange:t}){const{user:n}=Uc(),[o,a]=N.useState(!1),[c,d]=N.useState(!1),[f,m]=N.useState(null),[g,y]=N.useState(!1),[x,w]=N.useState(!1),b=Qe("leagues-selector",n?.id),{data:C=[],isLoading:_}=Ze(b,it);N.useEffect(()=>{C.length>0&&(s&&C.some(pe=>pe.id===s.id)||t(C[0]))},[C,s,t]);const{roster:E,availableContestants:P,isLoading:S,addContestantToRoster:O,refreshRoster:D,seasonId:M}=sb(s?.id||null,n?.id||null),G=Qe("current-week",s?.id),{data:H=0}=Ze(G,it),F=E.filter(Q=>Q.type==="final3"),z=E.find(Q=>Q.type==="boot"),de=Q=>{m(Q),d(!0)},ae=async Q=>{if(f===null||!s)return;const pe=E[f];if(!pe)return;await O(Q.id,pe.type,f)?(await D(),d(!1),m(null)):console.error("Failed to add contestant to roster")},le=Q=>Q?Q.status==="eliminated"||Q.status==="jury":!1,Re=Q=>Q?Q.status==="eliminated"||Q.status==="jury":!1,te=async()=>{if(s?.inviteCode)try{await navigator.clipboard.writeText(s.inviteCode),y(!0),setTimeout(()=>y(!1),2e3)}catch(Q){console.error("Failed to copy invite code:",Q)}};return _||S?u.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:u.jsx("div",{className:"text-center text-slate-400",children:"Loading..."})}):!s||C.length===0?u.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:u.jsxs("div",{className:"text-center text-slate-400",children:[u.jsx("p",{className:"mb-2",children:"No active or upcoming leagues found."}),u.jsx("p",{className:"text-sm",children:"Join or create a league to get started!"})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"mb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h1",{className:"text-3xl font-semibold text-white",children:s.name}),u.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",title:"Change league",children:u.jsx(Wf,{className:"w-5 h-5 text-slate-400"})})]}),u.jsx("button",{onClick:()=>w(!0),className:"p-2 rounded-lg hover:bg-slate-800 transition-colors relative",title:"View roster activity",children:u.jsx(Vf,{className:"w-5 h-5 text-slate-400"})})]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 text-slate-400",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("p",{className:"text-sm",children:["Survivor ",s.seasonNumber,": ",s.seasonName]}),H>0&&u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Week ",H]})]}),s.inviteCode&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"hidden sm:inline text-slate-600",children:""}),u.jsxs("button",{onClick:te,className:"flex items-center gap-2 text-sm hover:text-slate-300 transition-colors group",title:"Click to copy invite code",children:[u.jsx("span",{children:"Invite Code:"}),u.jsx("span",{className:"font-mono font-semibold text-white",children:s.inviteCode}),g?u.jsx(Mo,{className:"w-4 h-4 text-green-500"}):u.jsx(Hf,{className:"w-4 h-4 text-slate-400 group-hover:text-slate-300 transition-colors"})]})]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-1 h-6 rounded-full",style:{backgroundColor:"#BFFF0B"}}),u.jsx("h2",{className:"text-2xl",children:"Final 3 Picks"})]}),u.jsx("div",{className:"space-y-4",children:F.map((Q,pe)=>{const fe=Re(Q.contestant);return u.jsx("div",{className:`bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl border-2 p-4 relative overflow-hidden transition-all ${fe?"opacity-60 grayscale":""}`,style:{borderColor:fe?"#6B7280":"#BFFF0B"},children:Q.contestant?u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:`w-16 h-16 rounded-full overflow-hidden bg-slate-700 border-2 flex-shrink-0 ${fe?"grayscale":""}`,style:{borderColor:fe?"#6B7280":"#BFFF0B"},children:u.jsx("img",{src:Q.contestant.imageUrl,alt:Q.contestant.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`text-lg font-semibold ${fe?"text-slate-500":"text-white"}`,children:Q.contestant.name}),u.jsx("p",{className:`text-sm ${fe?"text-slate-600":"text-slate-400"}`,children:Q.contestant.occupation||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[u.jsx("div",{children:fe?u.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-red-600 text-white font-semibold",children:"Eliminated"}):u.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-green-600 text-white font-semibold",children:"Active"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-2xl font-bold ${fe?"text-slate-600":"text-[#BFFF0B]"}`,children:Q.points??0}),u.jsx("div",{className:"text-xs text-slate-500",children:"points"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-center py-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800/50 border-2 border-dashed border-slate-700 flex items-center justify-center flex-shrink-0",children:u.jsx(Oo,{className:"w-8 h-8 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-400",children:["Empty Slot ",pe+1]}),u.jsx("p",{className:"text-sm text-slate-500",children:"No contestant selected"})]})]}),u.jsx("button",{onClick:()=>de(F.indexOf(Q)),className:"px-6 py-2.5 rounded-lg border-2 transition-all hover:bg-slate-800 flex-shrink-0",style:{borderColor:"#BFFF0B",color:"#BFFF0B"},children:"Draft Player"})]})},pe)})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-1 h-6 rounded-full bg-red-500"}),u.jsx("h2",{className:"text-2xl",children:"Next Boot Pick"})]}),u.jsx("div",{className:`bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl border-2 border-red-500 p-4 relative overflow-hidden ${z?.contestant&&le(z.contestant)?"opacity-60 grayscale":""}`,children:z?.contestant?u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-slate-700 border-2 border-red-500 flex-shrink-0",children:u.jsx("img",{src:z.contestant.imageUrl,alt:z.contestant.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`text-lg font-semibold ${le(z.contestant)?"text-slate-500":"text-white"}`,children:z.contestant.name}),u.jsx("p",{className:`text-sm ${le(z.contestant)?"text-slate-600":"text-slate-400"}`,children:z.contestant.occupation||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[u.jsx("div",{children:le(z.contestant)?u.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-red-600 text-white font-semibold",children:"Eliminated"}):u.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-red-500 text-white font-semibold",children:"BOOT"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-2xl font-bold ${le(z.contestant)?"text-slate-600":"text-[#BFFF0B]"}`,children:z.points??0}),u.jsx("div",{className:"text-xs text-slate-500",children:"points"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-center py-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800/50 border-2 border-dashed border-red-500/50 flex items-center justify-center flex-shrink-0",children:u.jsx(Oo,{className:"w-8 h-8 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-400",children:"Empty Slot"}),u.jsx("p",{className:"text-sm text-slate-500",children:"No contestant selected"})]})]}),u.jsx("button",{onClick:()=>{const Q=E.findIndex(pe=>pe.type==="boot");Q!==-1&&de(Q)},className:"px-6 py-2.5 rounded-lg border-2 transition-all hover:bg-slate-800 flex-shrink-0",style:{borderColor:"#BFFF0B",color:"#BFFF0B"},children:"Draft Player"})]})})]}),u.jsxs("div",{className:"mt-12",children:[u.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.jsx("h2",{className:"text-2xl",children:"How Points Work"})}),u.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl border-2 border-slate-700 p-6",children:u.jsx("div",{className:"space-y-6",children:u.jsxs("p",{children:["Points are awarded weekly for the following:",u.jsxs("ul",{children:[u.jsx("li",{children:"Correctly Predicted Boot: +15 pts"}),u.jsx("li",{children:"Drafted Player is Immune: +10 pts"}),u.jsx("li",{children:"Drafted Player Makes Jury: +5 pts"}),u.jsx("li",{children:"Drafted Player Finishes in Final 3: +5 pts"}),u.jsx("li",{children:"Drafted Player Finishes in Predicted Order: +10 pts"})]})]})})})]}),s&&u.jsx(Tp,{isOpen:o,onClose:()=>a(!1),leagues:C,selectedLeague:s,onSelectLeague:Q=>{t(Q),a(!1)}}),u.jsx(tb,{isOpen:c,onClose:()=>{d(!1),m(null)},contestants:P,currentContestant:f!==null&&E[f]?.contestant||null,slotType:f!==null&&E[f]?.type||"final3",slotIndex:f!==null?f:0,onSelectContestant:ae,roster:E}),u.jsx(nb,{isOpen:x,onClose:()=>w(!1),roster:E,seasonId:M||null,userId:n?.id||null,leagueId:s?.id||null})]})}function ob({leagueId:s,seasonId:t}){const n=Qe("league-activity-roster-picks",s),{data:o=[],isLoading:a}=Ze(n,it),c=Qe("league-activity-events",t),{data:d=[],isLoading:f}=Ze(c,it),m=a||f,g=N.useMemo(()=>{if(!s||!t||o.length===0||d.length===0)return[];const b={};o.forEach(_=>{b[_.contestantId]||(b[_.contestantId]=[]),b[_.contestantId].push({userId:_.userId,displayName:_.displayName,pickType:_.pickType})});const C=[];return d.forEach(_=>{(b[_.contestantId]||[]).forEach(P=>{let S=0;P.pickType==="boot"?(_.activityType==="eliminated"||_.activityType==="medical_evacuated")&&(S=15):P.pickType==="final3"&&(_.activityType==="immunity"?S=10:(_.activityType==="made_jury"||_.activityType==="made_final_three")&&(S=5)),S>0&&C.push({userId:P.userId,displayName:P.displayName,contestantName:_.contestantName,pickType:P.pickType,activityType:_.activityType,points:S,weekNumber:_.weekNumber})})}),C},[o,d,s,t]),y=N.useMemo(()=>{const b={};return g.forEach(C=>{b[C.weekNumber]||(b[C.weekNumber]=[]),b[C.weekNumber].push(C)}),b},[g]),x=b=>({immunity:"Immunity",eliminated:"Eliminated",medical_evacuated:"Medical Evacuation",made_merge:"Made Merge",made_final_three:"Made Final 3",made_jury:"Made Jury"})[b]||b;if(m)return u.jsx("div",{className:"text-center text-slate-400 py-8 text-sm",children:"Loading activity..."});if(g.length===0)return u.jsx("div",{className:"text-center text-slate-400 py-8 text-sm",children:"No activity events yet. Points will appear here as events are added."});const w=Object.keys(y).map(Number).sort((b,C)=>C-b);return u.jsx("div",{className:"w-full space-y-6",children:w.map(b=>{const C=y[b],_={};return C.forEach(E=>{_[E.userId]||(_[E.userId]=[]),_[E.userId].push(E)}),u.jsxs("div",{className:"",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Week ",b]}),u.jsx("div",{className:"space-y-3",children:Object.entries(_).map(([E,P])=>{const S=P.reduce((D,M)=>D+M.points,0),O=P[0].displayName;return u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-sm font-semibold text-white",children:O}),u.jsxs("div",{className:"text-sm font-semibold",style:{color:"#BFFF0B"},children:["+",S," pts"]})]}),u.jsx("div",{className:"space-y-1.5",children:P.map((D,M)=>u.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-slate-800/50 rounded",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"text-xs text-white",children:[D.contestantName," - ",x(D.activityType)]}),u.jsx("div",{className:"text-xs text-slate-400",children:D.pickType==="boot"?"Next Boot":"Final 3"})]}),u.jsxs("div",{className:"text-xs font-semibold ml-2 flex-shrink-0",style:{color:"#BFFF0B"},children:["+",D.points," pts"]})]},`${D.userId}-${D.contestantName}-${D.activityType}-${M}`))})]},E)})})]},b)})})}function ab({isOpen:s,onClose:t,leagueId:n,seasonId:o}){return s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-50",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 rounded-t-2xl lg:rounded-2xl border-t lg:border border-slate-800 w-full lg:w-[600px] max-h-[90vh] lg:max-h-[700px] flex flex-col pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[u.jsx("h2",{className:"text-xl font-semibold text-white",children:"League Activity"}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5 text-slate-400"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsx(ob,{leagueId:n,seasonId:o})})]})})]}):null}function Nf(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function Wo(...s){return t=>{let n=!1;const o=s.map(a=>{const c=Nf(a,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<o.length;a++){const c=o[a];typeof c=="function"?c():Nf(s[a],null)}}}}function Do(...s){return N.useCallback(Wo(...s),s)}var lb=Symbol.for("react.lazy"),Fo=Tc[" use ".trim().toString()];function cb(s){return typeof s=="object"&&s!==null&&"then"in s}function Rp(s){return s!=null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===lb&&"_payload"in s&&cb(s._payload)}function ub(s){const t=hb(s),n=N.forwardRef((o,a)=>{let{children:c,...d}=o;Rp(c)&&typeof Fo=="function"&&(c=Fo(c._payload));const f=N.Children.toArray(c),m=f.find(pb);if(m){const g=m.props.children,y=f.map(x=>x===m?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:x);return u.jsx(t,{...d,ref:a,children:N.isValidElement(g)?N.cloneElement(g,void 0,y):null})}return u.jsx(t,{...d,ref:a,children:c})});return n.displayName=`${s}.Slot`,n}var db=ub("Slot");function hb(s){const t=N.forwardRef((n,o)=>{let{children:a,...c}=n;if(Rp(a)&&typeof Fo=="function"&&(a=Fo(a._payload)),N.isValidElement(a)){const d=gb(a),f=mb(c,a.props);return a.type!==N.Fragment&&(f.ref=o?Wo(o,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var fb=Symbol("radix.slottable");function pb(s){return N.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===fb}function mb(s,t){const n={...t};for(const o in t){const a=s[o],c=t[o];/^on[A-Z]/.test(o)?a&&c?n[o]=(...f)=>{const m=c(...f);return a(...f),m}:a&&(n[o]=a):o==="style"?n[o]={...a,...c}:o==="className"&&(n[o]=[a,c].filter(Boolean).join(" "))}return{...s,...n}}function gb(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}const vb=fp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Qt=N.forwardRef(({className:s,variant:t,size:n,asChild:o=!1,...a},c)=>{const d=o?db:"button";return u.jsx(d,{"data-slot":"button",className:Zr(vb({variant:t,size:n,className:s})),ref:c,...a})});Qt.displayName="Button";function yb({isOpen:s,onClose:t,leagueId:n}){const[o,a]=N.useState([]),[c,d]=N.useState(null),[f,m]=N.useState(!1),g=Qe("draft-order-members",n),{data:y=[],isLoading:x,mutate:w}=Ze(s&&n?g:null,async()=>n?await Ne.getLeagueMembersForDraftOrder(n):[]);N.useEffect(()=>{if(y.length>0){const S=[...y].sort((O,D)=>O.draftOrder!==null&&D.draftOrder!==null?O.draftOrder-D.draftOrder:O.draftOrder!==null?-1:D.draftOrder!==null?1:new Date(O.joinedAt).getTime()-new Date(D.joinedAt).getTime());a(S)}else y.length===0&&!x&&a([])},[y,x]);const b=S=>{d(S)},C=(S,O)=>{if(S.preventDefault(),c===null||c===O)return;const D=o[c],M=[...o];M.splice(c,1),M.splice(O,0,D),a(M),d(O)},_=()=>{d(null)},E=async()=>{if(n){m(!0);try{const S=o.map((D,M)=>({memberId:D.id,draftOrder:M+1}));await Ne.updateDraftOrder(n,S)?(await w(),await os(Qe("draft-order-members",n)),t()):alert("Failed to save draft order. Please try again.")}catch(S){console.error("Error saving draft order:",S),alert("An error occurred while saving. Please try again.")}finally{m(!1)}}};if(!s)return null;const P=S=>S.displayName||S.username||`Player ${S.userId.substring(0,8)}`;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 border-slate-800 flex flex-col max-h-[85vh] lg:max-h-[700px] w-full lg:w-[600px] rounded-t-2xl lg:rounded-2xl border-t lg:border pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:S=>S.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 lg:p-8 border-b border-slate-800",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl",children:"Modify Draft Order"}),u.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Drag and drop to reorder. Default order is based on join date."})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:x?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"text-slate-400",children:"Loading members..."})}):o.length===0?u.jsx("div",{className:"text-center text-slate-400 py-8",children:u.jsx("p",{children:"No league members found."})}):u.jsx("div",{className:"space-y-2",children:o.map((S,O)=>u.jsx("div",{draggable:!0,onDragStart:()=>b(O),onDragOver:D=>C(D,O),onDragEnd:_,className:`
                      bg-slate-800/50 rounded-xl p-4 cursor-move
                      transition-all hover:bg-slate-800
                      ${c===O?"opacity-50":""}
                    `,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(J0,{className:"w-5 h-5 text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[O+1,"."]}),u.jsx("span",{className:"text-sm font-medium text-white truncate",children:P(S)})]}),S.displayName&&S.displayName!==S.username&&u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["@",S.username]})]})]})},S.id))})}),u.jsx("div",{className:"p-6 lg:p-8 border-t border-slate-800",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Qt,{onClick:t,variant:"outline",className:"flex-1 border-slate-700 text-slate-300 hover:bg-slate-800",children:"Cancel"}),u.jsx(Qt,{onClick:E,disabled:f||x||o.length===0,className:"flex-1 font-semibold",style:{backgroundColor:"#BFFF0B",color:"#000"},children:f?"Saving...":u.jsxs(u.Fragment,{children:[u.jsx(fv,{className:"w-4 h-4 mr-2"}),"Save Order"]})})]})})]})})]})}function wb({isOpen:s,onClose:t,userId:n,leagueId:o,username:a}){const c=Qe("roster",n,o),{data:d=[],isLoading:f}=Ze(s&&n&&o?c:null,it),[m,g]=N.useState({});N.useEffect(()=>{if(!n||!o||!d||d.length===0){g({});return}(async()=>{const E={};await Promise.all(d.map(async P=>{if(P.contestant){const S=await Ne.calculatePickPoints(n,o,P.contestant.id,P.pickType);E[P.id]=S}})),g(E)})()},[n,o,d]);const y=N.useMemo(()=>{const _=[{type:"final3",contestant:null,points:0},{type:"final3",contestant:null,points:0},{type:"final3",contestant:null,points:0},{type:"boot",contestant:null,points:0}];if(d&&d.length>0){const E=d.filter(S=>S.pickType==="final3"),P=d.filter(S=>S.pickType==="boot");E.forEach((S,O)=>{O<3&&S.contestant&&(_[O].contestant=S.contestant,_[O].points=m[S.id]||0,_[O].pickId=S.id)}),P.length>0&&P[0].contestant&&(_[3].contestant=P[0].contestant,_[3].points=m[P[0].id]||0,_[3].pickId=P[0].id)}return _},[d,m]),x=y.filter(_=>_.type==="final3"),w=y.find(_=>_.type==="boot"),b=_=>_?_.status==="eliminated"||_.status==="jury":!1,C=_=>_?_.status==="eliminated"||_.status==="jury":!1;return s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 border-slate-800 flex flex-col max-h-[85vh] lg:max-h-[700px] w-full lg:w-[600px] rounded-t-2xl lg:rounded-2xl border-t lg:border pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:_=>_.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-slate-800",children:[u.jsxs("h2",{className:"text-xl",children:[a,"'s Roster"]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:f?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"text-slate-400",children:"Loading roster..."})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-1 h-6 rounded-full",style:{backgroundColor:"#BFFF0B"}}),u.jsx("h3",{className:"text-lg font-semibold",children:"Final 3 Picks"})]}),u.jsx("div",{className:"space-y-3",children:x.map((_,E)=>{const P=C(_.contestant);return u.jsx("div",{className:`bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl border-2 p-4 relative overflow-hidden transition-all ${P?"opacity-60 grayscale":""}`,style:{borderColor:P?"#6B7280":"#BFFF0B"},children:_.contestant?u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:`w-12 h-12 rounded-full overflow-hidden bg-slate-700 border-2 flex-shrink-0 ${P?"grayscale":""}`,style:{borderColor:P?"#6B7280":"#BFFF0B"},children:u.jsx("img",{src:_.contestant.imageUrl,alt:_.contestant.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:`text-base font-semibold ${P?"text-slate-500":"text-white"}`,children:_.contestant.name}),u.jsx("p",{className:`text-sm ${P?"text-slate-600":"text-slate-400"}`,children:_.contestant.occupation||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[u.jsx("div",{children:P?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-600 text-white font-semibold",children:"Eliminated"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-600 text-white font-semibold",children:"Active"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-xl font-bold ${P?"text-slate-600":"text-[#BFFF0B]"}`,children:_.points??0}),u.jsx("div",{className:"text-xs text-slate-500",children:"points"})]})]})]}):u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800/50 border-2 border-dashed border-slate-700 flex items-center justify-center flex-shrink-0",children:u.jsx(Oo,{className:"w-6 h-6 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h4",{className:"text-base font-semibold text-slate-400",children:["Empty Slot ",E+1]}),u.jsx("p",{className:"text-sm text-slate-500",children:"No contestant selected"})]})]})},E)})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-1 h-6 rounded-full bg-red-500"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Next Boot Pick"})]}),u.jsx("div",{className:`bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl border-2 border-red-500 p-4 relative overflow-hidden ${w?.contestant&&b(w.contestant)?"opacity-60 grayscale":""}`,children:w?.contestant?u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-slate-700 border-2 border-red-500 flex-shrink-0",children:u.jsx("img",{src:w.contestant.imageUrl,alt:w.contestant.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:`text-base font-semibold ${b(w.contestant)?"text-slate-500":"text-white"}`,children:w.contestant.name}),u.jsx("p",{className:`text-sm ${b(w.contestant)?"text-slate-600":"text-slate-400"}`,children:w.contestant.occupation||"N/A"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[u.jsx("div",{children:b(w.contestant)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-600 text-white font-semibold",children:"Eliminated"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-500 text-white font-semibold",children:"BOOT"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-xl font-bold ${b(w.contestant)?"text-slate-600":"text-[#BFFF0B]"}`,children:w.points??0}),u.jsx("div",{className:"text-xs text-slate-500",children:"points"})]})]})]}):u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800/50 border-2 border-dashed border-red-500/50 flex items-center justify-center flex-shrink-0",children:u.jsx(Oo,{className:"w-6 h-6 text-slate-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-base font-semibold text-slate-400",children:"Empty Slot"}),u.jsx("p",{className:"text-sm text-slate-500",children:"No contestant selected"})]})]})})]})]})})]})})]}):null}function xb({selectedLeague:s,onLeagueChange:t,onNavigateToRoster:n}){const[o,a]=N.useState(!1),[c,d]=N.useState(!1),[f,m]=N.useState(!1),[g,y]=N.useState(!1),[x,w]=N.useState(null),b=Qe("current-user"),{data:C}=Ze(b,it),_=(te,Q)=>{C&&te===C.id&&n?n():w({userId:te,username:Q})},E=Qe("leagues-selector",C?.id),{data:P=[],isLoading:S}=Ze(E,it);N.useEffect(()=>{P.length>0&&(s&&P.some(Q=>Q.id===s.id)||t(P[0]))},[P,s,t]);const O=Qe("standings",s?.id),{data:D=[],isLoading:M}=Ze(O,it),G=Qe("current-week",s?.id),{data:H=0}=Ze(G,it),F=Qe("league-season",s?.id),{data:z}=Ze(F,it),de=Qe("draft-status",s?.id),{data:ae=!1}=Ze(s?.id?de:null,async()=>{if(!s?.id)return!1;try{const te=Ne.getClient(),{data:Q,error:pe}=await te.from("league_members").select("user_id").eq("league_id",s.id);return pe||!Q||Q.length===0?!1:(await Promise.all(Q.map(async $=>{const{data:Z,error:J}=await te.from("roster_picks").select("id").eq("league_id",s.id).eq("user_id",$.user_id).eq("pick_type","final3");return J||!Z?!1:Z.length>=3}))).every($=>$===!0)}catch(te){return console.error("Error checking draft status:",te),!1}}),le=D.slice(0,3);D.slice(3);const Re=async()=>{if(s?.inviteCode)try{await navigator.clipboard.writeText(s.inviteCode),d(!0),setTimeout(()=>d(!1),2e3)}catch(te){console.error("Failed to copy invite code:",te)}};return S?u.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:u.jsx("div",{className:"text-center text-slate-400",children:"Loading leagues..."})}):!s||P.length===0?u.jsx("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:u.jsxs("div",{className:"text-center text-slate-400",children:[u.jsx("p",{className:"mb-2",children:"No active or upcoming leagues found."}),u.jsx("p",{className:"text-sm",children:"Join or create a league to get started!"})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"mb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h1",{className:"text-3xl font-semibold text-white",children:s.name}),u.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",title:"Change league",children:u.jsx(Wf,{className:"w-5 h-5 text-slate-400"})})]}),u.jsx("button",{onClick:()=>m(!0),className:"p-2 rounded-lg hover:bg-slate-800 transition-colors relative",title:"View league activity",children:u.jsx(Vf,{className:"w-5 h-5 text-slate-400"})})]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 text-slate-400",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("p",{className:"text-sm",children:["Survivor ",s.seasonNumber,": ",s.seasonName]}),H>0&&u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Week ",H]})]}),s.inviteCode&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"hidden sm:inline text-slate-600",children:""}),u.jsxs("button",{onClick:Re,className:"flex items-center gap-2 text-sm hover:text-slate-300 transition-colors group",title:"Click to copy invite code",children:[u.jsx("span",{children:"Invite Code:"}),u.jsx("span",{className:"font-mono font-semibold text-white",children:s.inviteCode}),c?u.jsx(Mo,{className:"w-4 h-4 text-green-500"}):u.jsx(Hf,{className:"w-4 h-4 text-slate-400 group-hover:text-slate-300 transition-colors"})]})]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl mb-6",children:"Top 3"}),M?u.jsx("div",{className:"text-center text-slate-400 py-8",children:"Loading standings..."}):le.length===0?u.jsxs("div",{className:"flex items-end justify-center gap-2 sm:gap-4 mb-8",children:[u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl p-3 sm:p-4 mb-3 border-2 border-dashed border-slate-600",children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Gl,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-600"})}),u.jsx("div",{className:"aspect-square rounded-full bg-slate-700/30 mb-2 sm:mb-3 overflow-hidden",children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-600",children:"?"})}),u.jsx("p",{className:"text-center text-xs sm:text-sm mb-1 text-slate-500",children:"No player"}),u.jsx("p",{className:"text-center text-sm sm:text-base text-slate-600",children:""})]}),u.jsx("div",{className:"h-20 sm:h-24 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-2xl sm:text-3xl text-slate-600",children:"2"})})]}),u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl p-3 sm:p-4 mb-3 border-2 border-dashed",style:{borderColor:"#BFFF0B40"},children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Kl,{className:"w-6 h-6 sm:w-8 sm:h-8",style:{color:"#BFFF0B40"}})}),u.jsx("div",{className:"aspect-square rounded-full mb-2 sm:mb-3 overflow-hidden",style:{backgroundColor:"#BFFF0B20"},children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-600",children:"?"})}),u.jsx("p",{className:"text-center text-xs sm:text-sm mb-1 text-slate-500",children:"No player"}),u.jsx("p",{className:"text-center text-sm sm:text-base text-slate-600",children:""})]}),u.jsx("div",{className:"h-28 sm:h-32 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-3xl sm:text-4xl text-slate-600",children:"1"})})]}),u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl p-3 sm:p-4 mb-3 border-2 border-dashed border-slate-600",children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Hl,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-600"})}),u.jsx("div",{className:"aspect-square rounded-full bg-slate-700/30 mb-2 sm:mb-3 overflow-hidden",children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-600",children:"?"})}),u.jsx("p",{className:"text-center text-xs sm:text-sm mb-1 text-slate-500",children:"No player"}),u.jsx("p",{className:"text-center text-sm sm:text-base text-slate-600",children:""})]}),u.jsx("div",{className:"h-12 sm:h-16 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-xl sm:text-2xl text-slate-600",children:"3"})})]})]}):u.jsxs("div",{className:"flex items-end justify-center gap-2 sm:gap-4 mb-8",children:[le[1]?u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl p-3 sm:p-4 mb-3 border-2 border-slate-600",children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Gl,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-400"})}),u.jsx("div",{className:"aspect-square rounded-full bg-slate-600 mb-2 sm:mb-3 overflow-hidden",children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl",children:le[1].username[0]})}),u.jsx("button",{onClick:()=>_(le[1].userId,le[1].username),className:"w-full text-center text-xs sm:text-sm mb-1 truncate hover:underline cursor-pointer text-white",children:le[1].username}),u.jsxs("p",{className:"text-center text-sm sm:text-base",style:{color:"#BFFF0B"},children:[le[1].points," pts"]})]}),u.jsx("div",{className:"h-20 sm:h-24 bg-gradient-to-b from-slate-700 to-slate-800 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-2xl sm:text-3xl text-slate-400",children:"2"})})]}):u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl p-3 sm:p-4 mb-3 border-2 border-dashed border-slate-600",children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Gl,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-600"})}),u.jsx("div",{className:"aspect-square rounded-full bg-slate-700/30 mb-2 sm:mb-3 overflow-hidden",children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-600",children:"?"})}),u.jsx("p",{className:"text-center text-xs sm:text-sm mb-1 text-slate-500",children:"No player"}),u.jsx("p",{className:"text-center text-sm sm:text-base text-slate-600",children:""})]}),u.jsx("div",{className:"h-20 sm:h-24 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-2xl sm:text-3xl text-slate-600",children:"2"})})]}),le[0]?u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-xl p-3 sm:p-4 mb-3 border-2",style:{borderColor:"#BFFF0B"},children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Kl,{className:"w-6 h-6 sm:w-8 sm:h-8",style:{color:"#BFFF0B"}})}),u.jsx("div",{className:"aspect-square rounded-full mb-2 sm:mb-3 overflow-hidden",style:{backgroundColor:"#BFFF0B"},children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-900",children:le[0].username[0]})}),u.jsx("button",{onClick:()=>_(le[0].userId,le[0].username),className:"w-full text-center text-xs sm:text-sm mb-1 truncate hover:underline cursor-pointer text-white",children:le[0].username}),u.jsxs("p",{className:"text-center text-sm sm:text-base",style:{color:"#BFFF0B"},children:[le[0].points," pts"]})]}),u.jsx("div",{className:"h-28 sm:h-32 bg-gradient-to-b from-yellow-600 to-yellow-700 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-3xl sm:text-4xl",style:{color:"#BFFF0B"},children:"1"})})]}):u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl p-3 sm:p-4 mb-3 border-2 border-dashed",style:{borderColor:"#BFFF0B40"},children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Kl,{className:"w-6 h-6 sm:w-8 sm:h-8",style:{color:"#BFFF0B40"}})}),u.jsx("div",{className:"aspect-square rounded-full mb-2 sm:mb-3 overflow-hidden",style:{backgroundColor:"#BFFF0B20"},children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-600",children:"?"})}),u.jsx("p",{className:"text-center text-xs sm:text-sm mb-1 text-slate-500",children:"No player"}),u.jsx("p",{className:"text-center text-sm sm:text-base text-slate-600",children:""})]}),u.jsx("div",{className:"h-28 sm:h-32 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-3xl sm:text-4xl text-slate-600",children:"1"})})]}),le[2]?u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl p-3 sm:p-4 mb-3 border-2 border-slate-600",children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Hl,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-500"})}),u.jsx("div",{className:"aspect-square rounded-full bg-slate-600 mb-2 sm:mb-3 overflow-hidden",children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl",children:le[2].username[0]})}),u.jsx("button",{onClick:()=>_(le[2].userId,le[2].username),className:"w-full text-center text-xs sm:text-sm mb-1 truncate hover:underline cursor-pointer text-white",children:le[2].username}),u.jsxs("p",{className:"text-center text-sm sm:text-base",style:{color:"#BFFF0B"},children:[le[2].points," pts"]})]}),u.jsx("div",{className:"h-12 sm:h-16 bg-gradient-to-b from-slate-700 to-slate-800 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-xl sm:text-2xl text-slate-500",children:"3"})})]}):u.jsxs("div",{className:"flex-1 max-w-[140px] sm:max-w-[200px]",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl p-3 sm:p-4 mb-3 border-2 border-dashed border-slate-600",children:[u.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:u.jsx(Hl,{className:"w-6 h-6 sm:w-8 sm:h-8 text-slate-600"})}),u.jsx("div",{className:"aspect-square rounded-full bg-slate-700/30 mb-2 sm:mb-3 overflow-hidden",children:u.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl text-slate-600",children:"?"})}),u.jsx("p",{className:"text-center text-xs sm:text-sm mb-1 text-slate-500",children:"No player"}),u.jsx("p",{className:"text-center text-sm sm:text-base text-slate-600",children:""})]}),u.jsx("div",{className:"h-12 sm:h-16 bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-t-lg flex items-center justify-center",children:u.jsx("span",{className:"text-xl sm:text-2xl text-slate-600",children:"3"})})]})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl mb-4",children:"Standings"}),u.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[40px_1fr_80px_50px] sm:grid-cols-[60px_1fr_100px_80px] gap-2 sm:gap-4 p-4 border-b border-slate-800 text-sm text-slate-400",children:[u.jsx("div",{className:"text-center",children:"Rank"}),u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Points"}),u.jsx("div",{className:"text-center",children:"Change"})]}),u.jsx("div",{children:M?u.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading standings..."}):D.length===0?u.jsxs("div",{className:"p-8 text-center text-slate-400",children:[u.jsx("p",{children:"No standings available yet."}),u.jsx("p",{className:"text-sm mt-2",children:"Players will appear here once they join the league."})]}):D.map(te=>u.jsxs("div",{className:"grid grid-cols-[40px_1fr_80px_50px] sm:grid-cols-[60px_1fr_100px_80px] gap-2 sm:gap-4 p-4 border-b border-slate-800 last:border-b-0 hover:bg-slate-800/50 transition-colors",children:[u.jsx("div",{className:"text-center",children:u.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-sm sm:text-base ${C&&te.userId===C.id?"text-slate-900":"bg-slate-800"}`,style:C&&te.userId===C.id?{backgroundColor:"#BFFF0B"}:{},children:te.rank})}),u.jsx("button",{onClick:()=>_(te.userId,te.username),className:"truncate text-left hover:underline cursor-pointer text-white",children:te.username}),u.jsx("div",{className:"text-right",children:te.points??0}),u.jsxs("div",{className:"flex justify-center",children:[te.change>0&&u.jsxs("div",{className:"flex items-center gap-1 text-emerald-500",children:[u.jsx(vv,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"text-xs sm:text-sm",children:te.change})]}),te.change<0&&u.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[u.jsx(mv,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"text-xs sm:text-sm",children:Math.abs(te.change)})]}),(te.change===0||te.change===null||te.change===void 0)&&u.jsx(av,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-500"})]})]},te.userId))})]})]}),u.jsx("div",{className:"h-12"}),u.jsxs("div",{className:"mt-12",children:[u.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.jsx("h2",{className:"text-2xl",children:"How Drafts Work"})}),u.jsx("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl border-2 border-slate-700 p-6",children:u.jsx("div",{className:"space-y-6",children:u.jsxs("p",{children:["Once you begin the draft, players will be able to select contestants for all Final 3 positions in a snake draft order. You must wait for each player to make their selection until it is your turn. The same contestant cannot be drafted in the same slot by multiple people in the league. After the draft is complete, these selections are locked for the season.",u.jsx("br",{}),u.jsx("br",{}),"Weekly while the season is active, you can draft a contestant for the next boot slot. For this position, multiple people in the league can have the same selection."]})})}),u.jsx("div",{className:"h-4"}),u.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[u.jsx("button",{onClick:()=>{ae||console.log("Begin draft clicked")},disabled:ae,className:`w-full px-6 py-4 rounded-xl border-2 transition-all flex items-center justify-center gap-3 ${ae?"cursor-not-allowed opacity-60":"hover:scale-[1.02] active:scale-[0.98] hover:opacity-90 active:opacity-80"}`,style:ae?{backgroundColor:"#475569",color:"#94a3b8"}:{borderColor:"#BFFF0B",backgroundColor:"rgba(191, 255, 11, 0.1)",color:"#BFFF0B"},children:ae?u.jsxs(u.Fragment,{children:[u.jsx(Z0,{className:"w-5 h-5"}),u.jsx("span",{children:"Draft Completed"})]}):u.jsxs(u.Fragment,{children:[u.jsx(cv,{className:"w-5 h-5"}),u.jsx("span",{children:"Begin Draft"})]})}),u.jsxs("button",{onClick:()=>{ae||y(!0)},disabled:ae,className:`w-full px-6 py-4 rounded-xl border-2 transition-all flex items-center justify-center gap-3 ${ae?"cursor-not-allowed opacity-60":"hover:scale-[1.02] active:scale-[0.98] hover:opacity-90 active:opacity-80"}`,style:ae?{backgroundColor:"#475569",color:"#94a3b8",borderColor:"#475569"}:{borderColor:"#64748b",backgroundColor:"rgba(100, 116, 139, 0.1)",color:"#94a3b8"},children:[u.jsx(L0,{className:"w-5 h-5"}),u.jsx("span",{children:"Modify Draft Order"})]})]})]}),s&&u.jsx(Tp,{isOpen:o,onClose:()=>a(!1),leagues:P,selectedLeague:s,onSelectLeague:te=>{t(te),a(!1)}}),u.jsx(ab,{isOpen:f,onClose:()=>m(!1),leagueId:s?.id||null,seasonId:z||null}),u.jsx(yb,{isOpen:g,onClose:()=>y(!1),leagueId:s?.id||null}),u.jsx(wb,{isOpen:x!==null,onClose:()=>w(null),userId:x?.userId||null,leagueId:s?.id||null,username:x?.username||""})]})}const oc=[{userId:"2",username:"OutwitOutplay",contestantName:"Teeny Chirichillo",points:-15,type:"final3",week:13},{userId:"4",username:"TribalCouncil",contestantName:"Caroline Vidmar",points:-20,type:"final3",week:12},{userId:"1",username:"SurvivorFan2024",contestantName:"Teeny Chirichillo",points:15,type:"boot",week:13},{userId:"3",username:"JeffProbstFan",contestantName:"Teeny Chirichillo",points:15,type:"boot",week:13},{userId:"6",username:"TorchSnuffer",contestantName:"Caroline Vidmar",points:15,type:"boot",week:12}];function bb({isOpen:s,onClose:t}){if(!s)return null;const n=oc.filter(a=>a.type==="final3"),o=oc.filter(a=>a.type==="boot");return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 border-slate-800 flex flex-col max-h-[85vh] lg:max-h-[600px] w-full lg:w-[480px] rounded-t-2xl lg:rounded-2xl border-t lg:border pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6 border-b border-slate-800",children:[u.jsx("h2",{className:"text-xl",children:"Latest Activity"}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:[n.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm text-slate-400 mb-3",children:"FINAL 3 ELIMINATIONS"}),u.jsx("div",{className:"space-y-3",children:n.map((a,c)=>u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border-2 border-red-900/50",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",children:a.username}),u.jsxs("p",{className:"text-sm text-slate-400",children:["lost ",a.contestantName]})]}),u.jsx("span",{className:"text-red-500 shrink-0 ml-2",children:a.points})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Week ",a.week]})]},c))})]}),o.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm text-slate-400 mb-3",children:"NEXT BOOT WINNERS"}),u.jsx("div",{className:"space-y-3",children:o.map((a,c)=>u.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border-2 border-emerald-900/50",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",children:a.username}),u.jsxs("p",{className:"text-sm text-slate-400",children:["predicted ",a.contestantName]})]}),u.jsxs("span",{className:"shrink-0 ml-2",style:{color:"#BFFF0B"},children:["+",a.points]})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Week ",a.week]})]},c))})]}),oc.length===0&&u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("p",{className:"text-slate-500",children:"No recent activity"})})]})]})})]})}function yn({className:s,type:t,...n}){return u.jsx("input",{type:t,"data-slot":"input",className:Zr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}function Cr(s,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(s?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function Mc(s,t=[]){let n=[];function o(c,d){const f=N.createContext(d),m=n.length;n=[...n,d];const g=x=>{const{scope:w,children:b,...C}=x,_=w?.[s]?.[m]||f,E=N.useMemo(()=>C,Object.values(C));return u.jsx(_.Provider,{value:E,children:b})};g.displayName=c+"Provider";function y(x,w){const b=w?.[s]?.[m]||f,C=N.useContext(b);if(C)return C;if(d!==void 0)return d;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[g,y]}const a=()=>{const c=n.map(d=>N.createContext(d));return function(f){const m=f?.[s]||c;return N.useMemo(()=>({[`__scope${s}`]:{...f,[s]:m}}),[f,m])}};return a.scopeName=s,[o,_b(a,...t)]}function _b(...s){const t=s[0];if(s.length===1)return t;const n=()=>{const o=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const d=o.reduce((f,{useScope:m,scopeName:g})=>{const x=m(c)[`__scope${g}`];return{...f,...x}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function Cf(s){const t=kb(s),n=N.forwardRef((o,a)=>{const{children:c,...d}=o,f=N.Children.toArray(c),m=f.find(Eb);if(m){const g=m.props.children,y=f.map(x=>x===m?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:x);return u.jsx(t,{...d,ref:a,children:N.isValidElement(g)?N.cloneElement(g,void 0,y):null})}return u.jsx(t,{...d,ref:a,children:c})});return n.displayName=`${s}.Slot`,n}function kb(s){const t=N.forwardRef((n,o)=>{const{children:a,...c}=n;if(N.isValidElement(a)){const d=Nb(a),f=jb(c,a.props);return a.type!==N.Fragment&&(f.ref=o?Wo(o,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Sb=Symbol("radix.slottable");function Eb(s){return N.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Sb}function jb(s,t){const n={...t};for(const o in t){const a=s[o],c=t[o];/^on[A-Z]/.test(o)?a&&c?n[o]=(...f)=>{const m=c(...f);return a(...f),m}:a&&(n[o]=a):o==="style"?n[o]={...a,...c}:o==="className"&&(n[o]=[a,c].filter(Boolean).join(" "))}return{...s,...n}}function Nb(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}function Cb(s){const t=s+"CollectionProvider",[n,o]=Mc(t),[a,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=_=>{const{scope:E,children:P}=_,S=or.useRef(null),O=or.useRef(new Map).current;return u.jsx(a,{scope:E,itemMap:O,collectionRef:S,children:P})};d.displayName=t;const f=s+"CollectionSlot",m=Cf(f),g=or.forwardRef((_,E)=>{const{scope:P,children:S}=_,O=c(f,P),D=Do(E,O.collectionRef);return u.jsx(m,{ref:D,children:S})});g.displayName=f;const y=s+"CollectionItemSlot",x="data-radix-collection-item",w=Cf(y),b=or.forwardRef((_,E)=>{const{scope:P,children:S,...O}=_,D=or.useRef(null),M=Do(E,D),G=c(y,P);return or.useEffect(()=>(G.itemMap.set(D,{ref:D,...O}),()=>void G.itemMap.delete(D))),u.jsx(w,{[x]:"",ref:M,children:S})});b.displayName=y;function C(_){const E=c(s+"CollectionConsumer",_);return or.useCallback(()=>{const S=E.collectionRef.current;if(!S)return[];const O=Array.from(S.querySelectorAll(`[${x}]`));return Array.from(E.itemMap.values()).sort((G,H)=>O.indexOf(G.ref.current)-O.indexOf(H.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:d,Slot:g,ItemSlot:b},C,o]}var $o=globalThis?.document?N.useLayoutEffect:()=>{},Tb=Tc[" useId ".trim().toString()]||(()=>{}),Rb=0;function Op(s){const[t,n]=N.useState(Tb());return $o(()=>{n(o=>o??String(Rb++))},[s]),s||(t?`radix-${t}`:"")}Of();function Ob(s){const t=Pb(s),n=N.forwardRef((o,a)=>{const{children:c,...d}=o,f=N.Children.toArray(c),m=f.find(Ib);if(m){const g=m.props.children,y=f.map(x=>x===m?N.Children.count(g)>1?N.Children.only(null):N.isValidElement(g)?g.props.children:null:x);return u.jsx(t,{...d,ref:a,children:N.isValidElement(g)?N.cloneElement(g,void 0,y):null})}return u.jsx(t,{...d,ref:a,children:c})});return n.displayName=`${s}.Slot`,n}function Pb(s){const t=N.forwardRef((n,o)=>{const{children:a,...c}=n;if(N.isValidElement(a)){const d=Db(a),f=Lb(c,a.props);return a.type!==N.Fragment&&(f.ref=o?Wo(o,d):d),N.cloneElement(a,f)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var Ab=Symbol("radix.slottable");function Ib(s){return N.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Ab}function Lb(s,t){const n={...t};for(const o in t){const a=s[o],c=t[o];/^on[A-Z]/.test(o)?a&&c?n[o]=(...f)=>{const m=c(...f);return a(...f),m}:a&&(n[o]=a):o==="style"?n[o]={...a,...c}:o==="className"&&(n[o]=[a,c].filter(Boolean).join(" "))}return{...s,...n}}function Db(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var Fb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],us=Fb.reduce((s,t)=>{const n=Ob(`Primitive.${t}`),o=N.forwardRef((a,c)=>{const{asChild:d,...f}=a,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(m,{...f,ref:c})});return o.displayName=`Primitive.${t}`,{...s,[t]:o}},{});function $b(s){const t=N.useRef(s);return N.useEffect(()=>{t.current=s}),N.useMemo(()=>(...n)=>t.current?.(...n),[])}var Ub=Tc[" useInsertionEffect ".trim().toString()]||$o;function Pp({prop:s,defaultProp:t,onChange:n=()=>{},caller:o}){const[a,c,d]=Mb({defaultProp:t,onChange:n}),f=s!==void 0,m=f?s:a;{const y=N.useRef(s!==void 0);N.useEffect(()=>{const x=y.current;x!==f&&console.warn(`${o} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,o])}const g=N.useCallback(y=>{if(f){const x=Bb(y)?y(s):y;x!==s&&d.current?.(x)}else c(y)},[f,s,c,d]);return[m,g]}function Mb({defaultProp:s,onChange:t}){const[n,o]=N.useState(s),a=N.useRef(n),c=N.useRef(t);return Ub(()=>{c.current=t},[t]),N.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,o,c]}function Bb(s){return typeof s=="function"}var zb=N.createContext(void 0);function Ap(s){const t=N.useContext(zb);return s||t||"ltr"}var ac="rovingFocusGroup.onEntryFocus",Vb={bubbles:!1,cancelable:!0},ci="RovingFocusGroup",[Cc,Ip,Wb]=Cb(ci),[qb,Lp]=Mc(ci,[Wb]),[Hb,Kb]=qb(ci),Dp=N.forwardRef((s,t)=>u.jsx(Cc.Provider,{scope:s.__scopeRovingFocusGroup,children:u.jsx(Cc.Slot,{scope:s.__scopeRovingFocusGroup,children:u.jsx(Gb,{...s,ref:t})})}));Dp.displayName=ci;var Gb=N.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:g,preventScrollOnEntryFocus:y=!1,...x}=s,w=N.useRef(null),b=Do(t,w),C=Ap(c),[_,E]=Pp({prop:d,defaultProp:f??null,onChange:m,caller:ci}),[P,S]=N.useState(!1),O=$b(g),D=Ip(n),M=N.useRef(!1),[G,H]=N.useState(0);return N.useEffect(()=>{const F=w.current;if(F)return F.addEventListener(ac,O),()=>F.removeEventListener(ac,O)},[O]),u.jsx(Hb,{scope:n,orientation:o,dir:C,loop:a,currentTabStopId:_,onItemFocus:N.useCallback(F=>E(F),[E]),onItemShiftTab:N.useCallback(()=>S(!0),[]),onFocusableItemAdd:N.useCallback(()=>H(F=>F+1),[]),onFocusableItemRemove:N.useCallback(()=>H(F=>F-1),[]),children:u.jsx(us.div,{tabIndex:P||G===0?-1:0,"data-orientation":o,...x,ref:b,style:{outline:"none",...s.style},onMouseDown:Cr(s.onMouseDown,()=>{M.current=!0}),onFocus:Cr(s.onFocus,F=>{const z=!M.current;if(F.target===F.currentTarget&&z&&!P){const de=new CustomEvent(ac,Vb);if(F.currentTarget.dispatchEvent(de),!de.defaultPrevented){const ae=D().filter(pe=>pe.focusable),le=ae.find(pe=>pe.active),Re=ae.find(pe=>pe.id===_),Q=[le,Re,...ae].filter(Boolean).map(pe=>pe.ref.current);Up(Q,y)}}M.current=!1}),onBlur:Cr(s.onBlur,()=>S(!1))})})}),Fp="RovingFocusGroupItem",$p=N.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:c,children:d,...f}=s,m=Op(),g=c||m,y=Kb(Fp,n),x=y.currentTabStopId===g,w=Ip(n),{onFocusableItemAdd:b,onFocusableItemRemove:C,currentTabStopId:_}=y;return N.useEffect(()=>{if(o)return b(),()=>C()},[o,b,C]),u.jsx(Cc.ItemSlot,{scope:n,id:g,focusable:o,active:a,children:u.jsx(us.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...f,ref:t,onMouseDown:Cr(s.onMouseDown,E=>{o?y.onItemFocus(g):E.preventDefault()}),onFocus:Cr(s.onFocus,()=>y.onItemFocus(g)),onKeyDown:Cr(s.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){y.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const P=Yb(E,y.orientation,y.dir);if(P!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let O=w().filter(D=>D.focusable).map(D=>D.ref.current);if(P==="last")O.reverse();else if(P==="prev"||P==="next"){P==="prev"&&O.reverse();const D=O.indexOf(E.currentTarget);O=y.loop?Xb(O,D+1):O.slice(D+1)}setTimeout(()=>Up(O))}}),children:typeof d=="function"?d({isCurrentTabStop:x,hasTabStop:_!=null}):d})})});$p.displayName=Fp;var Jb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qb(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function Yb(s,t,n){const o=Qb(s.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Jb[o]}function Up(s,t=!1){const n=document.activeElement;for(const o of s)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Xb(s,t){return s.map((n,o)=>s[(t+o)%s.length])}var Zb=Dp,e_=$p;function t_(s,t){return N.useReducer((n,o)=>t[n][o]??n,s)}var Mp=s=>{const{present:t,children:n}=s,o=r_(t),a=typeof n=="function"?n({present:o.isPresent}):N.Children.only(n),c=Do(o.ref,n_(a));return typeof n=="function"||o.isPresent?N.cloneElement(a,{ref:c}):null};Mp.displayName="Presence";function r_(s){const[t,n]=N.useState(),o=N.useRef(null),a=N.useRef(s),c=N.useRef("none"),d=s?"mounted":"unmounted",[f,m]=t_(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const g=Co(o.current);c.current=f==="mounted"?g:"none"},[f]),$o(()=>{const g=o.current,y=a.current;if(y!==s){const w=c.current,b=Co(g);s?m("MOUNT"):b==="none"||g?.display==="none"?m("UNMOUNT"):m(y&&w!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=s}},[s,m]),$o(()=>{if(t){let g;const y=t.ownerDocument.defaultView??window,x=b=>{const _=Co(o.current).includes(CSS.escape(b.animationName));if(b.target===t&&_&&(m("ANIMATION_END"),!a.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",g=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},w=b=>{b.target===t&&(c.current=Co(o.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{y.clearTimeout(g),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:N.useCallback(g=>{o.current=g?getComputedStyle(g):null,n(g)},[])}}function Co(s){return s?.animationName||"none"}function n_(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var qo="Tabs",[s_]=Mc(qo,[Lp]),Bp=Lp(),[i_,Bc]=s_(qo),zp=N.forwardRef((s,t)=>{const{__scopeTabs:n,value:o,onValueChange:a,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:m="automatic",...g}=s,y=Ap(f),[x,w]=Pp({prop:o,onChange:a,defaultProp:c??"",caller:qo});return u.jsx(i_,{scope:n,baseId:Op(),value:x,onValueChange:w,orientation:d,dir:y,activationMode:m,children:u.jsx(us.div,{dir:y,"data-orientation":d,...g,ref:t})})});zp.displayName=qo;var Vp="TabsList",Wp=N.forwardRef((s,t)=>{const{__scopeTabs:n,loop:o=!0,...a}=s,c=Bc(Vp,n),d=Bp(n);return u.jsx(Zb,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:o,children:u.jsx(us.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});Wp.displayName=Vp;var qp="TabsTrigger",Hp=N.forwardRef((s,t)=>{const{__scopeTabs:n,value:o,disabled:a=!1,...c}=s,d=Bc(qp,n),f=Bp(n),m=Jp(d.baseId,o),g=Qp(d.baseId,o),y=o===d.value;return u.jsx(e_,{asChild:!0,...f,focusable:!a,active:y,children:u.jsx(us.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":g,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:m,...c,ref:t,onMouseDown:Cr(s.onMouseDown,x=>{!a&&x.button===0&&x.ctrlKey===!1?d.onValueChange(o):x.preventDefault()}),onKeyDown:Cr(s.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&d.onValueChange(o)}),onFocus:Cr(s.onFocus,()=>{const x=d.activationMode!=="manual";!y&&!a&&x&&d.onValueChange(o)})})})});Hp.displayName=qp;var Kp="TabsContent",Gp=N.forwardRef((s,t)=>{const{__scopeTabs:n,value:o,forceMount:a,children:c,...d}=s,f=Bc(Kp,n),m=Jp(f.baseId,o),g=Qp(f.baseId,o),y=o===f.value,x=N.useRef(y);return N.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),u.jsx(Mp,{present:a||y,children:({present:w})=>u.jsx(us.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:g,tabIndex:0,...d,ref:t,style:{...s.style,animationDuration:x.current?"0s":void 0},children:w&&c})})});Gp.displayName=Kp;function Jp(s,t){return`${s}-trigger-${t}`}function Qp(s,t){return`${s}-content-${t}`}var o_=zp,a_=Wp,l_=Hp,c_=Gp;function u_({className:s,...t}){return u.jsx(o_,{"data-slot":"tabs",className:Zr("flex flex-col gap-2",s),...t})}function d_({className:s,...t}){return u.jsx(a_,{"data-slot":"tabs-list",className:Zr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",s),...t})}function Tf({className:s,...t}){return u.jsx(l_,{"data-slot":"tabs-trigger",className:Zr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function Rf({className:s,...t}){return u.jsx(c_,{"data-slot":"tabs-content",className:Zr("flex-1 outline-none",s),...t})}function h_({isOpen:s,onClose:t}){const n=Uc(),[o,a]=N.useState(null),[c,d]=N.useState(null),[f,m]=N.useState(""),[g,y]=N.useState(""),[x,w]=N.useState(""),[b,C]=N.useState(""),[_,E]=N.useState(""),[P,S]=N.useState(""),[O,D]=N.useState("login"),[M,G]=N.useState(""),[H,F]=N.useState(""),[z,de]=N.useState(""),ae=N.useRef(!1);N.useEffect(()=>{s&&!ae.current&&n.clearError?(ae.current=!0,n.clearError()):s||(ae.current=!1)},[s]);const le=N.useRef(O);N.useEffect(()=>{O!==le.current&&n.clearError&&(le.current=O,n.clearError())},[O]);const Re=Qe("leagues-selector",n.user?.id),{data:te=[],isLoading:Q}=Ze(s&&n.isAuthenticated?Re:null,it),pe=Qe("league-display-names",n.user?.id),{data:fe={},mutate:$}=Ze(s&&n.isAuthenticated?pe:null,it);if(!s)return null;const Z=K=>{d(K);const ke=fe[K]||"";m(ke)},J=async K=>{if(!n.user){console.error("Cannot save display name: user not authenticated");return}const ke=f.trim();console.log("Saving display name:",{userId:n.user.id,leagueId:K,displayName:ke});const Fe=await Ne.updateLeagueDisplayName(n.user.id,K,ke);console.log("Update result:",Fe),Fe?(pe&&await $(),d(null),m("")):(console.error("Failed to update display name"),alert("Failed to update display name. Please try again."))},R=()=>{d(null),m("")},U=async K=>{K.preventDefault(),await n.signIn(g,x)&&(y(""),w(""))},X=async K=>{K.preventDefault(),await n.signUp(b,_,P)&&(C(""),E(""),S(""))},oe=async()=>{await n.signOut(),t()},_e=async K=>{K&&K.preventDefault(),await n.requestPasswordReset(M||g)},be=async K=>{await n.signInWithOAuth(K)},he=async K=>{if(K.preventDefault(),H!==z)return;await n.updatePassword(H)&&(F(""),de(""))};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",onClick:t}),u.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-900 border-slate-800 flex flex-col max-h-[85vh] lg:max-h-[700px] w-full lg:w-[600px] rounded-t-3xl lg:rounded-3xl border-t lg:border pointer-events-auto animate-slide-in-bottom lg:animate-none",onClick:K=>K.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 lg:p-8 border-b border-slate-800",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl",children:n.isAuthenticated?"Profile Settings":"Come On In, Guys"}),u.jsx("p",{className:"text-sm text-slate-400 mt-1",children:n.isAuthenticated?"Manage your profile and settings":"No spam ever <3"})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:u.jsx(cr,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:n.isLoading?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"text-slate-400",children:"Loading..."})}):n.isAuthenticated?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"bg-slate-800/50 rounded-2xl p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-semibold",children:n.user?.username||"User"}),u.jsx("p",{className:"text-sm text-slate-400",children:n.user?.email})]}),u.jsxs(Qt,{onClick:oe,variant:"outline",size:"sm",className:"border-slate-700 text-slate-300 hover:bg-slate-700",children:[u.jsx(rv,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-sm text-slate-400 mb-4 font-semibold",children:"LEAGUE DISPLAY NAMES"}),Q?u.jsx("div",{className:"text-center text-slate-400 py-4",children:"Loading leagues..."}):te.length===0?u.jsxs("div",{className:"text-center text-slate-400 py-4",children:[u.jsx("p",{children:"No leagues found."}),u.jsx("p",{className:"text-xs mt-2",children:"Join or create a league to set display names."})]}):u.jsx("div",{className:"space-y-2",children:te.map(K=>{const ke=c===K.id,Fe=fe[K.id]||"Not set";return u.jsx("div",{className:"bg-slate-800/50 rounded-xl p-5",children:u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"truncate",children:K.name}),u.jsx("p",{className:"text-xs text-slate-400",children:K.season})]}),ke?u.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx("input",{type:"text",value:f,onChange:At=>m(At.target.value),className:"px-4 py-2.5 bg-slate-700 border border-slate-600 rounded-xl focus:outline-none focus:border-slate-500 w-32 text-sm",placeholder:"Display name",autoFocus:!0}),u.jsx("button",{onClick:()=>J(K.id),className:"p-2 rounded-lg transition-all hover:bg-slate-700",style:{color:"#BFFF0B"},"aria-label":"Save display name",children:u.jsx(Mo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:R,className:"p-2 rounded-lg text-slate-400 hover:text-slate-300 hover:bg-slate-700 transition-all","aria-label":"Cancel",children:u.jsx(cr,{className:"w-4 h-4"})})]}):u.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx("span",{className:"text-slate-300 text-sm",children:Fe}),u.jsx("button",{onClick:()=>Z(K.id),className:"px-4 py-2 rounded-xl border transition-all hover:bg-slate-700 text-sm font-medium",style:{borderColor:"#BFFF0B",color:"#BFFF0B"},children:"Edit"})]})]})},K.id)})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm text-slate-400 mb-4 font-semibold",children:"SUPPORT"}),u.jsx("p",{className:"text-xs text-slate-400 my-4",children:"This app is built by an individual developer. If you have any issues or feedback, please contact me."}),u.jsx("a",{href:"mailto:support@realitybracket.com?subject=Reality%20Bracket%20Support",className:"block bg-slate-800/50 rounded-xl p-5 hover:bg-slate-800 transition-all",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"rgba(191, 255, 11, 0.1)"},children:u.jsx(sv,{className:"w-5 h-5",style:{color:"#BFFF0B"}})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"mb-1",children:"Contact Support"}),u.jsx("p",{className:"text-xs text-slate-400",children:"Get help or report an issue"})]})]})})]})]}):u.jsx("div",{className:"space-y-8",children:n.isPasswordRecovery?u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl mb-6 font-semibold",children:"Reset Password"}),u.jsxs("form",{onSubmit:he,className:"space-y-5",children:[n.error&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-4 text-sm text-red-400",children:n.error}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"New Password"}),u.jsx(yn,{type:"password",value:H,onChange:K=>F(K.target.value),placeholder:"Enter new password",required:!0,minLength:6,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"Confirm Password"}),u.jsx(yn,{type:"password",value:z,onChange:K=>de(K.target.value),placeholder:"Confirm new password",required:!0,minLength:6,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"}),H&&z&&H!==z&&u.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Passwords do not match"})]}),u.jsx(Qt,{type:"submit",disabled:n.isLoading||H!==z||!H||!z,className:"w-full h-12 rounded-xl font-semibold",style:{backgroundColor:"#BFFF0B",color:"#000"},children:n.isLoading?"Updating...":"Update Password"})]})]}):n.isPasswordResetRequested?u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl mb-6 font-semibold",children:"Check Your Email"}),u.jsxs("div",{className:"bg-green-500/10 border border-green-500/50 rounded-xl p-5 text-sm text-green-400 mb-6",children:[u.jsx("p",{className:"mb-2",children:"Password reset email sent!"}),u.jsx("p",{children:"Please check your email and click the link to reset your password."})]}),u.jsx(Qt,{onClick:()=>{n.clearPasswordResetRequested(),G("")},className:"w-full h-12 rounded-xl font-semibold",style:{backgroundColor:"#BFFF0B",color:"#000"},children:"Back to Login"})]}):u.jsxs(u_,{value:O,onValueChange:K=>D(K),children:[u.jsxs(d_,{className:"w-full bg-slate-800/50 rounded-xl p-1",children:[u.jsx(Tf,{value:"login",className:"flex-1 data-[state=active]:bg-slate-900 rounded-lg",style:{color:O==="login"?"#BFFF0B":"#94a3b8"},children:"Login"}),u.jsx(Tf,{value:"signup",className:"flex-1 data-[state=active]:bg-slate-900 rounded-lg",style:{color:O==="signup"?"#BFFF0B":"#94a3b8"},children:"Sign Up"})]}),u.jsxs(Rf,{value:"login",className:"mt-8",children:[u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs(Qt,{type:"button",onClick:()=>be("google"),className:"w-full h-12 rounded-xl font-medium bg-white hover:bg-gray-100 text-gray-900 border border-gray-300",disabled:n.isLoading,children:[u.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),u.jsxs(Qt,{type:"button",onClick:()=>be("apple"),className:"w-full h-12 rounded-xl font-medium bg-black hover:bg-gray-900 text-white border border-gray-800",disabled:n.isLoading,children:[u.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]})]}),u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-700"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-slate-900 text-slate-400",children:"Or continue with email"})})]}),u.jsxs("form",{onSubmit:U,className:"space-y-5",children:[n.error&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-4 text-sm text-red-400",children:n.error}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"Email"}),u.jsx(yn,{type:"email",value:g,onChange:K=>y(K.target.value),placeholder:"Enter your email",required:!0,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"Password"}),u.jsx(yn,{type:"password",value:x,onChange:K=>w(K.target.value),placeholder:"Enter your password",required:!0,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"button",onClick:K=>{K.preventDefault(),G(g),_e(K)},className:"text-sm text-slate-400 hover:text-slate-300 underline font-medium",children:"Forgot Password?"})}),u.jsx(Qt,{type:"submit",disabled:n.isLoading,className:"w-full h-12 rounded-xl font-semibold",style:{backgroundColor:"#BFFF0B",color:"#000"},children:n.isLoading?"Signing in...":"Sign In"})]})]}),u.jsxs(Rf,{value:"signup",className:"mt-8",children:[u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs(Qt,{type:"button",onClick:()=>be("google"),className:"w-full h-12 rounded-xl font-medium bg-white hover:bg-gray-100 text-gray-900 border border-gray-300",disabled:n.isLoading,children:[u.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),u.jsxs(Qt,{type:"button",onClick:()=>be("apple"),className:"w-full h-12 rounded-xl font-medium bg-black hover:bg-gray-900 text-white border border-gray-800",disabled:n.isLoading,children:[u.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]})]}),u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-slate-700"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-slate-900 text-slate-400",children:"Or continue with email"})})]}),u.jsxs("form",{onSubmit:X,className:"space-y-5",children:[n.error&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-4 text-sm text-red-400",children:n.error}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"Username"}),u.jsx(yn,{type:"text",value:P,onChange:K=>S(K.target.value),placeholder:"Choose a username",required:!0,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"Email"}),u.jsx(yn,{type:"email",value:b,onChange:K=>C(K.target.value),placeholder:"Enter your email",required:!0,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-slate-400 mb-3 block font-medium",children:"Password"}),u.jsx(yn,{type:"password",value:_,onChange:K=>E(K.target.value),placeholder:"Create a password",required:!0,minLength:6,className:"bg-slate-800/50 border-slate-700 text-white rounded-xl h-12"})]}),u.jsx(Qt,{type:"submit",disabled:n.isLoading,className:"w-full h-12 rounded-xl font-semibold",style:{backgroundColor:"#BFFF0B",color:"#000"},children:n.isLoading?"Creating account...":"Sign Up"})]})]})]})})})]})})]})}function f_(){const s=Uc(),[t,n]=N.useState("home"),[o,a]=N.useState(!1),[c,d]=N.useState(!1),[f,m]=N.useState(null),g=[{id:"home",label:"Home",icon:Y0},{id:"roster",label:"Rosters",icon:_v},{id:"league",label:"Leagues",icon:wv}];N.useEffect(()=>{!s.isAuthenticated&&t!=="home"&&n("home")},[s.isAuthenticated,t]);const y=x=>{s.isAuthenticated&&n(x)};return u.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-slate-800 bg-slate-900/50",children:[u.jsxs("div",{className:"flex items-center gap-2 ",children:[u.jsx("div",{className:"w-12 h-12",children:u.jsx("img",{src:Cp,alt:"Reality Bracket Logo",className:"w-full h-full object-contain"})}),u.jsx("h1",{className:"hidden sm:block text-xl lg:text-2xl whitespace-nowrap",style:{color:"#BFFF0B"},children:"Reality Bracket"})]}),s.isAuthenticated&&u.jsx("nav",{className:"hidden lg:flex items-center gap-8 absolute left-1/2 transform -translate-x-1/2",children:g.map(x=>{const w=x.icon,b=t===x.id;return u.jsxs("button",{onClick:()=>y(x.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${b?"text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,style:b?{color:"#BFFF0B"}:{},children:[u.jsx(w,{className:"w-5 h-5"}),u.jsx("span",{children:x.label})]},x.id)})}),u.jsx("div",{className:"flex items-center gap-2",children:s.isAuthenticated?u.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-lg border-2 border-slate-700 transition-all hover:bg-slate-800 text-slate-400 hover:text-slate-300","aria-label":"Account settings",children:u.jsx(q0,{className:"w-5 h-5"})}):u.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 rounded-lg border-2 transition-all hover:bg-slate-800 flex items-center gap-2",style:{borderColor:"#BFFF0B",color:"#BFFF0B"},"aria-label":"Sign in",children:"Sign In"})})]}),u.jsx("main",{className:"flex-1 flex flex-col min-h-0 overflow-hidden pb-16 md:pb-20 lg:pb-0",children:u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t==="home"&&u.jsx(eb,{isAuthenticated:s.isAuthenticated,onLeagueClick:x=>{m(x),n("league")},onSignInClick:()=>d(!0)}),s.isAuthenticated&&t==="roster"&&u.jsx(ib,{selectedLeague:f,onLeagueChange:m}),s.isAuthenticated&&t==="league"&&u.jsx(xb,{selectedLeague:f,onLeagueChange:m,onNavigateToRoster:()=>n("roster")})]})}),s.isAuthenticated&&u.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 flex items-center justify-around border-t border-slate-800 bg-slate-900/95 backdrop-blur-sm z-30",children:g.map(x=>{const w=x.icon,b=t===x.id;return u.jsxs("button",{onClick:()=>y(x.id),className:"flex-1 flex flex-col items-center gap-1 py-3 md:py-4 transition-all",style:{color:b?"#BFFF0B":"#94a3b8"},children:[u.jsx(w,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs",children:x.label})]},x.id)})}),u.jsx(bb,{isOpen:o,onClose:()=>a(!1)}),u.jsx(h_,{isOpen:c,onClose:()=>d(!1)})]})}t0.createRoot(document.getElementById("root")).render(u.jsx(T0,{value:ox,children:u.jsx(f_,{})}));
